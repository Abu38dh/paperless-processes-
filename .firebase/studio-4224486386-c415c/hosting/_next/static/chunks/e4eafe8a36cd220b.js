(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let t,r,n,s,a,l,i,o,d,c,u;var m,p,h,f,x,g,v,b,y,j,w,N,k,S,C,_,R,E,D,M,I,A,L,z,P,T,O=e.i(43476),F=e.i(71645),$=e.i(20783),q=Symbol.for("react.lazy"),H=F[" use ".trim().toString()];function B(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===q&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function U(e){var t;let r,n=(t=e,(r=F.forwardRef((e,t)=>{let{children:r,...n}=e;if(B(r)&&"function"==typeof H&&(r=H(r._payload)),F.isValidElement(r)){var s;let e,a,l=(s=r,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),i=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==F.Fragment&&(i.ref=t?(0,$.composeRefs)(t,l):l),F.cloneElement(r,i)}return F.Children.count(r)>1?F.Children.only(null):null})).displayName=`${t}.SlotClone`,r),s=F.forwardRef((e,t)=>{let{children:r,...s}=e;B(r)&&"function"==typeof H&&(r=H(r._payload));let a=F.Children.toArray(r),l=a.find(K);if(l){let e=l.props.children,r=a.map(t=>t!==l?t:F.Children.count(e)>1?F.Children.only(null):F.isValidElement(e)?e.props.children:null);return(0,O.jsx)(n,{...s,ref:t,children:F.isValidElement(e)?F.cloneElement(e,void 0,r):null})}return(0,O.jsx)(n,{...s,ref:t,children:r})});return s.displayName=`${e}.Slot`,s}var W=U("Slot"),V=Symbol("radix.slottable");function K(e){return F.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===V}var X=e.i(25913),Y=e.i(47163);let G=(0,X.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function J({className:e,variant:t,size:r,asChild:n=!1,...s}){return(0,O.jsx)(n?W:"button",{"data-slot":"button",className:(0,Y.cn)(G({variant:t,size:r,className:e})),...s})}function Z({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"card",className:(0,Y.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Q({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"card-header",className:(0,Y.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ee({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"card-title",className:(0,Y.cn)("leading-none font-semibold",e),...t})}function et({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"card-description",className:(0,Y.cn)("text-muted-foreground text-sm",e),...t})}function er({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"card-content",className:(0,Y.cn)("px-6",e),...t})}function en({className:e,type:t,...r}){return(0,O.jsx)("input",{type:t,"data-slot":"input",className:(0,Y.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var es=e.i(74080),ea=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=U(`Primitive.${t}`),n=F.forwardRef((e,n)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,O.jsx)(s?r:t,{...a,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),el=F.forwardRef((e,t)=>(0,O.jsx)(ea.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function ei({className:e,required:t,...r}){return(0,O.jsxs)(el,{"data-slot":"label",className:(0,Y.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r,children:[r.children,t&&(0,O.jsx)("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]})}el.displayName="Label";let eo=(0,X.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ed({className:e,variant:t,...r}){return(0,O.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,Y.cn)(eo({variant:t}),e),...r})}function ec({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"alert-title",className:(0,Y.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function eu({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"alert-description",className:(0,Y.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}var em=e.i(75254);let ep=(0,em.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var eh=e.i(95187);let ef=(0,eh.createServerReference)("60f3e9d8647476a642bb6243ced88fbc7fed3b9c39",eh.callServer,void 0,eh.findSourceMapURL,"loginUser");function ex({onLogin:e}){let[t,r]=(0,F.useState)(""),[n,s]=(0,F.useState)(""),[a,l]=(0,F.useState)(""),[i,o]=(0,F.useState)(!1),d=async r=>{r.preventDefault(),l(""),o(!0);try{let r=await ef(t,n);if(r.success&&r.user){let t={university_id:r.user.university_id,full_name:r.user.full_name,role:r.user.role,permissions:r.user.permissions||[],department_id:r.user.department_id};sessionStorage.setItem("current_user",JSON.stringify(t)),e(r.user.role,r.user.permissions)}else l(r.error||"ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„")}catch{l("Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹")}finally{o(!1)}};return(0,O.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 to-secondary/5 p-4",children:(0,O.jsxs)("div",{className:"w-full max-w-md",children:[(0,O.jsxs)("div",{className:"text-center mb-8",children:[(0,O.jsx)("div",{className:"flex justify-center mb-4",children:(0,O.jsx)("img",{src:"/university-logo.png",alt:"Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¹Ø±Ø¨",className:"h-32"})}),(0,O.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª"}),(0,O.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:"Correspondence System"})]}),(0,O.jsxs)(Z,{className:"shadow-lg border-0",children:[(0,O.jsxs)(Q,{className:"bg-primary/5 border-b border-slate-200 text-center py-6",children:[(0,O.jsx)(ee,{className:"text-primary text-2xl",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"}),(0,O.jsx)(et,{children:"Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ù…Ù„Ùƒ"})]}),(0,O.jsx)(er,{className:"pt-6",children:(0,O.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{htmlFor:"username",className:"text-foreground",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ¯"}),(0,O.jsx)(en,{id:"username",type:"text",placeholder:"20123456 Ø£Ùˆ EMP001 Ø£Ùˆ admin",value:t,onChange:e=>r(e.target.value),className:"border-slate-200 text-right",disabled:i,autoComplete:"off"})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{htmlFor:"password",className:"text-foreground",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"}),(0,O.jsx)(en,{id:"password",type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:n,onChange:e=>s(e.target.value),className:"border-slate-200",disabled:i,autoComplete:"off"})]}),a&&(0,O.jsxs)(ed,{variant:"destructive",children:[(0,O.jsx)(ep,{className:"h-4 w-4"}),(0,O.jsx)(eu,{children:a})]}),(0,O.jsx)(J,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold",disabled:i,children:i?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„...":"Ø¯Ø®ÙˆÙ„"})]})})]}),(0,O.jsx)("div",{className:"text-center mt-6 text-xs text-muted-foreground",children:(0,O.jsx)("p",{children:"Â© 2025 Al-Arab University. Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¹Ø±Ø¨"})})]})})}let eg=(0,em.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ev=(0,em.default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),eb=(0,em.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function ey({userType:e,onLogout:t,onMenuClick:r}){return(0,O.jsxs)("header",{className:"bg-card border-b border-slate-200 px-6 py-4 flex items-center justify-between",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex items-center gap-4",children:[r&&(0,O.jsx)(J,{variant:"ghost",size:"icon",className:"md:hidden",onClick:r,children:(0,O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,O.jsx)("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),(0,O.jsx)("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),(0,O.jsx)("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]})}),(0,O.jsx)("img",{src:"/university-logo.png",alt:"Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¹Ø±Ø¨",className:"h-10"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-lg font-bold text-foreground hidden sm:block",children:"Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª"}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground hidden sm:block",children:"Al-Arab University"})]})]}),(0,O.jsxs)("div",{className:"flex items-center gap-4",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-lg bg-primary/10",children:[(0,O.jsx)(eb,{className:"w-4 h-4 text-primary"}),(0,O.jsx)("span",{className:"text-sm font-medium text-primary",children:e})]}),(0,O.jsx)(J,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:(0,O.jsx)(ev,{className:"w-5 h-5"})}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:t,className:"text-muted-foreground hover:text-destructive",children:(0,O.jsx)(eg,{className:"w-5 h-5"})})]})]})}let ej=(0,em.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ew=(0,em.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),eN=(0,em.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ek=(0,em.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),eS=(0,em.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),eC=(0,em.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),e_=(0,em.default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),eR=(0,em.default)("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),eE=(0,em.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);function eD({currentView:e,onViewChange:t,userRole:r="student",permissions:n=[],className:s}){let a,l=e=>n.includes("all")||n.includes(e),i={student:[{id:"requests",label:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª",icon:ej},{id:"submit",label:"Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯",icon:ew},{id:"settings",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:eN}],admin:[{id:"home",label:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…",icon:ek},{id:"forms",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬",icon:ej},{id:"workflows",label:"Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„",icon:eC},{id:"departments",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",icon:eS},{id:"colleges",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª",icon:eE},{id:"users",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",icon:eS},{id:"reports",label:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",icon:ek}],employee:(a=[{id:"requests",label:"Ø·Ù„Ø¨Ø§ØªÙŠ",icon:ej},{id:"submit",label:"Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯",icon:ew}],l("review_requests")&&a.push({id:"inbox",label:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯",icon:eR}),l("manage_forms")&&a.push({id:"forms",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬",icon:ej}),l("manage_users")&&a.push({id:"users",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",icon:eS}),l("manage_departments")&&a.push({id:"departments",label:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",icon:eE}),l("view_reports")&&a.push({id:"reports",label:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±",icon:ek}),l("manage_workflows")&&a.push({id:"workflows",label:"Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„",icon:eC}),a.push({id:"history",label:"Ø³Ø¬Ù„ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª",icon:e_}),a.push({id:"settings",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:eN}),a),reviewer:[{id:"requests",label:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯",icon:eR},{id:"submit",label:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©",icon:e_},{id:"settings",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",icon:eN}]}[r];return(0,O.jsxs)("aside",{className:`w-64 bg-card border-l border-slate-200 p-4 space-y-2 overflow-y-auto h-screen ${s||""}`,children:[(0,O.jsx)("div",{className:"mb-4 p-2 bg-primary/10 rounded-lg",children:(0,O.jsxs)("p",{className:"text-xs font-semibold text-primary capitalize",children:["student"===r&&"Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø§Ù„Ø¨","admin"===r&&"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©","employee"===r&&"Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ¸Ù","reviewer"===r&&"Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹"]})}),i.map(r=>{let n=r.icon,s=e===r.id;return(0,O.jsxs)(J,{onClick:()=>t(r.id),variant:s?"default":"ghost",className:`w-full justify-start gap-3 ${s?"bg-primary text-primary-foreground":"text-foreground hover:bg-primary/10"}`,children:[(0,O.jsx)(n,{className:"w-5 h-5"}),r.label]},r.id)})]})}let eM=(0,em.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function eI({requests:e,selectedId:t,onSelect:r,loading:n}){let[s,a]=(0,F.useState)(""),l=e.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.type.toLowerCase().includes(s.toLowerCase())||e.id.includes(s)),i={pending:"bg-secondary/10 text-secondary",approved:"bg-primary/10 text-primary",rejected:"bg-red-100 text-red-800",processing:"bg-blue-100 text-blue-800",approved_with_changes:"bg-primary/10 text-primary",rejected_with_changes:"bg-secondary/10 text-secondary"},o={pending:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",approved:"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡",rejected:"Ù…Ø±ÙÙˆØ¶",processing:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",approved_with_changes:"Ù…ÙˆØ§ÙÙ‚ Ø¨ØªØ¹Ø¯ÙŠÙ„Ø§Øª",rejected_with_changes:"Ù…Ø¹Ø§Ø¯ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„"};return(0,O.jsxs)("div",{className:"p-4 space-y-3",children:[(0,O.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsxs)("div",{className:"relative mb-4",children:[(0,O.jsx)(eM,{className:"absolute right-3 top-2.5 h-4 w-4 text-muted-foreground"}),(0,O.jsx)(en,{placeholder:"Ø¨Ø­Ø«...",className:"pr-9",value:s,onChange:e=>a(e.target.value)})]}),l.map(e=>(0,O.jsxs)(Z,{onClick:()=>r(e.id),className:`p-4 cursor-pointer transition-all border ${t===e.id?"border-primary bg-primary/5 shadow-md":"border-slate-200 hover:border-primary/50"}`,children:[(0,O.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,O.jsx)("h4",{className:"font-semibold text-foreground",children:e.title}),(0,O.jsx)("span",{className:`text-xs px-2 py-1 rounded ${i[e.status]}`,children:o[e.status]})]}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.type}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:e.date})]},e.id))]})}let eA=(0,em.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),eL=(0,em.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ez=(0,em.default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),eP=(0,em.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function eT({workflow:e}){let t,r=e.findIndex(e=>"processing"===e.status||"pending"===e.status);if(-1===r)if(e.every(e=>"approved"===e.status));else{let t=e.findIndex(e=>"rejected"===e.status);-1!==t&&e.slice(0,t+1)}else e.slice(0,r),t=e[r],e.slice(r+1);return(0,O.jsxs)("div",{className:"space-y-6",children:[(0,O.jsx)("div",{className:"flex items-center gap-2 flex-wrap overflow-x-auto pb-2",children:e.map((t,r)=>{let n="bg-white border-gray-200 text-gray-500";return"approved"===t.status?n="bg-teal-50 border-teal-200 text-teal-700 font-medium":"processing"===t.status?n="bg-blue-50 border-blue-200 text-blue-700 font-medium ring-2 ring-blue-100":"rejected"===t.status&&(n="bg-red-50 border-red-200 text-red-700"),(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsxs)("div",{className:`flex items-center px-4 py-1.5 rounded-full border text-sm transition-colors whitespace-nowrap ${n}`,children:["approved"===t.status&&(0,O.jsx)(e_,{className:"w-3.5 h-3.5 ml-2"}),"processing"===t.status&&(0,O.jsx)(eA,{className:"w-3.5 h-3.5 ml-2 animate-pulse"}),t.department]}),r<e.length-1&&(0,O.jsx)("div",{className:"mx-2 text-gray-300",children:(0,O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"rotate-180",children:(0,O.jsx)("path",{d:"m9 18 6-6-6-6"})})})]},t.step)})}),t&&(0,O.jsx)(Z,{className:"p-4 border border-blue-100 bg-blue-50/30",children:(0,O.jsxs)("div",{className:"flex items-start gap-4",children:[(0,O.jsx)("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600 mt-1",children:(0,O.jsx)(eA,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Ø§Ù„Ø·Ù„Ø¨ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¹Ù†Ø¯:"}),(0,O.jsx)("h4",{className:"text-lg font-bold text-gray-900",children:t.department}),(0,O.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t.role})]})]})})]})}var eO=e.i(7492);function eF({request:e,onEdit:t}){let[r,n]=(0,F.useState)([]);(0,F.useEffect)(()=>{!async function(){n(await (0,eO.getRequestActions)(e.id))}()},[e.id]);let s={pending:{color:"bg-secondary/10 text-secondary",icon:eA,label:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"},approved:{color:"bg-primary/10 text-primary",icon:e_,label:"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡"},rejected:{color:"bg-red-100 text-red-800",icon:e_,label:"Ù…Ø±ÙÙˆØ¶"},processing:{color:"bg-blue-100 text-blue-800",icon:eA,label:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"},approved_with_changes:{color:"bg-primary/10 text-primary",icon:e_,label:"Ù…ÙˆØ§ÙÙ‚ Ø¨ØªØ¹Ø¯ÙŠÙ„Ø§Øª"},rejected_with_changes:{color:"bg-secondary/10 text-secondary",icon:eP,label:"Ù…Ø¹Ø§Ø¯ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„"}},a=s[e.status]||s.pending,l=a.icon;return(0,O.jsxs)("div",{className:"p-6 space-y-6",children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:e.title}),(0,O.jsxs)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.color}`,children:[(0,O.jsx)(l,{className:"w-4 h-4 inline ml-1"}),a.label]})]}),(0,O.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),(0,O.jsx)(Z,{className:"p-4 bg-primary/5 border border-primary/20",children:(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("p",{className:"font-semibold text-foreground",children:e.type})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…"}),(0,O.jsx)("p",{className:"font-semibold text-foreground",children:e.date})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("p",{className:"font-semibold text-foreground font-mono",children:e.id})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),(0,O.jsx)("p",{className:"font-semibold text-foreground",children:a.label})]})]})}),e.workflow&&e.workflow.length>0&&(0,O.jsx)(eT,{workflow:e.workflow}),(0,O.jsxs)("div",{className:"space-y-3",children:[(0,O.jsx)("h3",{className:"font-semibold text-foreground",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"}),(0,O.jsxs)("div",{className:"flex gap-3",children:["approved"===e.status&&(0,O.jsxs)(J,{className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,O.jsx)(eL,{className:"w-4 h-4"}),"ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© (PDF)"]}),("pending"===e.status||"rejected_with_changes"===e.status)&&t&&(0,O.jsxs)(J,{onClick:t,variant:"outline",className:"gap-2 bg-transparent",children:[(0,O.jsx)(eP,{className:"w-4 h-4"}),"ØªØ¹Ø¯ÙŠÙ„"]}),(0,O.jsxs)(J,{variant:"outline",className:"gap-2 bg-transparent",children:[(0,O.jsx)(ez,{className:"w-4 h-4"}),"ØªØ¹Ù„ÙŠÙ‚"]})]})]}),(0,O.jsxs)("div",{className:"bg-card border border-slate-200 rounded-lg p-4 space-y-3",children:[(0,O.jsx)("h3",{className:"font-semibold text-foreground mb-4",children:"Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª"}),(0,O.jsx)("div",{className:"relative space-y-8 pr-4 border-r border-slate-200",children:r.length>0?r.map((e,t)=>(0,O.jsxs)("div",{className:"relative",children:[(0,O.jsx)("span",{className:"absolute -right-[21px] top-1 h-3 w-3 rounded-full bg-primary ring-4 ring-background"}),(0,O.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("span",{className:"font-semibold text-sm text-foreground",children:e.action}),(0,O.jsxs)("span",{className:"text-xs text-muted-foreground",children:["- ",new Date(e.timestamp).toLocaleDateString("ar-SA")," ",new Date(e.timestamp).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})]})]}),(0,O.jsxs)("p",{className:"text-sm text-foreground/80",children:[(0,O.jsx)("span",{className:"font-medium text-primary",children:e.actorName})," (",e.actorRole,")"]}),e.comment&&(0,O.jsx)("div",{className:"mt-1 p-2 bg-slate-50 rounded text-xs text-muted-foreground border border-slate-100",children:e.comment})]})]},e.id)):(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¬Ù„ Ù†Ø´Ø§Ø·Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨"})})]})]})}let e$=(0,em.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),eq=(0,em.default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),eH=(0,em.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var eB=e.i(84598);let eU=(0,eh.createServerReference)("40d432c0ba375255ac05cd3402a59c4ed0c92f6f2c",eh.callServer,void 0,eh.findSourceMapURL,"getFormTemplate");function eW({requestType:e,requestTypes:t=[],userId:r,onBack:n,onSubmit:s}){let[a,l]=(0,F.useState)({}),[i,o]=(0,F.useState)([]),[d,c]=(0,F.useState)(!0),[u,m]=(0,F.useState)(!1),[p,h]=(0,F.useState)(null),[f,x]=(0,F.useState)("");(0,F.useEffect)(()=>{let t=async()=>{c(!0);try{let t=await eU(parseInt(e));t.success&&t.data?(o(t.data.schema),x(t.data.name)):h("ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨")}catch(e){h("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬")}finally{c(!1)}};e&&t()},[e]);let g=(e,t)=>{l(r=>({...r,[e]:t}))},v=async t=>{t.preventDefault(),m(!0),h(null);try{let t=i.filter(e=>e.required&&!a[e.key]).map(e=>e.label);if(t.length>0){h(`ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${t.join(", ")}`),m(!1);return}let n=await (0,eB.submitRequest)({formId:e,userId:r,...a});n.success?s(a):h(n.error||"ÙØ´Ù„ ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨")}catch(e){h("Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹")}finally{m(!1)}};return d?(0,O.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,O.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,O.jsxs)("div",{className:"space-y-6 max-w-5xl mx-auto",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-6",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:f}),(0,O.jsxs)(J,{onClick:n,variant:"ghost",size:"sm",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]}),(0,O.jsxs)(Z,{className:"shadow-sm",children:[(0,O.jsxs)(Q,{className:"border-b bg-muted/30 pb-6",children:[(0,O.jsx)(ee,{className:"text-xl",children:"ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯"}),(0,O.jsx)(et,{className:"text-base mt-2",children:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£Ø¯Ù†Ø§Ù‡ Ø¨Ø¯Ù‚Ø©"})]}),(0,O.jsx)(er,{className:"pt-8",children:(0,O.jsxs)("form",{onSubmit:v,className:"space-y-8",children:[p&&(0,O.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive p-4 rounded-lg text-sm flex items-start gap-3",children:[(0,O.jsx)("span",{className:"text-lg",children:"âš ï¸"}),(0,O.jsx)("span",{children:p})]}),0===i.length?(0,O.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù‚ÙˆÙ„ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"}):i.map(e=>(0,O.jsxs)("div",{className:"space-y-3",children:["section"===e.type&&(0,O.jsx)("div",{className:"bg-muted/40 -mx-6 px-6 py-4 mb-6 mt-8 first:mt-0",children:(0,O.jsxs)("h3",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[(0,O.jsx)("span",{className:"text-primary",children:"â–ª"}),e.label]})}),"section"!==e.type&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ei,{className:"block text-base font-semibold text-foreground mb-2",required:e.required,children:e.label}),"text"===e.type&&(0,O.jsx)(en,{type:"text",placeholder:e.placeholder,value:a[e.key]||"",onChange:t=>g(e.key,t.target.value),required:e.required,className:"text-right h-11 text-base"}),"longtext"===e.type&&(0,O.jsx)("textarea",{placeholder:e.placeholder,value:a[e.key]||"",onChange:t=>g(e.key,t.target.value),required:e.required,className:"w-full px-4 py-3 border border-input rounded-lg text-right focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent min-h-[120px] text-base bg-background resize-y",rows:4}),"number"===e.type&&(0,O.jsx)(en,{type:"number",placeholder:e.placeholder,value:a[e.key]||"",onChange:t=>g(e.key,t.target.value),required:e.required,className:"text-right h-11 text-base"}),"date"===e.type&&(0,O.jsx)(en,{type:"date",value:a[e.key]||"",onChange:t=>g(e.key,t.target.value),required:e.required,className:"text-right h-11 text-base"}),"select"===e.type&&(0,O.jsxs)("select",{value:a[e.key]||"",onChange:t=>g(e.key,t.target.value),className:"w-full h-11 px-4 py-2 border border-input rounded-lg bg-background text-foreground text-right text-base focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent",required:e.required,children:[(0,O.jsx)("option",{value:"",children:"Ø§Ø®ØªØ±..."}),e.options?.map(e=>(0,O.jsx)("option",{value:e.label,children:e.label},e.id))]}),"radio"===e.type&&(0,O.jsx)("div",{className:"space-y-3 pr-2",children:e.options?.map(t=>(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)("input",{type:"radio",name:e.key,id:`${e.key}-${t.id}`,value:t.label,checked:a[e.key]===t.label,onChange:t=>g(e.key,t.target.value),className:"w-4 h-4 text-primary cursor-pointer"}),(0,O.jsx)(ei,{htmlFor:`${e.key}-${t.id}`,className:"text-base cursor-pointer select-none",children:t.label})]},t.id))}),"checkbox"===e.type&&(0,O.jsx)("div",{className:"space-y-3 pr-2",children:e.options?.map(t=>(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)("input",{type:"checkbox",id:`${e.key}-${t.id}`,value:t.label,checked:Array.isArray(a[e.key])&&a[e.key].includes(t.label),onChange:r=>{let n,s=Array.isArray(a[e.key])?a[e.key]:[];n=r.target.checked?[...s,t.label]:s.filter(e=>e!==t.label),g(e.key,n)},className:"w-4 h-4 text-primary rounded cursor-pointer"}),(0,O.jsx)(ei,{htmlFor:`${e.key}-${t.id}`,className:"text-base cursor-pointer select-none",children:t.label})]},t.id))}),"file"===e.type&&(0,O.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:bg-muted/30 hover:border-primary/50 transition-all cursor-pointer",children:[(0,O.jsx)(en,{type:"file",className:"hidden",id:`file-${e.id}`,onChange:t=>{t.target.files?.[0]&&g(e.key,t.target.files[0].name)}}),(0,O.jsxs)(ei,{htmlFor:`file-${e.id}`,className:"cursor-pointer flex flex-col items-center gap-3",children:[(0,O.jsx)(eH,{className:"w-10 h-10 text-muted-foreground"}),(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("p",{className:"text-base font-medium text-foreground",children:a[e.key]?a[e.key]:"Ø§Ø¶ØºØ· Ù„Ø±ÙØ¹ Ù…Ù„Ù"}),!a[e.key]&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø£Ùˆ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„Ù ÙˆØ£ÙÙ„ØªÙ‡ Ù‡Ù†Ø§"})]})]})]})]})]},e.id)),(0,O.jsxs)("div",{className:"flex gap-4 justify-end pt-6 border-t mt-8",children:[(0,O.jsx)(J,{onClick:n,variant:"outline",type:"button",size:"lg",className:"px-8",children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(J,{type:"submit",size:"lg",className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-8",disabled:u,children:u?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Ø¬Ø§Ø±Ù Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…..."]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(eq,{className:"w-4 h-4"}),"ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø·Ù„Ø¨"]})})]})]})})]})]})}let eV=(0,em.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function eK(){return(0,O.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,O.jsx)(eV,{className:"h-10 w-10 animate-spin text-orange-500"})})}function eX(){return(0,O.jsx)(eK,{})}function eY({rows:e=5}){return(0,O.jsx)(eK,{})}let eG=(0,em.default)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),eJ=(0,em.default)("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),eZ=(0,em.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function eQ({error:e="Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",title:t="Ø®Ø·Ø£",onRetry:r,variant:n="alert"}){let s=()=>{let t=e?.toLowerCase()||"";return t.includes("connection")||t.includes("network")?(0,O.jsx)(eG,{className:"h-5 w-5"}):t.includes("server")||t.includes("database")?(0,O.jsx)(eJ,{className:"h-5 w-5"}):(0,O.jsx)(ep,{className:"h-5 w-5"})};return"card"===n?(0,O.jsx)(Z,{className:"border-destructive/50 bg-destructive/5",children:(0,O.jsx)(er,{className:"pt-6",children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[(0,O.jsx)("div",{className:"h-12 w-12 rounded-full bg-destructive/10 flex items-center justify-center text-destructive",children:s()}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"font-semibold text-foreground mb-1",children:t}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:e})]}),r&&(0,O.jsxs)(J,{onClick:r,variant:"outline",size:"sm",children:[(0,O.jsx)(eZ,{className:"h-4 w-4 me-2"}),"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"]})]})})}):"inline"===n?(0,O.jsxs)("div",{className:"flex items-center gap-3 text-destructive text-sm p-3 bg-destructive/5 rounded-md",children:[s(),(0,O.jsx)("p",{className:"flex-1",children:e}),r&&(0,O.jsx)(J,{onClick:r,variant:"ghost",size:"sm",children:(0,O.jsx)(eZ,{className:"h-4 w-4"})})]}):(0,O.jsxs)(ed,{variant:"destructive",children:[s(),(0,O.jsx)(ec,{children:t}),(0,O.jsxs)(eu,{className:"mt-2",children:[e,r&&(0,O.jsx)("div",{className:"mt-3",children:(0,O.jsxs)(J,{onClick:r,variant:"outline",size:"sm",children:[(0,O.jsx)(eZ,{className:"h-4 w-4 me-2"}),"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"]})})]})]})}function e0({icon:e,title:t,description:r,action:n}){return(0,O.jsx)(Z,{children:(0,O.jsx)(er,{className:"py-16",children:(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4",children:[(0,O.jsx)("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center text-4xl",children:"string"==typeof e?e:e||"ðŸ“­"}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"font-semibold text-foreground text-lg mb-2",children:t}),r&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground max-w-md",children:r})]}),n&&(0,O.jsx)(J,{onClick:n.onClick,className:"mt-2",children:n.label})]})})})}var e1=e.i(97402);let e2=(0,eh.createServerReference)("401b03012f95ef1f90782065d83bfc5972064026b7",eh.callServer,void 0,eh.findSourceMapURL,"getAvailableFormTemplates"),e4=(0,X.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function e5({className:e,variant:t,asChild:r=!1,...n}){return(0,O.jsx)(r?W:"span",{"data-slot":"badge",className:(0,Y.cn)(e4({variant:t}),e),...n})}var e3=e.i(81140),e6=e.i(30030),e8=e.i(34620),e7=F[" useId ".trim().toString()]||(()=>void 0),e9=0;function te(e){let[t,r]=F.useState(e7());return(0,e8.useLayoutEffect)(()=>{e||r(e=>e??String(e9++))},[e]),e||(t?`radix-${t}`:"")}var tt=e.i(69340),tr=e.i(26330),tn=e.i(48425),ts=e.i(30207),ta="focusScope.autoFocusOnMount",tl="focusScope.autoFocusOnUnmount",ti={bubbles:!1,cancelable:!0},to=F.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[i,o]=F.useState(null),d=(0,ts.useCallbackRef)(s),c=(0,ts.useCallbackRef)(a),u=F.useRef(null),m=(0,$.useComposedRefs)(t,e=>o(e)),p=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let e=function(e){if(p.paused||!i)return;let t=e.target;i.contains(t)?u.current=t:tu(u.current,{select:!0})},t=function(e){if(p.paused||!i)return;let t=e.relatedTarget;null!==t&&(i.contains(t)||tu(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tu(i)});return i&&r.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,i,p.paused]),F.useEffect(()=>{if(i){tm.add(p);let e=document.activeElement;if(!i.contains(e)){let t=new CustomEvent(ta,ti);i.addEventListener(ta,d),i.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(tu(n,{select:t}),document.activeElement!==r)return}(td(i).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tu(i))}return()=>{i.removeEventListener(ta,d),setTimeout(()=>{let t=new CustomEvent(tl,ti);i.addEventListener(tl,c),i.dispatchEvent(t),t.defaultPrevented||tu(e??document.body,{select:!0}),i.removeEventListener(tl,c),tm.remove(p)},0)}}},[i,d,c,p]);let h=F.useCallback(e=>{if(!r&&!n||p.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){var a;let t,n=e.currentTarget,[l,i]=[tc(t=td(a=n),a),tc(t.reverse(),a)];l&&i?e.shiftKey||s!==i?e.shiftKey&&s===l&&(e.preventDefault(),r&&tu(i,{select:!0})):(e.preventDefault(),r&&tu(l,{select:!0})):s===n&&e.preventDefault()}},[r,n,p.paused]);return(0,O.jsx)(tn.Primitive.div,{tabIndex:-1,...l,ref:m,onKeyDown:h})});function td(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tc(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function tu(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}to.displayName="FocusScope";var tm=(d=[],{add(e){let t=d[0];e!==t&&t?.pause(),(d=tp(d,e)).unshift(e)},remove(e){d=tp(d,e),d[0]?.resume()}});function tp(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var th=e.i(74606),tf=e.i(96626),tx=0;function tg(){F.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tv()),document.body.insertAdjacentElement("beforeend",e[1]??tv()),tx++,()=>{1===tx&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tx--}},[])}function tv(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tb=function(){return(tb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function ty(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}var tj=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),tw="width-before-scroll-bar";function tN(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var tk="undefined"!=typeof window?F.useLayoutEffect:F.useEffect,tS=new WeakMap,tC=(void 0===m&&(m={}),(void 0===p&&(p=function(e){return e}),h=[],f=!1,x={read:function(){if(f)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return h.length?h[h.length-1]:null},useMedium:function(e){var t=p(e,f);return h.push(t),function(){h=h.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(f=!0;h.length;){var t=h;h=[],t.forEach(e)}h={push:function(t){return e(t)},filter:function(){return h}}},assignMedium:function(e){f=!0;var t=[];if(h.length){var r=h;h=[],r.forEach(e),t=h}var n=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(n)};s(),h={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),h}}}}).options=tb({async:!0,ssr:!1},m),x),t_=function(){},tR=F.forwardRef(function(e,t){var r,n,s,a,l=F.useRef(null),i=F.useState({onScrollCapture:t_,onWheelCapture:t_,onTouchMoveCapture:t_}),o=i[0],d=i[1],c=e.forwardProps,u=e.children,m=e.className,p=e.removeScrollBar,h=e.enabled,f=e.shards,x=e.sideCar,g=e.noRelative,v=e.noIsolation,b=e.inert,y=e.allowPinchZoom,j=e.as,w=e.gapMode,N=ty(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(r=[l,t],n=function(e){return r.forEach(function(t){return tN(t,e)})},(s=(0,F.useState)(function(){return{value:null,callback:n,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=n,a=s.facade,tk(function(){var e=tS.get(a);if(e){var t=new Set(e),n=new Set(r),s=a.current;t.forEach(function(e){n.has(e)||tN(e,null)}),n.forEach(function(e){t.has(e)||tN(e,s)})}tS.set(a,r)},[r]),a),S=tb(tb({},N),o);return F.createElement(F.Fragment,null,h&&F.createElement(x,{sideCar:tC,removeScrollBar:p,shards:f,noRelative:g,noIsolation:v,inert:b,setCallbacks:d,allowPinchZoom:!!y,lockRef:l,gapMode:w}),c?F.cloneElement(F.Children.only(u),tb(tb({},S),{ref:k})):F.createElement(void 0===j?"div":j,tb({},S,{className:m,ref:k}),u))});tR.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},tR.classNames={fullWidth:tw,zeroRight:tj};var tE=function(e){var t=e.sideCar,r=ty(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return F.createElement(n,tb({},r))};tE.isSideCarExport=!0;var tD=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,s;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tM=function(){var e=tD();return function(t,r){F.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tI=function(){var e=tM();return function(t){return e(t.styles,t.dynamic),null}},tA={left:0,top:0,right:0,gap:0},tL=function(e){return parseInt(e||"",10)||0},tz=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[tL(r),tL(n),tL(s)]},tP=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return tA;var t=tz(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},tT=tI(),tO="data-scroll-locked",tF=function(e,t,r,n){var s=e.left,a=e.top,l=e.right,i=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(i,"px ").concat(n,";\n  }\n  body[").concat(tO,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(tj," {\n    right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(tw," {\n    margin-right: ").concat(i,"px ").concat(n,";\n  }\n  \n  .").concat(tj," .").concat(tj," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(tw," .").concat(tw," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(tO,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},t$=function(){var e=parseInt(document.body.getAttribute(tO)||"0",10);return isFinite(e)?e:0},tq=function(){F.useEffect(function(){return document.body.setAttribute(tO,(t$()+1).toString()),function(){var e=t$()-1;e<=0?document.body.removeAttribute(tO):document.body.setAttribute(tO,e.toString())}},[])},tH=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n;tq();var a=F.useMemo(function(){return tP(s)},[s]);return F.createElement(tT,{styles:tF(a,!t,s,r?"":"!important")})},tB=!1;if("undefined"!=typeof window)try{var tU=Object.defineProperty({},"passive",{get:function(){return tB=!0,!0}});window.addEventListener("test",tU,tU),window.removeEventListener("test",tU,tU)}catch(e){tB=!1}var tW=!!tB&&{passive:!1},tV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},tK=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),tX(e,n)){var s=tY(e,n);if(s[1]>s[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},tX=function(e,t){return"v"===e?tV(t,"overflowY"):tV(t,"overflowX")},tY=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},tG=function(e,t,r,n,s){var a,l=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),i=l*n,o=r.target,d=t.contains(o),c=!1,u=i>0,m=0,p=0;do{if(!o)break;var h=tY(e,o),f=h[0],x=h[1]-h[2]-l*f;(f||x)&&tX(e,o)&&(m+=x,p+=f);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!d&&o!==document.body||d&&(t.contains(o)||t===o))return u&&(s&&1>Math.abs(m)||!s&&i>m)?c=!0:!u&&(s&&1>Math.abs(p)||!s&&-i>p)&&(c=!0),c},tJ=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tZ=function(e){return[e.deltaX,e.deltaY]},tQ=function(e){return e&&"current"in e?e.current:e},t0=0,t1=[];let t2=(g=function(e){var t=F.useRef([]),r=F.useRef([0,0]),n=F.useRef(),s=F.useState(t0++)[0],a=F.useState(tI)[0],l=F.useRef(e);F.useEffect(function(){l.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(tQ),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=F.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var s,a=tJ(e),i=r.current,o="deltaX"in e?e.deltaX:i[0]-a[0],d="deltaY"in e?e.deltaY:i[1]-a[1],c=e.target,u=Math.abs(o)>Math.abs(d)?"h":"v";if("touches"in e&&"h"===u&&"range"===c.type)return!1;var m=tK(u,c);if(!m)return!0;if(m?s=u:(s="v"===u?"h":"v",m=tK(u,c)),!m)return!1;if(!n.current&&"changedTouches"in e&&(o||d)&&(n.current=s),!s)return!0;var p=n.current||s;return tG(p,t,e,"h"===p?o:d,!0)},[]),o=F.useCallback(function(e){if(t1.length&&t1[t1.length-1]===a){var r="deltaY"in e?tZ(e):tJ(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var s=(l.current.shards||[]).map(tQ).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?i(e,s[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=F.useCallback(function(e,r,n,s){var a={name:e,delta:r,target:n,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),c=F.useCallback(function(e){r.current=tJ(e),n.current=void 0},[]),u=F.useCallback(function(t){d(t.type,tZ(t),t.target,i(t,e.lockRef.current))},[]),m=F.useCallback(function(t){d(t.type,tJ(t),t.target,i(t,e.lockRef.current))},[]);F.useEffect(function(){return t1.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:m}),document.addEventListener("wheel",o,tW),document.addEventListener("touchmove",o,tW),document.addEventListener("touchstart",c,tW),function(){t1=t1.filter(function(e){return e!==a}),document.removeEventListener("wheel",o,tW),document.removeEventListener("touchmove",o,tW),document.removeEventListener("touchstart",c,tW)}},[]);var p=e.removeScrollBar,h=e.inert;return F.createElement(F.Fragment,null,h?F.createElement(a,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,p?F.createElement(tH,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},tC.useMedium(g),tE);var t4=F.forwardRef(function(e,t){return F.createElement(tR,tb({},e,{ref:t,sideCar:t2}))});t4.classNames=tR.classNames;var t5=new WeakMap,t3=new WeakMap,t6={},t8=0,t7=function(e){return e&&(e.host||t7(e.parentNode))},t9=function(e,t,r,n){var s=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=t7(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});t6[r]||(t6[r]=new WeakMap);var a=t6[r],l=[],i=new Set,o=new Set(s),d=function(e){!e||i.has(e)||(i.add(e),d(e.parentNode))};s.forEach(d);var c=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(i.has(e))c(e);else try{var t=e.getAttribute(n),s=null!==t&&"false"!==t,o=(t5.get(e)||0)+1,d=(a.get(e)||0)+1;t5.set(e,o),a.set(e,d),l.push(e),1===o&&s&&t3.set(e,!0),1===d&&e.setAttribute(r,"true"),s||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),i.clear(),t8++,function(){l.forEach(function(e){var t=t5.get(e)-1,s=a.get(e)-1;t5.set(e,t),a.set(e,s),t||(t3.has(e)||e.removeAttribute(n),t3.delete(e)),s||e.removeAttribute(r)}),--t8||(t5=new WeakMap,t5=new WeakMap,t3=new WeakMap,t6={})}},re=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),t9(n,s,r,"aria-hidden")):function(){return null}},rt=Symbol("radix.slottable");function rr(e){return F.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===rt}var rn="Dialog",[rs,ra]=(0,e6.createContextScope)(rn),[rl,ri]=rs(rn),ro=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,i=F.useRef(null),o=F.useRef(null),[d,c]=(0,tt.useControllableState)({prop:n,defaultProp:s??!1,onChange:a,caller:rn});return(0,O.jsx)(rl,{scope:t,triggerRef:i,contentRef:o,contentId:te(),titleId:te(),descriptionId:te(),open:d,onOpenChange:c,onOpenToggle:F.useCallback(()=>c(e=>!e),[c]),modal:l,children:r})};ro.displayName=rn;var rd="DialogTrigger",rc=F.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=ri(rd,r),a=(0,$.useComposedRefs)(t,s.triggerRef);return(0,O.jsx)(tn.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rD(s.open),...n,ref:a,onClick:(0,e3.composeEventHandlers)(e.onClick,s.onOpenToggle)})});rc.displayName=rd;var ru="DialogPortal",[rm,rp]=rs(ru,{forceMount:void 0}),rh=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=ri(ru,t);return(0,O.jsx)(rm,{scope:t,forceMount:r,children:F.Children.map(n,e=>(0,O.jsx)(tf.Presence,{present:r||a.open,children:(0,O.jsx)(th.Portal,{asChild:!0,container:s,children:e})}))})};rh.displayName=ru;var rf="DialogOverlay",rx=F.forwardRef((e,t)=>{let r=rp(rf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ri(rf,e.__scopeDialog);return a.modal?(0,O.jsx)(tf.Presence,{present:n||a.open,children:(0,O.jsx)(rv,{...s,ref:t})}):null});rx.displayName=rf;var rg=((c=F.forwardRef((e,t)=>{let{children:r,...n}=e;if(F.isValidElement(r)){var s;let e,a,l=(s=r,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),i=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==F.Fragment&&(i.ref=t?(0,$.composeRefs)(t,l):l),F.cloneElement(r,i)}return F.Children.count(r)>1?F.Children.only(null):null})).displayName="DialogOverlay.RemoveScroll.SlotClone",n=c,(s=F.forwardRef((e,t)=>{let{children:r,...s}=e,a=F.Children.toArray(r),l=a.find(rr);if(l){let e=l.props.children,r=a.map(t=>t!==l?t:F.Children.count(e)>1?F.Children.only(null):F.isValidElement(e)?e.props.children:null);return(0,O.jsx)(n,{...s,ref:t,children:F.isValidElement(e)?F.cloneElement(e,void 0,r):null})}return(0,O.jsx)(n,{...s,ref:t,children:r})})).displayName="DialogOverlay.RemoveScroll.Slot",s),rv=F.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=ri(rf,r);return(0,O.jsx)(t4,{as:rg,allowPinchZoom:!0,shards:[s.contentRef],children:(0,O.jsx)(tn.Primitive.div,{"data-state":rD(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rb="DialogContent",ry=F.forwardRef((e,t)=>{let r=rp(rb,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=ri(rb,e.__scopeDialog);return(0,O.jsx)(tf.Presence,{present:n||a.open,children:a.modal?(0,O.jsx)(rj,{...s,ref:t}):(0,O.jsx)(rw,{...s,ref:t})})});ry.displayName=rb;var rj=F.forwardRef((e,t)=>{let r=ri(rb,e.__scopeDialog),n=F.useRef(null),s=(0,$.useComposedRefs)(t,r.contentRef,n);return F.useEffect(()=>{let e=n.current;if(e)return re(e)},[]),(0,O.jsx)(rN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,e3.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,e3.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,e3.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),rw=F.forwardRef((e,t)=>{let r=ri(rb,e.__scopeDialog),n=F.useRef(!1),s=F.useRef(!1);return(0,O.jsx)(rN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),rN=F.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=e,i=ri(rb,r),o=F.useRef(null),d=(0,$.useComposedRefs)(t,o);return tg(),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(to,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:(0,O.jsx)(tr.DismissableLayer,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":rD(i.open),...l,ref:d,onDismiss:()=>i.onOpenChange(!1)})}),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(rL,{titleId:i.titleId}),(0,O.jsx)(rz,{contentRef:o,descriptionId:i.descriptionId})]})]})}),rk="DialogTitle",rS=F.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=ri(rk,r);return(0,O.jsx)(tn.Primitive.h2,{id:s.titleId,...n,ref:t})});rS.displayName=rk;var rC="DialogDescription",r_=F.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=ri(rC,r);return(0,O.jsx)(tn.Primitive.p,{id:s.descriptionId,...n,ref:t})});r_.displayName=rC;var rR="DialogClose",rE=F.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,s=ri(rR,r);return(0,O.jsx)(tn.Primitive.button,{type:"button",...n,ref:t,onClick:(0,e3.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function rD(e){return e?"open":"closed"}rE.displayName=rR;var rM="DialogTitleWarning",[rI,rA]=(0,e6.createContext)(rM,{contentName:rb,titleName:rk,docsSlug:"dialog"}),rL=({titleId:e})=>{let t=rA(rM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rz=({contentRef:e,descriptionId:t})=>{let r=rA("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return F.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rP=e.i(41947),rP=rP;function rT({...e}){return(0,O.jsx)(ro,{"data-slot":"sheet",...e})}function rO({...e}){return(0,O.jsx)(rh,{"data-slot":"sheet-portal",...e})}function rF({className:e,...t}){return(0,O.jsx)(rx,{"data-slot":"sheet-overlay",className:(0,Y.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function r$({className:e,children:t,side:r="right",...n}){return(0,O.jsxs)(rO,{children:[(0,O.jsx)(rF,{}),(0,O.jsxs)(ry,{"data-slot":"sheet-content",className:(0,Y.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,(0,O.jsxs)(rE,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 left-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,O.jsx)(rP.default,{className:"size-4"}),(0,O.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function rq({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"sheet-header",className:(0,Y.cn)("flex flex-col gap-1.5 p-4",e),...t})}function rH({className:e,...t}){return(0,O.jsx)(rS,{"data-slot":"sheet-title",className:(0,Y.cn)("text-foreground font-semibold",e),...t})}function rB({onLogout:e,userData:t}){let[r,n]=(0,F.useState)(""),[s,a]=(0,F.useState)("requests"),[l,i]=(0,F.useState)(null),[o,d]=(0,F.useState)(null),[c,u]=(0,F.useState)([]),[m,p]=(0,F.useState)([]),[h,f]=(0,F.useState)({total:0,pending:0,completed:0}),[x,g]=(0,F.useState)(!0),[v,b]=(0,F.useState)(null);(0,F.useEffect)(()=>{w()},[]);let[y,j]=(0,F.useState)(!1),w=async()=>{g(!0),b(null);try{let[e,s]=await Promise.all([(0,e1.getStudentDashboardData)(t.university_id),e2(t.university_id)]);if(e.success&&e.data){let t=e.data.requests.map(e=>{let t,r,n,s;return{id:e.request_id.toString(),title:e.form_templates?.name||"Ø·Ù„Ø¨ Ø¹Ø§Ù…",type:e.form_templates?.name||"General",date:new Date(e.submitted_at).toISOString().split("T")[0],status:e.status||"pending",description:e.submission_data?.reason||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ",reference_no:e.reference_no,workflow:(t=e.form_templates?.request_types?.workflows?.workflow_steps||[],r=e.current_step_id,n=e.status,s=t.findIndex(e=>e.step_id===r),t.map((e,t)=>{let r="pending";return"approved"===n?r="approved":"rejected"===n?r=t<s?"approved":t===s?"rejected":"pending":(r=t<s?"approved":t===s?"processing":"pending",-1===s&&0===t&&"approved"!==n&&"rejected"!==n&&(r="processing")),{step:t+1,department:e.name||`Ø®Ø·ÙˆØ© ${t+1}`,role:e.users?.full_name||e.roles?.role_name||"Ù…ÙˆØ§ÙÙ‚",status:r}}))}});u(t),f(e.data.stats),t.length>0&&!r&&n(t[0].id)}else b(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");s.success&&s.data&&p(s.data.map(e=>({id:e.form_id.toString(),label:e.name,icon:"ðŸ“"})))}catch(e){console.error("Failed to fetch dashboard data:",e),b("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{g(!1)}},N=async()=>{await w(),a("requests"),i(null)};return(0,O.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",dir:"rtl",children:[(0,O.jsx)(ey,{userType:`Ø·Ø§Ù„Ø¨ - ${t.full_name}`,onLogout:e,onMenuClick:()=>j(!0)}),(0,O.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,O.jsx)("div",{className:"hidden md:block h-full",children:(0,O.jsx)(eD,{currentView:s,onViewChange:e=>a(e),userRole:"student"})}),(0,O.jsx)(rT,{open:y,onOpenChange:j,children:(0,O.jsx)(r$,{side:"right",className:"p-0 border-0 w-64",children:(0,O.jsx)(eD,{currentView:s,onViewChange:e=>{a(e),j(!1)},userRole:"student",className:"h-full border-none w-full"})})}),(0,O.jsxs)("main",{className:"flex-1 overflow-auto",children:["requests"===s&&(0,O.jsx)(O.Fragment,{children:x?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(eX,{})}):v?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(eQ,{error:v,onRetry:w})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"p-6 border-b bg-muted/30",children:(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsx)(ee,{className:"text-3xl",children:h.total})]})}),(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"}),(0,O.jsx)(ee,{className:"text-3xl text-yellow-600",children:h.pending})]})}),(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ù…ÙƒØªÙ…Ù„Ø©"}),(0,O.jsx)(ee,{className:"text-3xl text-green-600",children:h.completed})]})})]})}),0===c.length?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(e0,{icon:"ðŸ“­",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª",description:`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${t.full_name}! Ù„Ù… ØªÙ‚Ù… Ø¨ØªÙ‚Ø¯ÙŠÙ… Ø£ÙŠ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯. Ø§Ø¨Ø¯Ø£ Ø¨ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯.`,action:{label:"ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯",onClick:()=>a("submit")}})}):(0,O.jsxs)("div",{className:"flex h-full",children:[(0,O.jsx)("div",{className:"w-full md:w-1/3 border-l border-border overflow-auto",children:(0,O.jsx)(eI,{requests:c,selectedId:r,onSelect:n,loading:x})}),(0,O.jsx)("div",{className:"hidden md:flex md:w-2/3 flex-col overflow-auto",children:r?(0,O.jsx)(eF,{request:c.find(e=>e.id===r),onEdit:()=>d(r),userId:t.university_id}):(0,O.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Ø§Ø®ØªØ± Ø·Ù„Ø¨Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„"})})]})]})}),"submit"===s||o?(0,O.jsx)("div",{className:"p-6 max-w-4xl",children:l||o?(0,O.jsx)(eW,{requestType:l||c.find(e=>e.id===o)?.type||"",requestTypes:m,userId:t.university_id,onBack:()=>{i(null),d(null),o&&a("requests")},onSubmit:N}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯"}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)(et,{children:"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªÙ‚Ø¯ÙŠÙ…Ù‡"})]}),(0,O.jsx)(er,{className:"space-y-4",children:(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:m.map(e=>(0,O.jsxs)(J,{onClick:()=>i(e.id),variant:"outline",className:"h-auto py-4 justify-start text-right bg-transparent hover:bg-primary/10 hover:border-primary",children:[(0,O.jsx)("span",{className:"text-xl me-2",children:e.icon}),e.label]},e.id))})})]})]})}):null,"settings"===s&&(0,O.jsxs)("div",{className:"p-6 max-w-4xl",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨"}),(0,O.jsx)(et,{children:"Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø´Ø®ØµÙŠØ©"})]}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø§Ø³Ù…"}),(0,O.jsx)("p",{className:"font-medium",children:t.full_name})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ"}),(0,O.jsx)("p",{className:"font-medium",children:t.university_id})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø¯ÙˆØ±"}),(0,O.jsx)(e5,{children:"Ø·Ø§Ù„Ø¨"})]})]})]})]})]})]})]})}function rU({className:e,...t}){return(0,O.jsx)("textarea",{"data-slot":"textarea",className:(0,Y.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}var rW=e.i(68339),rV=e.i(40062),rK=e.i(18452);let rX=(0,em.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),rY=(0,em.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),rG=(0,em.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function rJ(e){let t=F.useRef({value:e,previous:e});return F.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function rZ(e){let[t,r]=F.useState(void 0);return(0,e8.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var rQ="Switch",[r0,r1]=(0,e6.createContextScope)(rQ),[r2,r4]=r0(rQ),r5=F.forwardRef((e,t)=>{let{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:l,disabled:i,value:o="on",onCheckedChange:d,form:c,...u}=e,[m,p]=F.useState(null),h=(0,$.useComposedRefs)(t,e=>p(e)),f=F.useRef(!1),x=!m||c||!!m.closest("form"),[g,v]=(0,tt.useControllableState)({prop:s,defaultProp:a??!1,onChange:d,caller:rQ});return(0,O.jsxs)(r2,{scope:r,checked:g,disabled:i,children:[(0,O.jsx)(tn.Primitive.button,{type:"button",role:"switch","aria-checked":g,"aria-required":l,"data-state":r7(g),"data-disabled":i?"":void 0,disabled:i,value:o,...u,ref:h,onClick:(0,e3.composeEventHandlers)(e.onClick,e=>{v(e=>!e),x&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),x&&(0,O.jsx)(r8,{control:m,bubbles:!f.current,name:n,value:o,checked:g,required:l,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});r5.displayName=rQ;var r3="SwitchThumb",r6=F.forwardRef((e,t)=>{let{__scopeSwitch:r,...n}=e,s=r4(r3,r);return(0,O.jsx)(tn.Primitive.span,{"data-state":r7(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});r6.displayName=r3;var r8=F.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{let l=F.useRef(null),i=(0,$.useComposedRefs)(l,a),o=rJ(r),d=rZ(t);return F.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[o,r,n]),(0,O.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function r7(e){return e?"checked":"unchecked"}function r9({className:e,...t}){return(0,O.jsx)(r5,{"data-slot":"switch",className:(0,Y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,O.jsx)(r6,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}function ne(e,[t,r]){return Math.min(r,Math.max(t,e))}r8.displayName="SwitchBubbleInput";var nt=e.i(75830),nr=F.createContext(void 0);function nn(e){let t=F.useContext(nr);return e||t||"ltr"}let ns=["top","right","bottom","left"],na=Math.min,nl=Math.max,ni=Math.round,no=Math.floor,nd=e=>({x:e,y:e}),nc={left:"right",right:"left",bottom:"top",top:"bottom"},nu={start:"end",end:"start"};function nm(e,t){return"function"==typeof e?e(t):e}function np(e){return e.split("-")[0]}function nh(e){return e.split("-")[1]}function nf(e){return"x"===e?"y":"x"}function nx(e){return"y"===e?"height":"width"}let ng=new Set(["top","bottom"]);function nv(e){return ng.has(np(e))?"y":"x"}function nb(e){return e.replace(/start|end/g,e=>nu[e])}let ny=["left","right"],nj=["right","left"],nw=["top","bottom"],nN=["bottom","top"];function nk(e){return e.replace(/left|right|bottom|top/g,e=>nc[e])}function nS(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function nC(e){let{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function n_(e,t,r){let n,{reference:s,floating:a}=e,l=nv(t),i=nf(nv(t)),o=nx(i),d=np(t),c="y"===l,u=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,p=s[o]/2-a[o]/2;switch(d){case"top":n={x:u,y:s.y-a.height};break;case"bottom":n={x:u,y:s.y+s.height};break;case"right":n={x:s.x+s.width,y:m};break;case"left":n={x:s.x-a.width,y:m};break;default:n={x:s.x,y:s.y}}switch(nh(t)){case"start":n[i]-=p*(r&&c?-1:1);break;case"end":n[i]+=p*(r&&c?-1:1)}return n}let nR=async(e,t,r)=>{let{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:l}=r,i=a.filter(Boolean),o=await (null==l.isRTL?void 0:l.isRTL(t)),d=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:u}=n_(d,n,o),m=n,p={},h=0;for(let r=0;r<i.length;r++){let{name:a,fn:f}=i[r],{x:x,y:g,data:v,reset:b}=await f({x:c,y:u,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:d,platform:l,elements:{reference:e,floating:t}});c=null!=x?x:c,u=null!=g?g:u,p={...p,[a]:{...p[a],...v}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(m=b.placement),b.rects&&(d=!0===b.rects?await l.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:c,y:u}=n_(d,m,o)),r=-1)}return{x:c,y:u,placement:m,strategy:s,middlewareData:p}};async function nE(e,t){var r;void 0===t&&(t={});let{x:n,y:s,platform:a,rects:l,elements:i,strategy:o}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=nm(t,e),h=nS(p),f=i[m?"floating"===u?"reference":"floating":u],x=nC(await a.getClippingRect({element:null==(r=await (null==a.isElement?void 0:a.isElement(f)))||r?f:f.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(i.floating)),boundary:d,rootBoundary:c,strategy:o})),g="floating"===u?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,v=await (null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),b=await (null==a.isElement?void 0:a.isElement(v))&&await (null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},y=nC(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:v,strategy:o}):g);return{top:(x.top-y.top+h.top)/b.y,bottom:(y.bottom-x.bottom+h.bottom)/b.y,left:(x.left-y.left+h.left)/b.x,right:(y.right-x.right+h.right)/b.x}}function nD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nM(e){return ns.some(t=>e[t]>=0)}let nI=new Set(["left","top"]);async function nA(e,t){let{placement:r,platform:n,elements:s}=e,a=await (null==n.isRTL?void 0:n.isRTL(s.floating)),l=np(r),i=nh(r),o="y"===nv(r),d=nI.has(l)?-1:1,c=a&&o?-1:1,u=nm(t,e),{mainAxis:m,crossAxis:p,alignmentAxis:h}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"==typeof h&&(p="end"===i?-1*h:h),o?{x:p*c,y:m*d}:{x:m*d,y:p*c}}function nL(){return"undefined"!=typeof window}function nz(e){return nO(e)?(e.nodeName||"").toLowerCase():"#document"}function nP(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function nT(e){var t;return null==(t=(nO(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function nO(e){return!!nL()&&(e instanceof Node||e instanceof nP(e).Node)}function nF(e){return!!nL()&&(e instanceof Element||e instanceof nP(e).Element)}function n$(e){return!!nL()&&(e instanceof HTMLElement||e instanceof nP(e).HTMLElement)}function nq(e){return!!nL()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof nP(e).ShadowRoot)}let nH=new Set(["inline","contents"]);function nB(e){let{overflow:t,overflowX:r,overflowY:n,display:s}=n0(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nH.has(s)}let nU=new Set(["table","td","th"]),nW=[":popover-open",":modal"];function nV(e){return nW.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let nK=["transform","translate","scale","rotate","perspective"],nX=["transform","translate","scale","rotate","perspective","filter"],nY=["paint","layout","strict","content"];function nG(e){let t=nJ(),r=nF(e)?n0(e):e;return nK.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||nX.some(e=>(r.willChange||"").includes(e))||nY.some(e=>(r.contain||"").includes(e))}function nJ(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let nZ=new Set(["html","body","#document"]);function nQ(e){return nZ.has(nz(e))}function n0(e){return nP(e).getComputedStyle(e)}function n1(e){return nF(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function n2(e){if("html"===nz(e))return e;let t=e.assignedSlot||e.parentNode||nq(e)&&e.host||nT(e);return nq(t)?t.host:t}function n4(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let s=function e(t){let r=n2(t);return nQ(r)?t.ownerDocument?t.ownerDocument.body:t.body:n$(r)&&nB(r)?r:e(r)}(e),a=s===(null==(n=e.ownerDocument)?void 0:n.body),l=nP(s);if(a){let e=n5(l);return t.concat(l,l.visualViewport||[],nB(s)?s:[],e&&r?n4(e):[])}return t.concat(s,n4(s,[],r))}function n5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n3(e){let t=n0(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,s=n$(e),a=s?e.offsetWidth:r,l=s?e.offsetHeight:n,i=ni(r)!==a||ni(n)!==l;return i&&(r=a,n=l),{width:r,height:n,$:i}}function n6(e){return nF(e)?e:e.contextElement}function n8(e){let t=n6(e);if(!n$(t))return nd(1);let r=t.getBoundingClientRect(),{width:n,height:s,$:a}=n3(t),l=(a?ni(r.width):r.width)/n,i=(a?ni(r.height):r.height)/s;return l&&Number.isFinite(l)||(l=1),i&&Number.isFinite(i)||(i=1),{x:l,y:i}}let n7=nd(0);function n9(e){let t=nP(e);return nJ()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:n7}function se(e,t,r,n){var s;void 0===t&&(t=!1),void 0===r&&(r=!1);let a=e.getBoundingClientRect(),l=n6(e),i=nd(1);t&&(n?nF(n)&&(i=n8(n)):i=n8(e));let o=(void 0===(s=r)&&(s=!1),n&&(!s||n===nP(l))&&s)?n9(l):nd(0),d=(a.left+o.x)/i.x,c=(a.top+o.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(l){let e=nP(l),t=n&&nF(n)?nP(n):n,r=e,s=n5(r);for(;s&&n&&t!==r;){let e=n8(s),t=s.getBoundingClientRect(),n=n0(s),a=t.left+(s.clientLeft+parseFloat(n.paddingLeft))*e.x,l=t.top+(s.clientTop+parseFloat(n.paddingTop))*e.y;d*=e.x,c*=e.y,u*=e.x,m*=e.y,d+=a,c+=l,s=n5(r=nP(s))}}return nC({width:u,height:m,x:d,y:c})}function st(e,t){let r=n1(e).scrollLeft;return t?t.left+r:se(nT(e)).left+r}function sr(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-st(e,r),y:r.top+t.scrollTop}}let sn=new Set(["absolute","fixed"]);function ss(e,t,r){var n;let s;if("viewport"===t)s=function(e,t){let r=nP(e),n=nT(e),s=r.visualViewport,a=n.clientWidth,l=n.clientHeight,i=0,o=0;if(s){a=s.width,l=s.height;let e=nJ();(!e||e&&"fixed"===t)&&(i=s.offsetLeft,o=s.offsetTop)}let d=st(n);if(d<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,l=Math.abs(n.clientWidth-t.clientWidth-s);l<=25&&(a-=l)}else d<=25&&(a+=d);return{width:a,height:l,x:i,y:o}}(e,r);else if("document"===t){let t,r,a,l,i,o,d;n=nT(e),t=nT(n),r=n1(n),a=n.ownerDocument.body,l=nl(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=nl(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),o=-r.scrollLeft+st(n),d=-r.scrollTop,"rtl"===n0(a).direction&&(o+=nl(t.clientWidth,a.clientWidth)-l),s={width:l,height:i,x:o,y:d}}else if(nF(t)){let e,n,a,l,i,o;n=(e=se(t,!0,"fixed"===r)).top+t.clientTop,a=e.left+t.clientLeft,l=n$(t)?n8(t):nd(1),i=t.clientWidth*l.x,o=t.clientHeight*l.y,s={width:i,height:o,x:a*l.x,y:n*l.y}}else{let r=n9(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return nC(s)}function sa(e){return"static"===n0(e).position}function sl(e,t){if(!n$(e)||"fixed"===n0(e).position)return null;if(t)return t(e);let r=e.offsetParent;return nT(e)===r&&(r=r.ownerDocument.body),r}function si(e,t){var r;let n=nP(e);if(nV(e))return n;if(!n$(e)){let t=n2(e);for(;t&&!nQ(t);){if(nF(t)&&!sa(t))return t;t=n2(t)}return n}let s=sl(e,t);for(;s&&(r=s,nU.has(nz(r)))&&sa(s);)s=sl(s,t);return s&&nQ(s)&&sa(s)&&!nG(s)?n:s||function(e){let t=n2(e);for(;n$(t)&&!nQ(t);){if(nG(t))return t;if(nV(t))break;t=n2(t)}return null}(e)||n}let so=async function(e){let t=this.getOffsetParent||si,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=n$(t),s=nT(t),a="fixed"===r,l=se(e,!0,a,t),i={scrollLeft:0,scrollTop:0},o=nd(0);if(n||!n&&!a)if(("body"!==nz(t)||nB(s))&&(i=n1(t)),n){let e=se(t,!0,a,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else s&&(o.x=st(s));a&&!n&&s&&(o.x=st(s));let d=!s||n||a?nd(0):sr(s,i);return{x:l.left+i.scrollLeft-o.x-d.x,y:l.top+i.scrollTop-o.y-d.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},sd={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e,a="fixed"===s,l=nT(n),i=!!t&&nV(t.floating);if(n===l||i&&a)return r;let o={scrollLeft:0,scrollTop:0},d=nd(1),c=nd(0),u=n$(n);if((u||!u&&!a)&&(("body"!==nz(n)||nB(l))&&(o=n1(n)),n$(n))){let e=se(n);d=n8(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}let m=!l||u||a?nd(0):sr(l,o);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-o.scrollLeft*d.x+c.x+m.x,y:r.y*d.y-o.scrollTop*d.y+c.y+m.y}},getDocumentElement:nT,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e,a=[..."clippingAncestors"===r?nV(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=n4(e,[],!1).filter(e=>nF(e)&&"body"!==nz(e)),s=null,a="fixed"===n0(e).position,l=a?n2(e):e;for(;nF(l)&&!nQ(l);){let t=n0(l),r=nG(l);r||"fixed"!==t.position||(s=null),(a?!r&&!s:!r&&"static"===t.position&&!!s&&sn.has(s.position)||nB(l)&&!r&&function e(t,r){let n=n2(t);return!(n===r||!nF(n)||nQ(n))&&("fixed"===n0(n).position||e(n,r))}(e,l))?n=n.filter(e=>e!==l):s=t,l=n2(l)}return t.set(e,n),n}(t,this._c):[].concat(r),n],l=a[0],i=a.reduce((e,r)=>{let n=ss(t,r,s);return e.top=nl(n.top,e.top),e.right=na(n.right,e.right),e.bottom=na(n.bottom,e.bottom),e.left=nl(n.left,e.left),e},ss(t,l,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:si,getElementRects:so,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=n3(e);return{width:t,height:r}},getScale:n8,isElement:nF,isRTL:function(e){return"rtl"===n0(e).direction}};function sc(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let su=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:s,rects:a,platform:l,elements:i,middlewareData:o}=t,{element:d,padding:c=0}=nm(e,t)||{};if(null==d)return{};let u=nS(c),m={x:r,y:n},p=nf(nv(s)),h=nx(p),f=await l.getDimensions(d),x="y"===p,g=x?"clientHeight":"clientWidth",v=a.reference[h]+a.reference[p]-m[p]-a.floating[h],b=m[p]-a.reference[p],y=await (null==l.getOffsetParent?void 0:l.getOffsetParent(d)),j=y?y[g]:0;j&&await (null==l.isElement?void 0:l.isElement(y))||(j=i.floating[g]||a.floating[h]);let w=j/2-f[h]/2-1,N=na(u[x?"top":"left"],w),k=na(u[x?"bottom":"right"],w),S=j-f[h]-k,C=j/2-f[h]/2+(v/2-b/2),_=nl(N,na(C,S)),R=!o.arrow&&null!=nh(s)&&C!==_&&a.reference[h]/2-(C<N?N:k)-f[h]/2<0,E=R?C<N?C-N:C-S:0;return{[p]:m[p]+E,data:{[p]:_,centerOffset:C-_-E,...R&&{alignmentOffset:E}},reset:R}}});var sm="undefined"!=typeof document?F.useLayoutEffect:function(){};function sp(e,t){let r,n,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!sp(e[n],t[n]))return!1;return!0}if((r=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,s[n]))return!1;for(n=r;0!=n--;){let r=s[n];if(("_owner"!==r||!e.$$typeof)&&!sp(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function sh(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sf(e,t){let r=sh(e);return Math.round(t*r)/r}function sx(e){let t=F.useRef(e);return sm(()=>{t.current=e}),t}var sg=F.forwardRef((e,t)=>{let{children:r,width:n=10,height:s=5,...a}=e;return(0,O.jsx)(tn.Primitive.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,O.jsx)("polygon",{points:"0,0 30,0 15,10"})})});sg.displayName="Arrow";var sv="Popper",[sb,sy]=(0,e6.createContextScope)(sv),[sj,sw]=sb(sv),sN=e=>{let{__scopePopper:t,children:r}=e,[n,s]=F.useState(null);return(0,O.jsx)(sj,{scope:t,anchor:n,onAnchorChange:s,children:r})};sN.displayName=sv;var sk="PopperAnchor",sS=F.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...s}=e,a=sw(sk,r),l=F.useRef(null),i=(0,$.useComposedRefs)(t,l),o=F.useRef(null);return F.useEffect(()=>{let e=o.current;o.current=n?.current||l.current,e!==o.current&&a.onAnchorChange(o.current)}),n?null:(0,O.jsx)(tn.Primitive.div,{...s,ref:i})});sS.displayName=sk;var sC="PopperContent",[s_,sR]=sb(sC),sE=F.forwardRef((e,t)=>{var r,n,s,a,l,i,o,d,c,u,m,p,h,f,x,g,v,b,y,j,w;let{__scopePopper:N,side:k="bottom",sideOffset:S=0,align:C="center",alignOffset:_=0,arrowPadding:R=0,avoidCollisions:E=!0,collisionBoundary:D=[],collisionPadding:M=0,sticky:I="partial",hideWhenDetached:A=!1,updatePositionStrategy:L="optimized",onPlaced:z,...P}=e,T=sw(sC,N),[q,H]=F.useState(null),B=(0,$.useComposedRefs)(t,e=>H(e)),[U,W]=F.useState(null),V=rZ(U),K=V?.width??0,X=V?.height??0,Y="number"==typeof M?M:{top:0,right:0,bottom:0,left:0,...M},G=Array.isArray(D)?D:[D],J=G.length>0,Z={padding:Y,boundary:G.filter(sA),altBoundary:J},{refs:Q,floatingStyles:ee,placement:et,isPositioned:er,middlewareData:en}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:i=!0,whileElementsMounted:o,open:d}=e,[c,u]=F.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=F.useState(n);sp(m,n)||p(n);let[h,f]=F.useState(null),[x,g]=F.useState(null),v=F.useCallback(e=>{e!==w.current&&(w.current=e,f(e))},[]),b=F.useCallback(e=>{e!==N.current&&(N.current=e,g(e))},[]),y=a||h,j=l||x,w=F.useRef(null),N=F.useRef(null),k=F.useRef(c),S=null!=o,C=sx(o),_=sx(s),R=sx(d),E=F.useCallback(()=>{var e,n;let s,a,l;if(!w.current||!N.current)return;let i={placement:t,strategy:r,middleware:m};_.current&&(i.platform=_.current),(e=w.current,n=N.current,s=new Map,l={...(a={platform:sd,...i}).platform,_c:s},nR(e,n,{...a,platform:l})).then(e=>{let t={...e,isPositioned:!1!==R.current};D.current&&!sp(k.current,t)&&(k.current=t,es.flushSync(()=>{u(t)}))})},[m,t,r,_,R]);sm(()=>{!1===d&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[d]);let D=F.useRef(!1);sm(()=>(D.current=!0,()=>{D.current=!1}),[]),sm(()=>{if(y&&(w.current=y),j&&(N.current=j),y&&j){if(C.current)return C.current(y,j,E);E()}},[y,j,E,C,S]);let M=F.useMemo(()=>({reference:w,floating:N,setReference:v,setFloating:b}),[v,b]),I=F.useMemo(()=>({reference:y,floating:j}),[y,j]),A=F.useMemo(()=>{let e={position:r,left:0,top:0};if(!I.floating)return e;let t=sf(I.floating,c.x),n=sf(I.floating,c.y);return i?{...e,transform:"translate("+t+"px, "+n+"px)",...sh(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,i,I.floating,c.x,c.y]);return F.useMemo(()=>({...c,update:E,refs:M,elements:I,floatingStyles:A}),[c,E,M,I,A])}({strategy:"fixed",placement:k+("center"!==C?"-"+C:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let s;void 0===n&&(n={});let{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:d=!1}=n,c=n6(e),u=a||l?[...c?n4(c):[],...n4(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)});let m=c&&o?function(e,t){let r,n=null,s=nT(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function l(i,o){void 0===i&&(i=!1),void 0===o&&(o=1),a();let d=e.getBoundingClientRect(),{left:c,top:u,width:m,height:p}=d;if(i||t(),!m||!p)return;let h={rootMargin:-no(u)+"px "+-no(s.clientWidth-(c+m))+"px "+-no(s.clientHeight-(u+p))+"px "+-no(c)+"px",threshold:nl(0,na(1,o))||1},f=!0;function x(t){let n=t[0].intersectionRatio;if(n!==o){if(!f)return l();n?l(!1,n):r=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==n||sc(d,e.getBoundingClientRect())||l(),f=!1}try{n=new IntersectionObserver(x,{...h,root:s.ownerDocument})}catch(e){n=new IntersectionObserver(x,h)}n.observe(e)}(!0),a}(c,r):null,p=-1,h=null;i&&(h=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=h)||e.observe(t)})),r()}),c&&!d&&h.observe(c),h.observe(t));let f=d?se(e):null;return d&&function t(){let n=se(e);f&&!sc(f,n)&&r(),f=n,s=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=h)||e.disconnect(),h=null,d&&cancelAnimationFrame(s)}})(...e,{animationFrame:"always"===L}),elements:{reference:T.anchor},middleware:[{...{name:"offset",options:s=r={mainAxis:S+X,alignmentAxis:_},async fn(e){var t,r;let{x:n,y:a,placement:l,middlewareData:i}=e,o=await nA(e,s);return l===(null==(t=i.offset)?void 0:t.placement)&&null!=(r=i.arrow)&&r.alignmentOffset?{}:{x:n+o.x,y:a+o.y,data:{...o,placement:l}}}},options:[r,n]},E&&{...{name:"shift",options:c=o={mainAxis:!0,crossAxis:!1,limiter:"partial"===I?{...(void 0===(i=a)&&(i={}),{options:i,fn(e){let{x:t,y:r,placement:n,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:o=!0,crossAxis:d=!0}=nm(i,e),c={x:t,y:r},u=nv(n),m=nf(u),p=c[m],h=c[u],f=nm(l,e),x="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(o){let e="y"===m?"height":"width",t=s.reference[m]-s.floating[e]+x.mainAxis,r=s.reference[m]+s.reference[e]-x.mainAxis;p<t?p=t:p>r&&(p=r)}if(d){var g,v;let e="y"===m?"width":"height",t=nI.has(np(n)),r=s.reference[u]-s.floating[e]+(t&&(null==(g=a.offset)?void 0:g[u])||0)+(t?0:x.crossAxis),l=s.reference[u]+s.reference[e]+(t?0:(null==(v=a.offset)?void 0:v[u])||0)-(t?x.crossAxis:0);h<r?h=r:h>l&&(h=l)}return{[m]:p,[u]:h}}}),options:[a,l]}:void 0,...Z},async fn(e){let{x:t,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...i}=nm(c,e),o={x:t,y:r},d=await nE(e,i),u=nv(np(n)),m=nf(u),p=o[m],h=o[u];if(s){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=p+d[e],n=p-d[t];p=nl(r,na(p,n))}if(a){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=h+d[e],n=h-d[t];h=nl(r,na(h,n))}let f=l.fn({...e,[m]:p,[u]:h});return{...f,data:{x:f.x-t,y:f.y-r,enabled:{[m]:s,[u]:a}}}}},options:[o,d]},E&&{...{name:"flip",options:p=u={...Z},async fn(e){var t,r,n,s,a,l,i,o;let d,c,u,{placement:m,middlewareData:h,rects:f,initialPlacement:x,platform:g,elements:v}=e,{mainAxis:b=!0,crossAxis:y=!0,fallbackPlacements:j,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:k=!0,...S}=nm(p,e);if(null!=(t=h.arrow)&&t.alignmentOffset)return{};let C=np(m),_=nv(x),R=np(x)===x,E=await (null==g.isRTL?void 0:g.isRTL(v.floating)),D=j||(R||!k?[nk(x)]:(d=nk(x),[nb(x),d,nb(d)])),M="none"!==N;!j&&M&&D.push(...(c=nh(x),u=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?nj:ny;return t?ny:nj;case"left":case"right":return t?nw:nN;default:return[]}}(np(x),"start"===N,E),c&&(u=u.map(e=>e+"-"+c),k&&(u=u.concat(u.map(nb)))),u));let I=[x,...D],A=await nE(e,S),L=[],z=(null==(r=h.flip)?void 0:r.overflows)||[];if(b&&L.push(A[C]),y){let e,t,r,n,s=(l=m,i=f,void 0===(o=E)&&(o=!1),e=nh(l),r=nx(t=nf(nv(l))),n="x"===t?e===(o?"end":"start")?"right":"left":"start"===e?"bottom":"top",i.reference[r]>i.floating[r]&&(n=nk(n)),[n,nk(n)]);L.push(A[s[0]],A[s[1]])}if(z=[...z,{placement:m,overflows:L}],!L.every(e=>e<=0)){let e=((null==(n=h.flip)?void 0:n.index)||0)+1,t=I[e];if(t&&("alignment"!==y||_===nv(t)||z.every(e=>nv(e.placement)!==_||e.overflows[0]>0)))return{data:{index:e,overflows:z},reset:{placement:t}};let r=null==(s=z.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(w){case"bestFit":{let e=null==(a=z.filter(e=>{if(M){let t=nv(e.placement);return t===_||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(r=e);break}case"initialPlacement":r=x}if(m!==r)return{reset:{placement:r}}}return{}}},options:[u,m]},{...{name:"size",options:x=h={...Z,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:s,height:a}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${n}px`),l.setProperty("--radix-popper-anchor-width",`${s}px`),l.setProperty("--radix-popper-anchor-height",`${a}px`)}},async fn(e){var t,r;let n,s,{placement:a,rects:l,platform:i,elements:o}=e,{apply:d=()=>{},...c}=nm(x,e),u=await nE(e,c),m=np(a),p=nh(a),h="y"===nv(a),{width:f,height:g}=l.floating;"top"===m||"bottom"===m?(n=m,s=p===(await (null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(s=m,n="end"===p?"top":"bottom");let v=g-u.top-u.bottom,b=f-u.left-u.right,y=na(g-u[n],v),j=na(f-u[s],b),w=!e.middlewareData.shift,N=y,k=j;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(k=b),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(N=v),w&&!p){let e=nl(u.left,0),t=nl(u.right,0),r=nl(u.top,0),n=nl(u.bottom,0);h?k=f-2*(0!==e||0!==t?e+t:nl(u.left,u.right)):N=g-2*(0!==r||0!==n?r+n:nl(u.top,u.bottom))}await d({...e,availableWidth:k,availableHeight:N});let S=await i.getDimensions(o.floating);return f!==S.width||g!==S.height?{reset:{rects:!0}}:{}}},options:[h,f]},U&&{...{name:"arrow",options:b=g={element:U,padding:R},fn(e){let{element:t,padding:r}="function"==typeof b?b(e):b;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?su({element:t.current,padding:r}).fn(e):{}:t?su({element:t,padding:r}).fn(e):{}}},options:[g,v]},sL({arrowWidth:K,arrowHeight:X}),A&&{...{name:"hide",options:w=y={strategy:"referenceHidden",...Z},async fn(e){let{rects:t}=e,{strategy:r="referenceHidden",...n}=nm(w,e);switch(r){case"referenceHidden":{let r=nD(await nE(e,{...n,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:nM(r)}}}case"escaped":{let r=nD(await nE(e,{...n,altBoundary:!0}),t.floating);return{data:{escapedOffsets:r,escaped:nM(r)}}}default:return{}}}},options:[y,j]}]}),[ea,el]=sz(et),ei=(0,ts.useCallbackRef)(z);(0,e8.useLayoutEffect)(()=>{er&&ei?.()},[er,ei]);let eo=en.arrow?.x,ed=en.arrow?.y,ec=en.arrow?.centerOffset!==0,[eu,em]=F.useState();return(0,e8.useLayoutEffect)(()=>{q&&em(window.getComputedStyle(q).zIndex)},[q]),(0,O.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:er?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[en.transformOrigin?.x,en.transformOrigin?.y].join(" "),...en.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,O.jsx)(s_,{scope:N,placedSide:ea,onArrowChange:W,arrowX:eo,arrowY:ed,shouldHideArrow:ec,children:(0,O.jsx)(tn.Primitive.div,{"data-side":ea,"data-align":el,...P,ref:B,style:{...P.style,animation:er?void 0:"none"}})})})});sE.displayName=sC;var sD="PopperArrow",sM={top:"bottom",right:"left",bottom:"top",left:"right"},sI=F.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,s=sR(sD,r),a=sM[s.placedSide];return(0,O.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,O.jsx)(sg,{...n,ref:t,style:{...n.style,display:"block"}})})});function sA(e){return null!==e}sI.displayName=sD;var sL=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,l=a?0:e.arrowWidth,i=a?0:e.arrowHeight,[o,d]=sz(r),c={start:"0%",center:"50%",end:"100%"}[d],u=(s.arrow?.x??0)+l/2,m=(s.arrow?.y??0)+i/2,p="",h="";return"bottom"===o?(p=a?c:`${u}px`,h=`${-i}px`):"top"===o?(p=a?c:`${u}px`,h=`${n.floating.height+i}px`):"right"===o?(p=`${-i}px`,h=a?c:`${m}px`):"left"===o&&(p=`${n.floating.width+i}px`,h=a?c:`${m}px`),{data:{x:p,y:h}}}});function sz(e){let[t,r="center"]=e.split("-");return[t,r]}var sP=Symbol("radix.slottable");function sT(e){return F.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===sP}var sO=e.i(59411),sF=[" ","Enter","ArrowUp","ArrowDown"],s$=[" ","Enter"],sq="Select",[sH,sB,sU]=(0,nt.createCollection)(sq),[sW,sV]=(0,e6.createContextScope)(sq,[sU,sy]),sK=sy(),[sX,sY]=sW(sq),[sG,sJ]=sW(sq),sZ=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:l,defaultValue:i,onValueChange:o,dir:d,name:c,autoComplete:u,disabled:m,required:p,form:h}=e,f=sK(t),[x,g]=F.useState(null),[v,b]=F.useState(null),[y,j]=F.useState(!1),w=nn(d),[N,k]=(0,tt.useControllableState)({prop:n,defaultProp:s??!1,onChange:a,caller:sq}),[S,C]=(0,tt.useControllableState)({prop:l,defaultProp:i,onChange:o,caller:sq}),_=F.useRef(null),R=!x||h||!!x.closest("form"),[E,D]=F.useState(new Set),M=Array.from(E).map(e=>e.props.value).join(";");return(0,O.jsx)(sN,{...f,children:(0,O.jsxs)(sX,{required:p,scope:t,trigger:x,onTriggerChange:g,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:y,onValueNodeHasChildrenChange:j,contentId:te(),value:S,onValueChange:C,open:N,onOpenChange:k,dir:w,triggerPointerDownPosRef:_,disabled:m,children:[(0,O.jsx)(sH.Provider,{scope:t,children:(0,O.jsx)(sG,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:F.useCallback(e=>{D(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),R?(0,O.jsxs)(aS,{"aria-hidden":!0,required:p,tabIndex:-1,name:c,autoComplete:u,value:S,onChange:e=>C(e.target.value),disabled:m,form:h,children:[void 0===S?(0,O.jsx)("option",{value:""}):null,Array.from(E)]},M):null]})})};sZ.displayName=sq;var sQ="SelectTrigger",s0=F.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...s}=e,a=sK(r),l=sY(sQ,r),i=l.disabled||n,o=(0,$.useComposedRefs)(t,l.onTriggerChange),d=sB(r),c=F.useRef("touch"),[u,m,p]=a_(e=>{let t=d().filter(e=>!e.disabled),r=t.find(e=>e.value===l.value),n=aR(t,e,r);void 0!==n&&l.onValueChange(n.value)}),h=e=>{i||(l.onOpenChange(!0),p()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,O.jsx)(sS,{asChild:!0,...a,children:(0,O.jsx)(tn.Primitive.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":aC(l.value)?"":void 0,...s,ref:o,onClick:(0,e3.composeEventHandlers)(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==c.current&&h(e)}),onPointerDown:(0,e3.composeEventHandlers)(s.onPointerDown,e=>{c.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(h(e),e.preventDefault())}),onKeyDown:(0,e3.composeEventHandlers)(s.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&sF.includes(e.key)&&(h(),e.preventDefault())})})})});s0.displayName=sQ;var s1="SelectValue",s2=F.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:s,children:a,placeholder:l="",...i}=e,o=sY(s1,r),{onValueNodeHasChildrenChange:d}=o,c=void 0!==a,u=(0,$.useComposedRefs)(t,o.onValueNodeChange);return(0,e8.useLayoutEffect)(()=>{d(c)},[d,c]),(0,O.jsx)(tn.Primitive.span,{...i,ref:u,style:{pointerEvents:"none"},children:aC(o.value)?(0,O.jsx)(O.Fragment,{children:l}):a})});s2.displayName=s1;var s4=F.forwardRef((e,t)=>{let{__scopeSelect:r,children:n,...s}=e;return(0,O.jsx)(tn.Primitive.span,{"aria-hidden":!0,...s,ref:t,children:n||"â–¼"})});s4.displayName="SelectIcon";var s5=e=>(0,O.jsx)(th.Portal,{asChild:!0,...e});s5.displayName="SelectPortal";var s3="SelectContent",s6=F.forwardRef((e,t)=>{let r=sY(s3,e.__scopeSelect),[n,s]=F.useState();return((0,e8.useLayoutEffect)(()=>{s(new DocumentFragment)},[]),r.open)?(0,O.jsx)(ae,{...e,ref:t}):n?es.createPortal((0,O.jsx)(s8,{scope:e.__scopeSelect,children:(0,O.jsx)(sH.Slot,{scope:e.__scopeSelect,children:(0,O.jsx)("div",{children:e.children})})}),n):null});s6.displayName=s3;var[s8,s7]=sW(s3),s9=((u=F.forwardRef((e,t)=>{let{children:r,...n}=e;if(F.isValidElement(r)){var s;let e,a,l=(s=r,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),i=function(e,t){let r={...t};for(let n in t){let s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...e)=>{let t=a(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...a}:"className"===n&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==F.Fragment&&(i.ref=t?(0,$.composeRefs)(t,l):l),F.cloneElement(r,i)}return F.Children.count(r)>1?F.Children.only(null):null})).displayName="SelectContent.RemoveScroll.SlotClone",a=u,(l=F.forwardRef((e,t)=>{let{children:r,...n}=e,s=F.Children.toArray(r),l=s.find(sT);if(l){let e=l.props.children,r=s.map(t=>t!==l?t:F.Children.count(e)>1?F.Children.only(null):F.isValidElement(e)?e.props.children:null);return(0,O.jsx)(a,{...n,ref:t,children:F.isValidElement(e)?F.cloneElement(e,void 0,r):null})}return(0,O.jsx)(a,{...n,ref:t,children:r})})).displayName="SelectContent.RemoveScroll.Slot",l),ae=F.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:i,sideOffset:o,align:d,alignOffset:c,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:f,avoidCollisions:x,...g}=e,v=sY(s3,r),[b,y]=F.useState(null),[j,w]=F.useState(null),N=(0,$.useComposedRefs)(t,e=>y(e)),[k,S]=F.useState(null),[C,_]=F.useState(null),R=sB(r),[E,D]=F.useState(!1),M=F.useRef(!1);F.useEffect(()=>{if(b)return re(b)},[b]),tg();let I=F.useCallback(e=>{let[t,...r]=R().map(e=>e.ref.current),[n]=r.slice(-1),s=document.activeElement;for(let r of e)if(r===s||(r?.scrollIntoView({block:"nearest"}),r===t&&j&&(j.scrollTop=0),r===n&&j&&(j.scrollTop=j.scrollHeight),r?.focus(),document.activeElement!==s))return},[R,j]),A=F.useCallback(()=>I([k,b]),[I,k,b]);F.useEffect(()=>{E&&A()},[E,A]);let{onOpenChange:L,triggerPointerDownPosRef:z}=v;F.useEffect(()=>{if(b){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(z.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():b.contains(r.target)||L(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[b,L,z]),F.useEffect(()=>{let e=()=>L(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[L]);let[P,T]=a_(e=>{let t=R().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=aR(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),q=F.useCallback((e,t,r)=>{let n=!M.current&&!r;(void 0!==v.value&&v.value===t||n)&&(S(e),n&&(M.current=!0))},[v.value]),H=F.useCallback(()=>b?.focus(),[b]),B=F.useCallback((e,t,r)=>{let n=!M.current&&!r;(void 0!==v.value&&v.value===t||n)&&_(e)},[v.value]),U="popper"===n?ar:at,W=U===ar?{side:i,sideOffset:o,align:d,alignOffset:c,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:f,avoidCollisions:x}:{};return(0,O.jsx)(s8,{scope:r,content:b,viewport:j,onViewportChange:w,itemRefCallback:q,selectedItem:k,onItemLeave:H,itemTextRefCallback:B,focusSelectedItem:A,selectedItemText:C,position:n,isPositioned:E,searchRef:P,children:(0,O.jsx)(t4,{as:s9,allowPinchZoom:!0,children:(0,O.jsx)(to,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,e3.composeEventHandlers)(s,e=>{v.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,O.jsx)(tr.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,O.jsx)(U,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...g,...W,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:(0,e3.composeEventHandlers)(g.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||T(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=R().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,n=t.indexOf(r);t=t.slice(n+1)}setTimeout(()=>I(t)),e.preventDefault()}})})})})})})});ae.displayName="SelectContentImpl";var at=F.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...s}=e,a=sY(s3,r),l=s7(s3,r),[i,o]=F.useState(null),[d,c]=F.useState(null),u=(0,$.useComposedRefs)(t,e=>c(e)),m=sB(r),p=F.useRef(!1),h=F.useRef(!0),{viewport:f,selectedItem:x,selectedItemText:g,focusSelectedItem:v}=l,b=F.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&d&&f&&x&&g){let e=a.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),r=a.valueNode.getBoundingClientRect(),s=g.getBoundingClientRect();if("rtl"!==a.dir){let n=s.left-t.left,a=r.left-n,l=e.left-a,o=e.width+l,d=Math.max(o,t.width),c=ne(a,[10,Math.max(10,window.innerWidth-10-d)]);i.style.minWidth=o+"px",i.style.left=c+"px"}else{let n=t.right-s.right,a=window.innerWidth-r.right-n,l=window.innerWidth-e.right-a,o=e.width+l,d=Math.max(o,t.width),c=ne(a,[10,Math.max(10,window.innerWidth-10-d)]);i.style.minWidth=o+"px",i.style.right=c+"px"}let l=m(),o=window.innerHeight-20,c=f.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),v=parseInt(u.paddingTop,10),b=parseInt(u.borderBottomWidth,10),y=h+v+c+parseInt(u.paddingBottom,10)+b,j=Math.min(5*x.offsetHeight,y),w=window.getComputedStyle(f),N=parseInt(w.paddingTop,10),k=parseInt(w.paddingBottom,10),S=e.top+e.height/2-10,C=x.offsetHeight/2,_=h+v+(x.offsetTop+C);if(_<=S){let e=l.length>0&&x===l[l.length-1].ref.current;i.style.bottom="0px";let t=Math.max(o-S,C+(e?k:0)+(d.clientHeight-f.offsetTop-f.offsetHeight)+b);i.style.height=_+t+"px"}else{let e=l.length>0&&x===l[0].ref.current;i.style.top="0px";let t=Math.max(S,h+f.offsetTop+(e?N:0)+C);i.style.height=t+(y-_)+"px",f.scrollTop=_-S+f.offsetTop}i.style.margin="10px 0",i.style.minHeight=j+"px",i.style.maxHeight=o+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,i,d,f,x,g,a.dir,n]);(0,e8.useLayoutEffect)(()=>b(),[b]);let[y,j]=F.useState();(0,e8.useLayoutEffect)(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);let w=F.useCallback(e=>{e&&!0===h.current&&(b(),v?.(),h.current=!1)},[b,v]);return(0,O.jsx)(an,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:p,onScrollButtonChange:w,children:(0,O.jsx)("div",{ref:o,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:(0,O.jsx)(tn.Primitive.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});at.displayName="SelectItemAlignedPosition";var ar=F.forwardRef((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:s=10,...a}=e,l=sK(r);return(0,O.jsx)(sE,{...l,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ar.displayName="SelectPopperPosition";var[an,as]=sW(s3,{}),aa="SelectViewport",al=F.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...s}=e,a=s7(aa,r),l=as(aa,r),i=(0,$.useComposedRefs)(t,a.onViewportChange),o=F.useRef(0);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,O.jsx)(sH.Slot,{scope:r,children:(0,O.jsx)(tn.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:(0,e3.composeEventHandlers)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=l;if(n?.current&&r){let e=Math.abs(o.current-t.scrollTop);if(e>0){let n=window.innerHeight-20,s=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(s<n){let a=s+e,l=Math.min(n,a),i=a-l;r.style.height=l+"px","0px"===r.style.bottom&&(t.scrollTop=i>0?i:0,r.style.justifyContent="flex-end")}}}o.current=t.scrollTop})})})]})});al.displayName=aa;var ai="SelectGroup",[ao,ad]=sW(ai);F.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=te();return(0,O.jsx)(ao,{scope:r,id:s,children:(0,O.jsx)(tn.Primitive.div,{role:"group","aria-labelledby":s,...n,ref:t})})}).displayName=ai;var ac="SelectLabel";F.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=ad(ac,r);return(0,O.jsx)(tn.Primitive.div,{id:s.id,...n,ref:t})}).displayName=ac;var au="SelectItem",[am,ap]=sW(au),ah=F.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...l}=e,i=sY(au,r),o=s7(au,r),d=i.value===n,[c,u]=F.useState(a??""),[m,p]=F.useState(!1),h=(0,$.useComposedRefs)(t,e=>o.itemRefCallback?.(e,n,s)),f=te(),x=F.useRef("touch"),g=()=>{s||(i.onValueChange(n),i.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,O.jsx)(am,{scope:r,value:n,disabled:s,textId:f,isSelected:d,onItemTextChange:F.useCallback(e=>{u(t=>t||(e?.textContent??"").trim())},[]),children:(0,O.jsx)(sH.ItemSlot,{scope:r,value:n,disabled:s,textValue:c,children:(0,O.jsx)(tn.Primitive.div,{role:"option","aria-labelledby":f,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:h,onFocus:(0,e3.composeEventHandlers)(l.onFocus,()=>p(!0)),onBlur:(0,e3.composeEventHandlers)(l.onBlur,()=>p(!1)),onClick:(0,e3.composeEventHandlers)(l.onClick,()=>{"mouse"!==x.current&&g()}),onPointerUp:(0,e3.composeEventHandlers)(l.onPointerUp,()=>{"mouse"===x.current&&g()}),onPointerDown:(0,e3.composeEventHandlers)(l.onPointerDown,e=>{x.current=e.pointerType}),onPointerMove:(0,e3.composeEventHandlers)(l.onPointerMove,e=>{x.current=e.pointerType,s?o.onItemLeave?.():"mouse"===x.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,e3.composeEventHandlers)(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&o.onItemLeave?.()}),onKeyDown:(0,e3.composeEventHandlers)(l.onKeyDown,e=>{(o.searchRef?.current===""||" "!==e.key)&&(s$.includes(e.key)&&g()," "===e.key&&e.preventDefault())})})})})});ah.displayName=au;var af="SelectItemText",ax=F.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:s,...a}=e,l=sY(af,r),i=s7(af,r),o=ap(af,r),d=sJ(af,r),[c,u]=F.useState(null),m=(0,$.useComposedRefs)(t,e=>u(e),o.onItemTextChange,e=>i.itemTextRefCallback?.(e,o.value,o.disabled)),p=c?.textContent,h=F.useMemo(()=>(0,O.jsx)("option",{value:o.value,disabled:o.disabled,children:p},o.value),[o.disabled,o.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:x}=d;return(0,e8.useLayoutEffect)(()=>(f(h),()=>x(h)),[f,x,h]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(tn.Primitive.span,{id:o.textId,...a,ref:m}),o.isSelected&&l.valueNode&&!l.valueNodeHasChildren?es.createPortal(a.children,l.valueNode):null]})});ax.displayName=af;var ag="SelectItemIndicator",av=F.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return ap(ag,r).isSelected?(0,O.jsx)(tn.Primitive.span,{"aria-hidden":!0,...n,ref:t}):null});av.displayName=ag;var ab="SelectScrollUpButton",ay=F.forwardRef((e,t)=>{let r=s7(ab,e.__scopeSelect),n=as(ab,e.__scopeSelect),[s,a]=F.useState(!1),l=(0,$.useComposedRefs)(t,n.onScrollButtonChange);return(0,e8.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){a(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,O.jsx)(aN,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ay.displayName=ab;var aj="SelectScrollDownButton",aw=F.forwardRef((e,t)=>{let r=s7(aj,e.__scopeSelect),n=as(aj,e.__scopeSelect),[s,a]=F.useState(!1),l=(0,$.useComposedRefs)(t,n.onScrollButtonChange);return(0,e8.useLayoutEffect)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,O.jsx)(aN,{...e,ref:l,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});aw.displayName=aj;var aN=F.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...s}=e,a=s7("SelectScrollButton",r),l=F.useRef(null),i=sB(r),o=F.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return F.useEffect(()=>()=>o(),[o]),(0,e8.useLayoutEffect)(()=>{let e=i().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[i]),(0,O.jsx)(tn.Primitive.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:(0,e3.composeEventHandlers)(s.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(n,50))}),onPointerMove:(0,e3.composeEventHandlers)(s.onPointerMove,()=>{a.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(n,50))}),onPointerLeave:(0,e3.composeEventHandlers)(s.onPointerLeave,()=>{o()})})});F.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e;return(0,O.jsx)(tn.Primitive.div,{"aria-hidden":!0,...n,ref:t})}).displayName="SelectSeparator";var ak="SelectArrow";F.forwardRef((e,t)=>{let{__scopeSelect:r,...n}=e,s=sK(r),a=sY(ak,r),l=s7(ak,r);return a.open&&"popper"===l.position?(0,O.jsx)(sI,{...s,...n,ref:t}):null}).displayName=ak;var aS=F.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{let s=F.useRef(null),a=(0,$.useComposedRefs)(n,s),l=rJ(t);return F.useEffect(()=>{let e=s.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==t&&r){let n=new Event("change",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[l,t]),(0,O.jsx)(tn.Primitive.select,{...r,style:{...sO.VISUALLY_HIDDEN_STYLES,...r.style},ref:a,defaultValue:t})});function aC(e){return""===e||void 0===e}function a_(e){let t=(0,ts.useCallbackRef)(e),r=F.useRef(""),n=F.useRef(0),s=F.useCallback(e=>{let s=r.current+e;t(s),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),a=F.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function aR(e,t,r){var n,s;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,l=r?e.indexOf(r):-1,i=(n=e,s=Math.max(l,0),n.map((e,t)=>n[(s+t)%n.length]));1===a.length&&(i=i.filter(e=>e!==r));let o=i.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return o!==r?o:void 0}aS.displayName="SelectBubbleInput";let aE=(0,em.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),aD=(0,em.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aM=(0,em.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function aI({...e}){return(0,O.jsx)(sZ,{"data-slot":"select",...e})}function aA({...e}){return(0,O.jsx)(s2,{"data-slot":"select-value",...e})}function aL({className:e,size:t="default",children:r,...n}){return(0,O.jsxs)(s0,{"data-slot":"select-trigger","data-size":t,className:(0,Y.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,(0,O.jsx)(s4,{asChild:!0,children:(0,O.jsx)(aD,{className:"size-4 opacity-50"})})]})}function az({className:e,children:t,position:r="popper",...n}){return(0,O.jsx)(s5,{children:(0,O.jsxs)(s6,{"data-slot":"select-content",className:(0,Y.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[(0,O.jsx)(aT,{}),(0,O.jsx)(al,{className:(0,Y.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,O.jsx)(aO,{})]})})}function aP({className:e,children:t,...r}){return(0,O.jsxs)(ah,{"data-slot":"select-item",className:(0,Y.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,O.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,O.jsx)(av,{children:(0,O.jsx)(aE,{className:"size-4"})})}),(0,O.jsx)(ax,{children:t})]})}function aT({className:e,...t}){return(0,O.jsx)(ay,{"data-slot":"select-scroll-up-button",className:(0,Y.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,O.jsx)(aM,{className:"size-4"})})}function aO({className:e,...t}){return(0,O.jsx)(aw,{"data-slot":"select-scroll-down-button",className:(0,Y.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,O.jsx)(aD,{className:"size-4"})})}var rP=rP;function aF({...e}){return(0,O.jsx)(ro,{"data-slot":"dialog",...e})}function a$({...e}){return(0,O.jsx)(rh,{"data-slot":"dialog-portal",...e})}function aq({className:e,...t}){return(0,O.jsx)(rx,{"data-slot":"dialog-overlay",className:(0,Y.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function aH({className:e,children:t,showCloseButton:r=!0,...n}){return(0,O.jsxs)(a$,{"data-slot":"dialog-portal",children:[(0,O.jsx)(aq,{}),(0,O.jsxs)(ry,{"data-slot":"dialog-content",className:(0,Y.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200",e),...n,children:[t,r&&(0,O.jsxs)(rE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,O.jsx)(rP.default,{}),(0,O.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function aB({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"dialog-header",className:(0,Y.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function aU({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"dialog-footer",className:(0,Y.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function aW({className:e,...t}){return(0,O.jsx)(rS,{"data-slot":"dialog-title",className:(0,Y.cn)("text-lg leading-none font-semibold",e),...t})}function aV({className:e,...t}){return(0,O.jsx)(r_,{"data-slot":"dialog-description",className:(0,Y.cn)("text-muted-foreground text-sm",e),...t})}var aK=Symbol("radix.slottable"),aX="AlertDialog",[aY,aG]=(0,e6.createContextScope)(aX,[ra]),aJ=ra(),aZ=e=>{let{__scopeAlertDialog:t,...r}=e,n=aJ(t);return(0,O.jsx)(ro,{...n,...r,modal:!0})};aZ.displayName=aX,F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,s=aJ(r);return(0,O.jsx)(rc,{...s,...n,ref:t})}).displayName="AlertDialogTrigger";var aQ=e=>{let{__scopeAlertDialog:t,...r}=e,n=aJ(t);return(0,O.jsx)(rh,{...n,...r})};aQ.displayName="AlertDialogPortal";var a0=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,s=aJ(r);return(0,O.jsx)(rx,{...s,...n,ref:t})});a0.displayName="AlertDialogOverlay";var a1="AlertDialogContent",[a2,a4]=aY(a1),a5=((i=({children:e})=>(0,O.jsx)(O.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",i.__radixId=aK,i),a3=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:n,...s}=e,a=aJ(r),l=F.useRef(null),i=(0,$.useComposedRefs)(t,l),o=F.useRef(null);return(0,O.jsx)(rI,{contentName:a1,titleName:a6,docsSlug:"alert-dialog",children:(0,O.jsx)(a2,{scope:r,cancelRef:o,children:(0,O.jsxs)(ry,{role:"alertdialog",...a,...s,ref:i,onOpenAutoFocus:(0,e3.composeEventHandlers)(s.onOpenAutoFocus,e=>{e.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,O.jsx)(a5,{children:n}),(0,O.jsx)(ln,{contentRef:l})]})})})});a3.displayName=a1;var a6="AlertDialogTitle",a8=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,s=aJ(r);return(0,O.jsx)(rS,{...s,...n,ref:t})});a8.displayName=a6;var a7="AlertDialogDescription",a9=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,s=aJ(r);return(0,O.jsx)(r_,{...s,...n,ref:t})});a9.displayName=a7;var le=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,s=aJ(r);return(0,O.jsx)(rE,{...s,...n,ref:t})});le.displayName="AlertDialogAction";var lt="AlertDialogCancel",lr=F.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=a4(lt,r),a=aJ(r),l=(0,$.useComposedRefs)(t,s);return(0,O.jsx)(rE,{...a,...n,ref:l})});lr.displayName=lt;var ln=({contentRef:e})=>{let t=`\`${a1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${a1}\` by passing a \`${a7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${a1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return F.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};function ls({...e}){return(0,O.jsx)(aZ,{"data-slot":"alert-dialog",...e})}function la({...e}){return(0,O.jsx)(aQ,{"data-slot":"alert-dialog-portal",...e})}function ll({className:e,...t}){return(0,O.jsx)(a0,{"data-slot":"alert-dialog-overlay",className:(0,Y.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function li({className:e,...t}){return(0,O.jsxs)(la,{children:[(0,O.jsx)(ll,{}),(0,O.jsx)(a3,{"data-slot":"alert-dialog-content",className:(0,Y.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function lo({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,Y.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ld({className:e,...t}){return(0,O.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,Y.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function lc({className:e,...t}){return(0,O.jsx)(a8,{"data-slot":"alert-dialog-title",className:(0,Y.cn)("text-lg font-semibold",e),...t})}function lu({className:e,...t}){return(0,O.jsx)(a9,{"data-slot":"alert-dialog-description",className:(0,Y.cn)("text-muted-foreground text-sm",e),...t})}function lm({className:e,...t}){return(0,O.jsx)(le,{className:(0,Y.cn)(G(),e),...t})}function lp({className:e,...t}){return(0,O.jsx)(lr,{className:(0,Y.cn)(G({variant:"outline"}),e),...t})}let lh=(0,eh.createServerReference)("60540c35e74583984d1f18f46c5dd179d907a1884a",eh.callServer,void 0,eh.findSourceMapURL,"getAllFormTemplates"),lf=(0,eh.createServerReference)("4032871760b58d72e20d1c7e0ee01e0a371b85cb37",eh.callServer,void 0,eh.findSourceMapURL,"deleteFormTemplate"),lx=(0,eh.createServerReference)("7041612a14620cf7b0487a082caf09308b118d4c56",eh.callServer,void 0,eh.findSourceMapURL,"publishFormTemplate"),lg=(0,eh.createServerReference)("60c3c03ed873f3381a72d4c0d5c85804145bb73a55",eh.callServer,void 0,eh.findSourceMapURL,"toggleFormStatus"),lv=(0,eh.createServerReference)("00fc288c5da790c0883460fb019f8a45cc81a880bb",eh.callServer,void 0,eh.findSourceMapURL,"getAllColleges");var lb=e.i(20682),ly="rovingFocusGroup.onEntryFocus",lj={bubbles:!1,cancelable:!0},lw="RovingFocusGroup",[lN,lk,lS]=(0,nt.createCollection)(lw),[lC,l_]=(0,e6.createContextScope)(lw,[lS]),[lR,lE]=lC(lw),lD=F.forwardRef((e,t)=>(0,O.jsx)(lN.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,O.jsx)(lN.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,O.jsx)(lM,{...e,ref:t})})}));lD.displayName=lw;var lM=F.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:o,onEntryFocus:d,preventScrollOnEntryFocus:c=!1,...u}=e,m=F.useRef(null),p=(0,$.useComposedRefs)(t,m),h=nn(a),[f,x]=(0,tt.useControllableState)({prop:l,defaultProp:i??null,onChange:o,caller:lw}),[g,v]=F.useState(!1),b=(0,ts.useCallbackRef)(d),y=lk(r),j=F.useRef(!1),[w,N]=F.useState(0);return F.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(ly,b),()=>e.removeEventListener(ly,b)},[b]),(0,O.jsx)(lR,{scope:r,orientation:n,dir:h,loop:s,currentTabStopId:f,onItemFocus:F.useCallback(e=>x(e),[x]),onItemShiftTab:F.useCallback(()=>v(!0),[]),onFocusableItemAdd:F.useCallback(()=>N(e=>e+1),[]),onFocusableItemRemove:F.useCallback(()=>N(e=>e-1),[]),children:(0,O.jsx)(tn.Primitive.div,{tabIndex:g||0===w?-1:0,"data-orientation":n,...u,ref:p,style:{outline:"none",...e.style},onMouseDown:(0,e3.composeEventHandlers)(e.onMouseDown,()=>{j.current=!0}),onFocus:(0,e3.composeEventHandlers)(e.onFocus,e=>{let t=!j.current;if(e.target===e.currentTarget&&t&&!g){let t=new CustomEvent(ly,lj);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=y().filter(e=>e.focusable);lz([e.find(e=>e.active),e.find(e=>e.id===f),...e].filter(Boolean).map(e=>e.ref.current),c)}}j.current=!1}),onBlur:(0,e3.composeEventHandlers)(e.onBlur,()=>v(!1))})})}),lI="RovingFocusGroupItem",lA=F.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:l,...i}=e,o=te(),d=a||o,c=lE(lI,r),u=c.currentTabStopId===d,m=lk(r),{onFocusableItemAdd:p,onFocusableItemRemove:h,currentTabStopId:f}=c;return F.useEffect(()=>{if(n)return p(),()=>h()},[n,p,h]),(0,O.jsx)(lN.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:(0,O.jsx)(tn.Primitive.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:(0,e3.composeEventHandlers)(e.onMouseDown,e=>{n?c.onItemFocus(d):e.preventDefault()}),onFocus:(0,e3.composeEventHandlers)(e.onFocus,()=>c.onItemFocus(d)),onKeyDown:(0,e3.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return lL[s]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let a=s.indexOf(e.currentTarget);s=c.loop?(r=s,n=a+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(a+1)}setTimeout(()=>lz(s))}}),children:"function"==typeof l?l({isCurrentTabStop:u,hasTabStop:null!=f}):l})})});lA.displayName=lI;var lL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lz(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var lP="Radio",[lT,lO]=(0,e6.createContextScope)(lP),[lF,l$]=lT(lP),lq=F.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:l,value:i="on",onCheck:o,form:d,...c}=e,[u,m]=F.useState(null),p=(0,$.useComposedRefs)(t,e=>m(e)),h=F.useRef(!1),f=!u||d||!!u.closest("form");return(0,O.jsxs)(lF,{scope:r,checked:s,disabled:l,children:[(0,O.jsx)(tn.Primitive.button,{type:"button",role:"radio","aria-checked":s,"data-state":lW(s),"data-disabled":l?"":void 0,disabled:l,value:i,...c,ref:p,onClick:(0,e3.composeEventHandlers)(e.onClick,e=>{s||o?.(),f&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})}),f&&(0,O.jsx)(lU,{control:u,bubbles:!h.current,name:n,value:i,checked:s,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});lq.displayName=lP;var lH="RadioIndicator",lB=F.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:n,...s}=e,a=l$(lH,r);return(0,O.jsx)(tf.Presence,{present:n||a.checked,children:(0,O.jsx)(tn.Primitive.span,{"data-state":lW(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});lB.displayName=lH;var lU=F.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{let l=F.useRef(null),i=(0,$.useComposedRefs)(l,a),o=rJ(r),d=rZ(t);return F.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[o,r,n]),(0,O.jsx)(tn.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function lW(e){return e?"checked":"unchecked"}lU.displayName="RadioBubbleInput";var lV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lK="RadioGroup",[lX,lY]=(0,e6.createContextScope)(lK,[l_,lO]),lG=l_(),lJ=lO(),[lZ,lQ]=lX(lK),l0=F.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:l=!1,disabled:i=!1,orientation:o,dir:d,loop:c=!0,onValueChange:u,...m}=e,p=lG(r),h=nn(d),[f,x]=(0,tt.useControllableState)({prop:a,defaultProp:s??null,onChange:u,caller:lK});return(0,O.jsx)(lZ,{scope:r,name:n,required:l,disabled:i,value:f,onValueChange:x,children:(0,O.jsx)(lD,{asChild:!0,...p,orientation:o,dir:h,loop:c,children:(0,O.jsx)(tn.Primitive.div,{role:"radiogroup","aria-required":l,"aria-orientation":o,"data-disabled":i?"":void 0,dir:h,...m,ref:t})})})});l0.displayName=lK;var l1="RadioGroupItem",l2=F.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...s}=e,a=lQ(l1,r),l=a.disabled||n,i=lG(r),o=lJ(r),d=F.useRef(null),c=(0,$.useComposedRefs)(t,d),u=a.value===s.value,m=F.useRef(!1);return F.useEffect(()=>{let e=e=>{lV.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,O.jsx)(lA,{asChild:!0,...i,focusable:!l,active:u,children:(0,O.jsx)(lq,{disabled:l,required:a.required,checked:u,...o,...s,name:a.name,ref:c,onCheck:()=>a.onValueChange(s.value),onKeyDown:(0,e3.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,e3.composeEventHandlers)(s.onFocus,()=>{m.current&&d.current?.click()})})})});l2.displayName=l1;var l4=F.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...n}=e,s=lJ(r);return(0,O.jsx)(lB,{...s,...n,ref:t})});l4.displayName="RadioGroupIndicator";let l5=(0,em.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function l3({className:e,...t}){return(0,O.jsx)(l0,{"data-slot":"radio-group",className:(0,Y.cn)("grid gap-3",e),...t})}function l6({className:e,...t}){return(0,O.jsx)(l2,{"data-slot":"radio-group-item",className:(0,Y.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,O.jsx)(l4,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,O.jsx)(l5,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}let l8=(0,em.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),l7=(0,em.default)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l9=(0,eh.createServerReference)("00b5a912035e3b3028c92f8a0e085f373d3923d24d",eh.callServer,void 0,eh.findSourceMapURL,"getAllWorkflows"),ie=(0,eh.createServerReference)("00522f50caed05888675e37de49f4d50fa9924d388",eh.callServer,void 0,eh.findSourceMapURL,"getApproversList");function it({open:e,onOpenChange:t,onConfirm:r}){let[n,s]=(0,F.useState)("existing"),[a,l]=(0,F.useState)(),[i,o]=(0,F.useState)([]),[d,c]=(0,F.useState)([]),[u,m]=(0,F.useState)([]),[p,h]=(0,F.useState)(""),[f,x]=(0,F.useState)([]),[g,v]=(0,F.useState)({name:"",approverId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""}),{toast:b}=(0,lb.useToast)();(0,F.useEffect)(()=>{e&&(y(),s("existing"),h(""),x([]),v({name:"",approverId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""}))},[e]);let y=async()=>{let[e,t]=await Promise.all([l9(),ie()]);e.success&&e.data&&o(e.data),t.success&&t.data&&(c(t.data.roles||[]),m(t.data.users||[]))},j=(e,t)=>{v(r=>({...r,[e]:t}))};return(0,O.jsx)(aF,{open:e,onOpenChange:t,children:(0,O.jsxs)(aH,{className:`${"new"===n?"max-w-7xl":"sm:max-w-2xl"} max-h-[90vh] overflow-y-auto`,dir:"rtl",children:[(0,O.jsxs)(aB,{className:"p-6 border-b bg-white flex-shrink-0 z-10",children:[(0,O.jsx)(aW,{className:"text-2xl font-bold",children:"ØªØ¹ÙŠÙŠÙ† Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ Ù„Ù„Ù†Ù…ÙˆØ°Ø¬"}),(0,O.jsx)(aV,{className:"text-base mt-2 text-muted-foreground",children:"Ø§Ø®ØªØ± Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ Ù‚Ù… Ø¨ØªØµÙ…ÙŠÙ… Ù…Ø³Ø§Ø± Ø¬Ø¯ÙŠØ¯ Ù…Ø®ØµØµ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"})]}),(0,O.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gray-50/50 p-6",children:[(0,O.jsx)(l3,{value:n,onValueChange:e=>s(e),className:"mb-8",children:(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,O.jsxs)("label",{htmlFor:"existing",className:`relative flex flex-col items-start gap-4 p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:shadow-md bg-white ${"existing"===n?"border-primary bg-primary/5 shadow-md ring-1 ring-primary/20":"border-muted hover:border-muted-foreground/50"}`,children:[(0,O.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,O.jsx)("div",{className:`p-3 rounded-full ${"existing"===n?"bg-primary/10 text-primary":"bg-gray-100 text-gray-500"}`,children:(0,O.jsx)(e$,{className:"w-6 h-6"})}),(0,O.jsx)(l6,{value:"existing",id:"existing",className:"h-5 w-5"})]}),(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("div",{className:"font-bold text-lg",children:"Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ Ù…ÙˆØ¬ÙˆØ¯"}),(0,O.jsx)("div",{className:"text-sm text-muted-foreground leading-relaxed",children:"Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³Ø§Ø± ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯Ù‡ Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ù…Ù† Ø§Ù„Ù…ÙƒØªØ¨Ø©"})]})]}),(0,O.jsxs)("label",{htmlFor:"new",className:`relative flex flex-col items-start gap-4 p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:shadow-md bg-white ${"new"===n?"border-primary bg-primary/5 shadow-md ring-1 ring-primary/20":"border-muted hover:border-muted-foreground/50"}`,children:[(0,O.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,O.jsx)("div",{className:`p-3 rounded-full ${"new"===n?"bg-primary/10 text-primary":"bg-gray-100 text-gray-500"}`,children:(0,O.jsx)(ew,{className:"w-6 h-6"})}),(0,O.jsx)(l6,{value:"new",id:"new",className:"h-5 w-5"})]}),(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("div",{className:"font-bold text-lg",children:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø± Ø¬Ø¯ÙŠØ¯"}),(0,O.jsx)("div",{className:"text-sm text-muted-foreground leading-relaxed",children:"ØªØµÙ…ÙŠÙ… Ù…Ø³Ø§Ø± Ù…Ø®ØµØµ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"})]})]})]})}),"existing"===n&&(0,O.jsx)("div",{className:"bg-white p-8 rounded-xl border shadow-sm space-y-4 max-w-3xl mx-auto mt-8",children:(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-lg font-bold",children:"Ø§Ø®ØªØ± Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨"}),(0,O.jsxs)("select",{value:a||"",onChange:e=>l(parseInt(e.target.value)),className:"w-full h-14 px-4 rounded-lg border-2 bg-white text-lg focus:ring-4 focus:ring-primary/10 focus:border-primary transition-all",children:[(0,O.jsx)("option",{value:"",children:"-- Ø§Ù†Ù‚Ø± Ù„Ù„Ø§Ø®ØªÙŠØ§Ø± --"}),i.map(e=>(0,O.jsxs)("option",{value:e.workflow_id,children:[e.name," (",e.workflow_steps?.length||0," Ø®Ø·ÙˆØ§Øª)"]},e.workflow_id))]})]})}),"new"===n&&(0,O.jsxs)("div",{className:"space-y-6 pt-2",children:[(0,O.jsxs)("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:[(0,O.jsx)(ei,{className:"text-base font-bold mb-2 block",required:!0,children:"Ø§Ø³Ù… Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)(en,{placeholder:"Ù…Ø«Ø§Ù„: Ù…Ø³Ø§Ø± Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",value:p,onChange:e=>h(e.target.value),className:"h-11 text-lg bg-gray-50 focus:bg-white transition-colors"})]}),(0,O.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,O.jsxs)("div",{className:"lg:col-span-8 space-y-4",children:[(0,O.jsx)("div",{className:"flex justify-between items-center",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"}),(0,O.jsxs)("p",{className:"text-sm text-gray-500",children:[f.length," Ø®Ø·ÙˆØ§Øª Ù…Ø¹Ø¯Ø©"]})]})}),0===f.length?(0,O.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-12 text-center bg-white",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,O.jsx)(ew,{className:"w-8 h-8 text-teal-500"})}),(0,O.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø·ÙˆØ§Øª Ø¨Ø¹Ø¯"}),(0,O.jsx)("p",{className:"text-gray-500 mt-1 max-w-sm mx-auto",children:"Ø§Ø³ØªØ®Ø¯Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„."})]}):(0,O.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,O.jsxs)("div",{className:"relative group bg-white border rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all border-gray-200 hover:border-teal-300",children:[(0,O.jsx)("div",{className:"absolute top-0 right-0 bottom-0 w-1.5 bg-teal-500 rounded-r-xl"}),(0,O.jsxs)("div",{className:"p-4 pr-6 flex items-start gap-4",children:[(0,O.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,O.jsx)(J,{variant:"ghost",size:"icon",className:"text-red-400 hover:text-red-600 hover:bg-red-50",onClick:()=>{x(f.filter((e,r)=>r!==t))},children:(0,O.jsx)(rY,{className:"w-5 h-5"})})}),(0,O.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-bold text-sm shadow-sm mt-1",children:t+1}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),e.is_final&&(0,O.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 bg-teal-100 text-teal-700 rounded-full",children:"Ù…ÙˆØ§ÙÙ‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©"})]}),(0,O.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,O.jsx)("div",{className:"flex items-center justify-between pl-16",children:(0,O.jsxs)("p",{className:"text-gray-600 text-sm",children:[(0,O.jsx)("span",{className:"text-gray-400 ml-1",children:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:"}),(e=>{if(e.approver_user_id){let t=u.find(t=>t.user_id===e.approver_user_id);return t?`Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${t.full_name}`:"Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"}if(e.approver_role_id){let t=d.find(t=>t.role_id===e.approver_role_id);return t?t.role_name:"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}return"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"})(e)]})}),(0,O.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,O.jsx)(eA,{className:"w-3.5 h-3.5 ml-1.5"}),(0,O.jsx)("span",{children:e.sla_hours?e.sla_hours>=24?`${e.sla_hours/24} ÙŠÙˆÙ… Ø§Ù„Ù…Ù‡Ù„Ø©`:`${e.sla_hours} Ø³Ø§Ø¹Ø© Ø§Ù„Ù…Ù‡Ù„Ø©`:"24 Ø³Ø§Ø¹Ø© Ø§Ù„Ù…Ù‡Ù„Ø©"})]})]})]})]})]},t))})]}),(0,O.jsx)("div",{className:"lg:col-span-4 space-y-4",children:(0,O.jsxs)("div",{className:"border-none shadow-md sticky top-6 bg-white rounded-xl overflow-hidden",children:[(0,O.jsxs)("div",{className:"p-4 pb-3 border-b",children:[(0,O.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ©"}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"ØªÙƒÙˆÙŠÙ† Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø©"})]}),(0,O.jsxs)("div",{className:"p-4 space-y-4",children:[(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø·ÙˆØ©"}),(0,O.jsx)(en,{placeholder:"Ù…Ø«Ø§Ù„: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø¯ÙŠØ±",value:g.name,onChange:e=>j("name",e.target.value),className:"bg-gray-50 focus:bg-white transition-colors"})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"}),(0,O.jsxs)("select",{value:g.approverId,onChange:e=>j("approverId",e.target.value),className:"w-full flex h-10 rounded-md border border-input bg-gray-50 px-3 py-2 text-sm ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-sans",children:[(0,O.jsx)("option",{value:"",children:"-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ --"}),(0,O.jsx)("optgroup",{label:"Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©",children:d.map(e=>(0,O.jsx)("option",{value:`role_${e.role_id}`,children:e.role_name},`role_${e.role_id}`))}),(0,O.jsx)("optgroup",{label:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",children:u.map(e=>(0,O.jsx)("option",{value:`user_${e.user_id}`,children:e.full_name},`user_${e.user_id}`))})]})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ù…Ù‡Ù„Ø©"}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(en,{type:"number",min:"1",value:g.sla,onChange:e=>j("sla",parseInt(e.target.value)||0),className:"flex-1 bg-gray-50 focus:bg-white"}),(0,O.jsxs)("select",{value:g.slaUnit,onChange:e=>j("slaUnit",e.target.value),className:"w-24 rounded-md border border-input bg-gray-50 px-3 py-2 text-sm focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500",children:[(0,O.jsx)("option",{value:"hours",children:"Ø³Ø§Ø¹Ø©"}),(0,O.jsx)("option",{value:"days",children:"ÙŠÙˆÙ…"})]})]})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium text-gray-700",children:"ÙŠØªØµØ¹Ø¯ Ø¥Ù„Ù‰"}),(0,O.jsxs)("select",{value:g.escalationRoleId,onChange:e=>j("escalationRoleId",e.target.value),className:"w-full flex h-10 rounded-md border border-input bg-gray-50 px-3 py-2 text-sm focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-sans",children:[(0,O.jsx)("option",{value:"",children:"Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù… (ØªÙ„Ù‚Ø§Ø¦ÙŠ)"}),d.map(e=>(0,O.jsx)("option",{value:e.role_id,children:e.role_name},e.role_id))]})]}),(0,O.jsx)("div",{className:"pt-4 space-y-3 border-t",children:(0,O.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,O.jsxs)("div",{className:"relative flex items-center",children:[(0,O.jsx)("input",{type:"checkbox",className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-teal-600 checked:bg-teal-600",checked:g.isFinal||!1,onChange:e=>j("isFinal",e.target.checked)}),(0,O.jsx)("div",{className:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100",children:(0,O.jsx)(l7,{className:"w-3.5 h-3.5"})})]}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("span",{className:"block text-sm font-medium text-gray-700 group-hover:text-teal-700 transition-colors",children:"Ø®Ø·ÙˆØ© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©ØŸ"}),(0,O.jsx)("span",{className:"block text-xs text-muted-foreground mt-0.5",children:"ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙƒÙ…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡"})]})]})}),(0,O.jsxs)(J,{onClick:()=>{if(!g.name||!g.approverId)return void b({title:"ØªÙ†Ø¨ÙŠÙ‡",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø®Ø·ÙˆØ© ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",variant:"destructive"});let e=0,t=null;g.approverId.startsWith("role_")?e=parseInt(g.approverId.split("_")[1]):g.approverId.startsWith("user_")&&(t=parseInt(g.approverId.split("_")[1]));let r=e?d.find(t=>t.role_id===e):null,n=t?u.find(e=>e.user_id===t):null;x([...f,{name:g.name,approver_role_id:e,approver_user_id:t,roles:r,users:n,sla_hours:"days"===g.slaUnit?24*g.sla:g.sla,is_final:g.isFinal,escalation_role_id:g.escalationRoleId?parseInt(g.escalationRoleId):null}]),v({name:"",approverId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""})},className:"w-full mt-4 bg-teal-600 hover:bg-teal-700 text-white shadow-md hover:shadow-lg transition-all h-12 text-base font-bold",children:[(0,O.jsx)(ew,{className:"w-5 h-5 ml-2"}),"Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø©"]})]})]})})]})]})]}),(0,O.jsxs)("div",{className:"p-5 border-t bg-white flex justify-end gap-3 flex-shrink-0",children:[(0,O.jsx)(J,{variant:"outline",onClick:()=>t(!1),className:"h-10 px-6",children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsxs)(J,{onClick:()=>{if("existing"===n&&!a)return void b({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³Ø§Ø± Ø¹Ù…Ù„",variant:"destructive"});if("new"===n){if(!p.trim())return void b({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„",variant:"destructive"});if(0===f.length)return void b({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",variant:"destructive"})}let e={mode:n};"existing"===n?e.workflowId=a:"new"===n&&(e.newWorkflow={name:p,steps:f.map((e,t)=>({name:e.name,order:t+1,approver_role_id:e.approver_role_id||void 0,approver_user_id:e.approver_user_id||null,sla_hours:e.sla_hours||null,is_final:e.is_final||!1,escalation_role_id:e.escalation_role_id||null}))}),r(e)},className:"h-10 px-8 font-bold",children:[(0,O.jsx)(l8,{className:"w-4 h-4 ml-2"}),"ØªØ£ÙƒÙŠØ¯ ÙˆØ­ÙØ¸"]})]})]})},`workflow-dialog-${n}`)}function ir({onEditForm:e,onCreateNewForm:t,onBack:r}){let[n,s]=(0,F.useState)([]),[a,l]=(0,F.useState)(!0),[i,o]=(0,F.useState)(null),[d,c]=(0,F.useState)(""),[u,m]=(0,F.useState)("all"),[p,h]=(0,F.useState)(!1),[f,x]=(0,F.useState)(!1),[g,v]=(0,F.useState)("all_students"),[b,y]=(0,F.useState)(null),[j,w]=(0,F.useState)(null),[N,k]=(0,F.useState)([]),[S,C]=(0,F.useState)([]),[_,R]=(0,F.useState)([]),[E,D]=(0,F.useState)([]),[M,I]=(0,F.useState)(!1),[A,L]=(0,F.useState)(null),{toast:z}=(0,lb.useToast)();(0,F.useEffect)(()=>{T(),P()},[]);let P=async()=>{let e=await lv();e.success&&e.data&&(R(e.data),D(e.data.flatMap(e=>(e.departments||[]).map(t=>({...t,college_id:e.college_id})))))},T=async()=>{l(!0),o(null);try{let e=await lh();e.success&&e.data?s(e.data):o(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬")}catch(e){console.error("Failed to fetch forms:",e),o("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{l(!1)}},$=async()=>{if(A)try{let e=await lf(A);e.success?(z({title:e.message||"âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­"}),await T(),I(!1),L(null)):z({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù",description:e.error,variant:"destructive"})}catch(e){z({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},[q,H]=(0,F.useState)(null),[B,U]=(0,F.useState)(null),W=async(e,t)=>{if(t)w(e),x(!0);else{y(e),X(!1);let t=n.find(t=>t.form_id===e),r=null;if(t){if(t.request_types){let e=Array.isArray(t.request_types)?t.request_types[0]:t.request_types;if(e&&e.workflows){let t=Array.isArray(e.workflows)?e.workflows[0]:e.workflows;r=t?.name}}if(t.audience_config){let e=t.audience_config;U(e),e.colleges?.length>0||e.departments?.length>0?(v("specific"),Array.isArray(_)&&_.length&&(k(e.colleges||[]),C(e.departments||[]))):e.student&&!0===e.employee?v("all"):e.employee?v("all_employees"):v("all_students")}else v("all_students"),U(null)}H(r),h(!0)}},V=async()=>{if(j)try{let e=await lg(j,!1);e.success?(z({title:"âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±",description:"ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­"}),x(!1),w(null),await T()):z({title:"âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±",description:e.error,variant:"destructive"})}catch(e){z({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},[K,X]=(0,F.useState)(!1),[Y,G]=(0,F.useState)(!1),Q=()=>({student:"all_students"===g||"all"===g||"specific"===g&&B?.student!==!1,employee:"all_employees"===g||"all"===g||"specific"===g&&B?.employee!==!1,colleges:"specific"===g?N:[],departments:"specific"===g?S:[]}),ee=async()=>{if(!b)return;let e=Q();if(B&&q&&!K){let t=!!e.student!=(!1!==B.student),r=!!e.employee!=(!1!==B.employee),n=(e,t)=>{if((!e||0===e.length)&&(!t||0===t.length))return!0;if(!e||!t||e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((e,t)=>e===n[t])},s=!n(B.colleges||[],e.colleges||[]),a=!n(B.departments||[],e.departments||[]);if(t||r||s||a)return void X(!0)}es(e)},et=async e=>{if(!b)return;let t=Q();await es(t,e),G(!1)},es=async(e,t)=>{try{let r=await lx(b,e,t);r.success?(z({title:"âœ… ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­"}),h(!1),X(!1),y(null),await T()):z({title:"âŒ ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±",description:r.error,variant:"destructive"})}catch(e){z({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},ea=n.filter(e=>{let t=e.name.toLowerCase().includes(d.toLowerCase()),r="all"===u||e.target_audience&&e.target_audience.includes(u);return t&&r});return a?(0,O.jsxs)("div",{className:"space-y-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬"}),(0,O.jsx)(J,{onClick:r,variant:"outline",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]}):i?(0,O.jsxs)("div",{className:"space-y-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬"}),(0,O.jsx)(J,{onClick:r,variant:"outline",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:i,onRetry:T})]}):(0,O.jsxs)("div",{className:"space-y-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex flex-col gap-4 bg-card p-6 rounded-lg border shadow-sm",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬"}),(0,O.jsx)("p",{className:"text-muted-foreground mt-1",children:"Ù‚Ù… Ø¨Ø¥Ø¯Ø§Ø±Ø© Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ ØªÙØ¹ÙŠÙ„Ù‡Ø§ØŒ Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§"})]}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsxs)(J,{onClick:t,className:"bg-primary hover:bg-primary/90 text-primary-foreground gap-2",children:[(0,O.jsx)(ew,{className:"w-4 h-4"}),"Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø¬Ø¯ÙŠØ¯"]}),(0,O.jsxs)(J,{variant:"outline",onClick:r,className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})]}),(0,O.jsxs)("div",{className:"flex gap-4",children:[(0,O.jsxs)("div",{className:"relative flex-1",children:[(0,O.jsx)(eM,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),(0,O.jsx)(en,{placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ù†Ù…ÙˆØ°Ø¬...",value:d,onChange:e=>c(e.target.value),className:"pr-9"})]}),(0,O.jsxs)(aI,{value:u,onValueChange:e=>m(e),children:[(0,O.jsx)(aL,{className:"w-[180px]",dir:"rtl",children:(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(rG,{className:"w-4 h-4 text-muted-foreground"}),(0,O.jsx)(aA,{placeholder:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±"})]})}),(0,O.jsxs)(az,{dir:"rtl",children:[(0,O.jsx)(aP,{value:"all",children:"Ø§Ù„ÙƒÙ„"}),(0,O.jsx)(aP,{value:"student",children:"Ø§Ù„Ø·Ù„Ø§Ø¨"}),(0,O.jsx)(aP,{value:"employee",children:"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"})]})]})]})]}),0===ea.length?(0,O.jsx)(e0,{icon:"ðŸ“‹",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù…Ø§Ø°Ø¬",description:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù…Ø§Ø°Ø¬ Ø­Ø§Ù„ÙŠØ§Ù‹. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø¬Ø¯ÙŠØ¯.",action:{label:"Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¢Ù†",onClick:t}}):(0,O.jsx)("div",{className:"grid grid-cols-1 gap-4",children:ea.map(t=>(0,O.jsx)(Z,{className:`transition-all hover:shadow-md border-l-4 ${t.is_active?"border-l-primary":"border-l-slate-300"}`,children:(0,O.jsx)(er,{className:"p-6",children:(0,O.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,O.jsxs)("div",{className:"flex items-start gap-4 flex-1 w-full",children:[(0,O.jsx)("div",{className:`p-3 rounded-full ${t.is_active?"bg-primary/10 text-primary":"bg-slate-100 text-slate-500"}`,children:(0,O.jsx)(eP,{className:"w-6 h-6"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"font-bold text-xl text-foreground mb-1",children:t.name}),(0,O.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-muted-foreground",children:[(0,O.jsx)(e5,{variant:"outline",children:"all_students"===t.target_audience?"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨":"all_employees"===t.target_audience?"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"specific"===t.target_audience?"Ù…Ø­Ø¯Ø¯":"Ø§Ù„ÙƒÙ„"}),(0,O.jsx)("span",{children:"â€¢"}),(0,O.jsx)("span",{children:t.is_active?"Ù…Ù†Ø´ÙˆØ±":"Ù…Ø³ÙˆØ¯Ø©"}),(0,O.jsx)("span",{children:"â€¢"}),(0,O.jsxs)("span",{children:["Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„: ",t.updated_at?new Date(t.updated_at).toLocaleDateString("ar-SA"):"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})]})]})]}),(0,O.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end",children:[(0,O.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-lg border",children:[(0,O.jsx)("span",{className:`text-sm font-medium ${t.is_active?"text-primary":"text-slate-500"}`,children:t.is_active?"Ù…ÙØ¹Ù‘Ù„":"Ù…Ø¹Ø·Ù‘Ù„"}),(0,O.jsx)(r9,{dir:"ltr",checked:t.is_active,onCheckedChange:()=>W(t.form_id,t.is_active),className:"data-[state=checked]:bg-primary ml-1"})]}),(0,O.jsxs)(J,{onClick:()=>e(t.form_id.toString()),variant:"outline",className:"gap-2 border-primary text-primary hover:bg-primary/5",children:[(0,O.jsx)(eP,{className:"w-4 h-4"}),"ØªØ¹Ø¯ÙŠÙ„"]}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:()=>{L(t.form_id),I(!0)},className:"text-destructive hover:bg-destructive/10",children:(0,O.jsx)(rY,{className:"w-4 h-4"})})]})]})})},t.form_id))}),(0,O.jsx)(aF,{open:p,onOpenChange:h,children:(0,O.jsxs)(aH,{dir:"rtl",className:"sm:max-w-md gap-4",children:[(0,O.jsxs)(aB,{className:"space-y-2",children:[(0,O.jsx)(aW,{children:K?"âš ï¸ ØªØºÙŠÙŠØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù":"ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"}),(0,O.jsx)(aV,{children:K?"Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø®ØªÙ„Ù Ø¹Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ©. Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ø±ØªØ¨Ø· Ø¨Ù…Ø³Ø§Ø± Ø¹Ù…Ù„.":"Ù„Ù…Ù† ØªØ±ØºØ¨ ÙÙŠ Ø¥ØªØ§Ø­Ø© Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŸ"})]}),K?(0,O.jsx)("div",{className:"py-2",children:(0,O.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:[(0,O.jsx)("p",{className:"text-sm font-semibold text-amber-800 mb-1",children:"Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ:"}),(0,O.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,O.jsx)(e5,{variant:"outline",className:"bg-white text-amber-900 border-amber-200",children:q})}),(0,O.jsx)("p",{className:"text-xs text-amber-700 leading-relaxed",children:"Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ù†ÙØ³ Ø§Ù„Ù…Ø³Ø§Ø± Ø£Ù… ØªØºÙŠÙŠØ±Ù‡ Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ØŸ"})]})}):(0,O.jsxs)("div",{className:"py-2 space-y-4",children:[(0,O.jsxs)("div",{className:"p-3 bg-slate-50 border border-slate-100 rounded-md flex items-center justify-between",children:[(0,O.jsx)("span",{className:"text-sm text-slate-600",children:"Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„:"}),q?(0,O.jsx)(e5,{variant:"secondary",className:"bg-white shadow-sm border",children:q}):(0,O.jsx)(e5,{variant:"destructive",className:"text-xs",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³Ø§Ø±"})]}),(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-sm",children:"Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù"}),(0,O.jsxs)(aI,{value:g,onValueChange:v,children:[(0,O.jsx)(aL,{children:(0,O.jsx)(aA,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±"})}),(0,O.jsxs)(az,{dir:"rtl",children:[(0,O.jsx)(aP,{value:"all_students",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨"}),(0,O.jsx)(aP,{value:"all_employees",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"}),(0,O.jsx)(aP,{value:"all",children:"Ø§Ù„Ø¬Ù…ÙŠØ¹"}),(0,O.jsx)(aP,{value:"specific",children:"Ù…Ø­Ø¯Ø¯ (ÙƒÙ„ÙŠØ§Øª/Ø£Ù‚Ø³Ø§Ù…)"})]})]})]}),"specific"===g&&(0,O.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,O.jsx)("p",{className:"text-sm font-semibold mb-1",children:"ØªØ®ØµÙŠØµ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±:"}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-xs text-muted-foreground",children:"Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)("div",{className:"h-[120px] overflow-y-auto border rounded-md bg-white p-2",children:0===_.length?(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯"}):_.map(e=>(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,O.jsx)("input",{type:"checkbox",checked:N.includes(e.college_id),onChange:t=>{t.target.checked?k([...N,e.college_id]):k(N.filter(t=>t!==e.college_id))},className:"w-3.5 h-3.5 accent-primary"}),(0,O.jsx)("span",{className:"text-xs",children:e.name})]},e.college_id))})]}),(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),(0,O.jsx)("div",{className:"h-[120px] overflow-y-auto border rounded-md bg-white p-2",children:0===E.length?(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯"}):E.map(e=>(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,O.jsx)("input",{type:"checkbox",checked:S.includes(e.department_id),onChange:t=>{t.target.checked?C([...S,e.department_id]):C(S.filter(t=>t!==e.department_id))},className:"w-3.5 h-3.5 accent-primary"}),(0,O.jsx)("span",{className:"text-xs",children:e.dept_name})]},e.department_id))})]})]})]})]}),(0,O.jsx)(aU,{className:"gap-2 sm:gap-0",children:K?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(J,{variant:"outline",size:"sm",onClick:()=>{h(!1),X(!1),G(!0)},children:"ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø±"}),(0,O.jsx)(J,{size:"sm",onClick:ee,children:"Ø¥Ø¨Ù‚Ø§Ø¡ ÙˆÙ†Ø´Ø±"})]}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(J,{variant:"outline",size:"sm",onClick:()=>h(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(J,{size:"sm",onClick:ee,children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ø´Ø±"})]})})]})}),(0,O.jsx)(it,{open:Y,onOpenChange:G,onConfirm:et}),(0,O.jsx)(aF,{open:f,onOpenChange:x,children:(0,O.jsxs)(aH,{dir:"rtl",className:"sm:max-w-md gap-4",children:[(0,O.jsxs)(aB,{className:"space-y-2",children:[(0,O.jsx)(aW,{children:"ØªØ£ÙƒÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±"}),(0,O.jsx)(aV,{children:"Ø³ÙŠØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆÙ„Ù† ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ø·Ù„Ø§Ø¨/Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ù† ØªØ¹Ø¨Ø¦ØªÙ‡."})]}),(0,O.jsx)("div",{className:"py-2",children:(0,O.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 text-sm text-orange-900",children:(0,O.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,O.jsx)("span",{className:"text-lg",children:"âš ï¸"}),(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("p",{className:"font-semibold",children:"ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…"}),(0,O.jsx)("p",{className:"text-xs text-orange-800 leading-relaxed",children:"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø± Ù„Ø§ ÙŠØ­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ ÙˆÙ„ÙƒÙ† ÙŠÙ…Ù†Ø¹ Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„Ù‡ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª."})]})]})})}),(0,O.jsxs)(aU,{className:"gap-2 sm:gap-0",children:[(0,O.jsx)(J,{variant:"outline",size:"sm",onClick:()=>x(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(J,{size:"sm",onClick:V,variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ù„ØºØ§Ø¡"})]})]})}),(0,O.jsx)(ls,{open:M,onOpenChange:I,children:(0,O.jsxs)(li,{dir:"rtl",children:[(0,O.jsxs)(lo,{children:[(0,O.jsx)(lc,{children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŸ"}),(0,O.jsx)(lu,{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹."})]}),(0,O.jsxs)(ld,{children:[(0,O.jsx)(lp,{children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(lm,{onClick:$,className:"bg-destructive hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}let is=(0,em.default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),ia=(0,F.createContext)(null);ia.displayName="PanelGroupContext";let il="data-panel-group-direction",ii="data-panel-group-id",io="data-resize-handle",id="data-panel-resize-handle-id",ic=F.useLayoutEffect,iu=F["useId".toString()],im="function"==typeof iu?iu:()=>null,ip=0;function ih(e=null){let t=im(),r=(0,F.useRef)(e||t||null);return null===r.current&&(r.current=""+ip++),null!=e?e:r.current}function ix({children:e,className:t="",collapsedSize:r,collapsible:n,defaultSize:s,forwardedRef:a,id:l,maxSize:i,minSize:o,onCollapse:d,onExpand:c,onResize:u,order:m,style:p,tagName:h="div",...f}){let x=(0,F.useContext)(ia);if(null===x)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:g,expandPanel:v,getPanelSize:b,getPanelStyle:y,groupId:j,isPanelCollapsed:w,reevaluatePanelConstraints:N,registerPanel:k,resizePanel:S,unregisterPanel:C}=x,_=ih(l),R=(0,F.useRef)({callbacks:{onCollapse:d,onExpand:c,onResize:u},constraints:{collapsedSize:r,collapsible:n,defaultSize:s,maxSize:i,minSize:o},id:_,idIsFromProps:void 0!==l,order:m});(0,F.useRef)({didLogMissingDefaultSizeWarning:!1}),ic(()=>{let{callbacks:e,constraints:t}=R.current,a={...t};R.current.id=_,R.current.idIsFromProps=void 0!==l,R.current.order=m,e.onCollapse=d,e.onExpand=c,e.onResize=u,t.collapsedSize=r,t.collapsible=n,t.defaultSize=s,t.maxSize=i,t.minSize=o,(a.collapsedSize!==t.collapsedSize||a.collapsible!==t.collapsible||a.maxSize!==t.maxSize||a.minSize!==t.minSize)&&N(R.current,a)}),ic(()=>{let e=R.current;return k(e),()=>{C(e)}},[m,_,k,C]),(0,F.useImperativeHandle)(a,()=>({collapse:()=>{g(R.current)},expand:e=>{v(R.current,e)},getId:()=>_,getSize:()=>b(R.current),isCollapsed:()=>w(R.current),isExpanded:()=>!w(R.current),resize:e=>{S(R.current,e)}}),[g,v,b,w,_,S]);let E=y(R.current,s);return(0,F.createElement)(h,{...f,children:e,className:t,id:_,style:{...E,...p},[ii]:j,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":_,"data-panel-size":parseFloat(""+E.flexGrow).toFixed(1)})}let ig=(0,F.forwardRef)((e,t)=>(0,F.createElement)(ix,{...e,forwardedRef:t}));ix.displayName="Panel",ig.displayName="forwardRef(Panel)";let iv=null,ib=-1,iy=null;function ij(e,r,n){var s,a,l;let i=function(e,t,r){let n=(t&iM)!=0,s=(t&iI)!=0,a=(t&iA)!=0,l=(t&iL)!=0;if(t){if(n)if(a)return"se-resize";else if(l)return"ne-resize";else return"e-resize";else if(s)if(a)return"sw-resize";else if(l)return"nw-resize";else return"w-resize";else if(a)return"s-resize";else if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,r,0);iv!==i&&(iv=i,null===iy&&(iy=document.createElement("style"),t&&iy.setAttribute("nonce",t),document.head.appendChild(iy)),ib>=0&&(null==(l=iy.sheet)||l.removeRule(ib)),ib=null!=(s=null==(a=iy.sheet)?void 0:a.insertRule(`*{cursor: ${i} !important;}`))?s:-1)}function iw(e){return"keydown"===e.type}function iN(e){return e.type.startsWith("pointer")}function ik(e){return e.type.startsWith("mouse")}function iS(e){if(iN(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(ik(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}let iC=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function i_(e){let t=e.length;for(;t--;){let r=e[t];if(iY(r,"Missing node"),function(e){var t;let r,n=getComputedStyle(e);return"fixed"===n.position||!!("auto"!==n.zIndex&&("static"!==n.position||"flex"===(r=getComputedStyle(null!=(t=iD(e))?t:e).display)||"inline-flex"===r)||1>+n.opacity||"transform"in n&&"none"!==n.transform||"webkitTransform"in n&&"none"!==n.webkitTransform||"mixBlendMode"in n&&"normal"!==n.mixBlendMode||"filter"in n&&"none"!==n.filter||"webkitFilter"in n&&"none"!==n.webkitFilter||"isolation"in n&&"isolate"===n.isolation||iC.test(n.willChange))||"touch"===n.webkitOverflowScrolling}(r))return r}return null}function iR(e){return e&&Number(getComputedStyle(e).zIndex)||0}function iE(e){let t=[];for(;e;)t.push(e),e=iD(e);return t}function iD(e){let{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}let iM=1,iI=2,iA=4,iL=8,iz="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}(),iP=[],iT=!1,iO=new Map,iF=new Map,i$=new Set;function iq(e){let{target:t}=e,{x:r,y:n}=iS(e);iT=!0,iW({target:t,x:r,y:n}),iK(),iP.length>0&&(iX("down",e),iV(),e.preventDefault(),iU(t)||e.stopImmediatePropagation())}function iH(e){let{x:t,y:r}=iS(e);if(iT&&"pointerleave"!==e.type&&0===e.buttons&&(iT=!1,iX("up",e)),!iT){let{target:n}=e;iW({target:n,x:t,y:r})}iX("move",e),iV(),iP.length>0&&e.preventDefault()}function iB(e){let{target:t}=e,{x:r,y:n}=iS(e);iF.clear(),iT=!1,iP.length>0&&(e.preventDefault(),iU(t)||e.stopImmediatePropagation()),iX("up",e),iW({target:t,x:r,y:n}),iV(),iK()}function iU(e){let t=e;for(;t;){if(t.hasAttribute(io))return!0;t=t.parentElement}return!1}function iW({target:e,x:t,y:r}){iP.splice(0);let n=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(n=e),i$.forEach(e=>{let{element:s,hitAreaMargins:a}=e,l=s.getBoundingClientRect(),{bottom:i,left:o,right:d,top:c}=l,u=iz?a.coarse:a.fine;if(t>=o-u&&t<=d+u&&r>=c-u&&r<=i+u){if(null!==n&&document.contains(n)&&s!==n&&!s.contains(n)&&!n.contains(s)&&function(e,t){let r;if(e===t)throw Error("Cannot compare node with itself");let n={a:iE(e),b:iE(t)};for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;iY(r,"Stacking order can only be calculated for elements with a common ancestor");let s={a:iR(i_(n.a)),b:iR(i_(n.b))};if(s.a===s.b){let e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)},s=e.length;for(;s--;){let r=e[s];if(r===t.a)return 1;if(r===t.b)return -1}}return Math.sign(s.a-s.b)}(n,s)>0){let e=n,t=!1;for(;e;){var m;if(e.contains(s))break;if(m=e.getBoundingClientRect(),m.x<l.x+l.width&&m.x+m.width>l.x&&m.y<l.y+l.height&&m.y+m.height>l.y){t=!0;break}e=e.parentElement}if(t)return}iP.push(e)}})}function iV(){let e=!1,t=!1;iP.forEach(r=>{let{direction:n}=r;"horizontal"===n?e=!0:t=!0});let r=0;iF.forEach(e=>{r|=e}),e&&t?ij("intersection",r,iT):e?ij("horizontal",r,iT):t?ij("vertical",r,iT):null!==iy&&(document.head.removeChild(iy),iv=null,iy=null,ib=-1)}function iK(){var e;null==(e=r)||e.abort();let t={capture:!0,signal:(r=new AbortController).signal};i$.size&&(iT?(iP.length>0&&iO.forEach((e,r)=>{let{body:n}=r;e>0&&(n.addEventListener("contextmenu",iB,t),n.addEventListener("pointerleave",iH,t),n.addEventListener("pointermove",iH,t))}),iO.forEach((e,r)=>{let{body:n}=r;n.addEventListener("pointerup",iB,t),n.addEventListener("pointercancel",iB,t)})):iO.forEach((e,r)=>{let{body:n}=r;e>0&&(n.addEventListener("pointerdown",iq,t),n.addEventListener("pointermove",iH,t))}))}function iX(e,t){i$.forEach(r=>{let{setResizeHandlerState:n}=r;n(e,iP.includes(r),t)})}function iY(e,t){if(!e)throw console.error(t),Error(t)}function iG(e,t,r=10){return e.toFixed(r)===t.toFixed(r)?0:e>t?1:-1}function iJ(e,t,r=10){return 0===iG(e,t,r)}function iZ(e,t,r){return 0===iG(e,t,r)}function iQ({panelConstraints:e,panelIndex:t,size:r}){let n=e[t];iY(null!=n,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:a,maxSize:l=100,minSize:i=0}=n;return 0>iG(r,i)&&(r=a&&0>iG(r,(s+i)/2)?s:i),r=parseFloat((r=Math.min(l,r)).toFixed(10))}function i0({delta:e,initialLayout:t,panelConstraints:r,pivotIndices:n,prevLayout:s,trigger:a}){if(iZ(e,0))return t;let l=[...t],[i,o]=n;iY(null!=i,"Invalid first pivot index"),iY(null!=o,"Invalid second pivot index");let d=0;if("keyboard"===a){{let n=e<0?o:i,s=r[n];iY(s,`Panel constraints not found for index ${n}`);let{collapsedSize:a=0,collapsible:l,minSize:d=0}=s;if(l){let r=t[n];if(iY(null!=r,`Previous layout not found for panel index ${n}`),iZ(r,a)){let t=d-r;iG(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{let n=e<0?i:o,s=r[n];iY(s,`No panel constraints found for index ${n}`);let{collapsedSize:a=0,collapsible:l,minSize:d=0}=s;if(l){let r=t[n];if(iY(null!=r,`Previous layout not found for panel index ${n}`),iZ(r,d)){let t=r-a;iG(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{let n=e<0?1:-1,s=e<0?o:i,a=0;for(;;){let e=t[s];if(iY(null!=e,`Previous layout not found for panel index ${s}`),a+=iQ({panelConstraints:r,panelIndex:s,size:100})-e,(s+=n)<0||s>=r.length)break}let l=Math.min(Math.abs(e),Math.abs(a));e=e<0?0-l:l}{let n=e<0?i:o;for(;n>=0&&n<r.length;){let s=Math.abs(e)-Math.abs(d),a=t[n];iY(null!=a,`Previous layout not found for panel index ${n}`);let i=iQ({panelConstraints:r,panelIndex:n,size:a-s});if(!iZ(a,i)&&(d+=a-i,l[n]=i,d.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?n--:n++}}if(function(e,t,r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!iZ(e[r],t[r],void 0))return!1;return!0}(s,l))return s;{let n=e<0?o:i,s=t[n];iY(null!=s,`Previous layout not found for panel index ${n}`);let a=s+d,c=iQ({panelConstraints:r,panelIndex:n,size:a});if(l[n]=c,!iZ(c,a)){let t=a-c,n=e<0?o:i;for(;n>=0&&n<r.length;){let s=l[n];iY(null!=s,`Previous layout not found for panel index ${n}`);let a=iQ({panelConstraints:r,panelIndex:n,size:s+t});if(iZ(s,a)||(t-=a-s,l[n]=a),iZ(t,0))break;e>0?n--:n++}}}return iZ(l.reduce((e,t)=>t+e,0),100)?l:s}function i1(e,t=document){return Array.from(t.querySelectorAll(`[${id}][data-panel-group-id="${e}"]`))}function i2(e,t,r=document){let n=i1(e,r).findIndex(e=>e.getAttribute(id)===t);return null!=n?n:null}function i4(e,t,r){let n=i2(e,t,r);return null!=n?[n,n+1]:[-1,-1]}function i5(e,t=document){if((t instanceof HTMLElement||"object"==typeof t&&null!==t&&"tagName"in t&&"getAttribute"in t)&&t.dataset.panelGroupId==e)return t;let r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function i3(e,t=document){let r=t.querySelector(`[${id}="${e}"]`);return r||null}function i6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i8(e,t){let{x:r,y:n}=iS(t);return"horizontal"===e?r:n}function i7(e,t,r){t.forEach((t,n)=>{let s=e[n];iY(s,`Panel data not found for index ${n}`);let{callbacks:a,constraints:l,id:i}=s,{collapsedSize:o=0,collapsible:d}=l,c=r[i];if(null==c||t!==c){r[i]=t;let{onCollapse:e,onExpand:n,onResize:s}=a;s&&s(t,c),d&&(e||n)&&(n&&(null==c||iJ(c,o))&&!iJ(t,o)&&n(),e&&(null==c||!iJ(c,o))&&iJ(t,o)&&e())}})}function i9(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function oe(e){try{if("undefined"!=typeof localStorage)e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ot(e){return`react-resizable-panels:${e}`}function or(e){return e.map(e=>{let{constraints:t,id:r,idIsFromProps:n,order:s}=e;return n?r:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function on(e,t){try{let r=ot(e),n=t.getItem(r);if(n){let e=JSON.parse(n);if("object"==typeof e&&null!=e)return e}}catch(e){}return null}function os(e,t,r,n,s){var a;let l=ot(e),i=or(t),o=null!=(a=on(e,s))?a:{};o[i]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{s.setItem(l,JSON.stringify(o))}catch(e){console.error(e)}}function oa({layout:e,panelConstraints:t}){let r=[...e],n=r.reduce((e,t)=>e+t,0);if(r.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${r.map(e=>`${e}%`).join(", ")}`);if(!iZ(n,100)&&r.length>0)for(let e=0;e<t.length;e++){let t=r[e];iY(null!=t,`No layout data found for index ${e}`);let s=100/n*t;r[e]=s}let s=0;for(let e=0;e<t.length;e++){let n=r[e];iY(null!=n,`No layout data found for index ${e}`);let a=iQ({panelConstraints:t,panelIndex:e,size:n});n!=a&&(s+=n-a,r[e]=a)}if(!iZ(s,0))for(let e=0;e<t.length;e++){let n=r[e];iY(null!=n,`No layout data found for index ${e}`);let a=iQ({panelConstraints:t,panelIndex:e,size:n+s});if(n!==a&&(s-=a-n,r[e]=a,iZ(s,0)))break}return r}let ol={getItem:e=>(oe(ol),ol.getItem(e)),setItem:(e,t)=>{oe(ol),ol.setItem(e,t)}},oi={};function oo({autoSaveId:e=null,children:t,className:r="",direction:n,forwardedRef:s,id:a=null,onLayout:l=null,keyboardResizeBy:i=null,storage:o=ol,style:d,tagName:c="div",...u}){let m=ih(a),p=(0,F.useRef)(null),[h,f]=(0,F.useState)(null),[x,g]=(0,F.useState)([]),v=function(){let[e,t]=(0,F.useState)(0);return(0,F.useCallback)(()=>t(e=>e+1),[])}(),b=(0,F.useRef)({}),y=(0,F.useRef)(new Map),j=(0,F.useRef)(0),w=(0,F.useRef)({autoSaveId:e,direction:n,dragState:h,id:m,keyboardResizeBy:i,onLayout:l,storage:o}),N=(0,F.useRef)({layout:x,panelDataArray:[],panelDataArrayChanged:!1});(0,F.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,F.useImperativeHandle)(s,()=>({getId:()=>w.current.id,getLayout:()=>{let{layout:e}=N.current;return e},setLayout:e=>{let{onLayout:t}=w.current,{layout:r,panelDataArray:n}=N.current,s=oa({layout:e,panelConstraints:n.map(e=>e.constraints)});i6(r,s)||(g(s),N.current.layout=s,t&&t(s),i7(n,s,b.current))}}),[]),ic(()=>{w.current.autoSaveId=e,w.current.direction=n,w.current.dragState=h,w.current.id=m,w.current.onLayout=l,w.current.storage=o}),function({committedValuesRef:e,eagerValuesRef:t,groupId:r,layout:n,panelDataArray:s,panelGroupElement:a,setLayout:l}){(0,F.useRef)({didWarnAboutMissingResizeHandle:!1}),ic(()=>{if(!a)return;let e=i1(r,a);for(let t=0;t<s.length-1;t++){let{valueMax:r,valueMin:a,valueNow:l}=function({layout:e,panelsArray:t,pivotIndices:r}){let n=0,s=100,a=0,l=0,i=r[0];return iY(null!=i,"No pivot index found"),t.forEach((e,t)=>{let{constraints:r}=e,{maxSize:o=100,minSize:d=0}=r;t===i?(n=d,s=o):(a+=d,l+=o)}),{valueMax:Math.min(s,100-a),valueMin:Math.max(n,100-l),valueNow:e[i]}}({layout:n,panelsArray:s,pivotIndices:[t,t+1]}),i=e[t];if(null==i);else{let e=s[t];iY(e,`No panel data found for index "${t}"`),i.setAttribute("aria-controls",e.id),i.setAttribute("aria-valuemax",""+Math.round(r)),i.setAttribute("aria-valuemin",""+Math.round(a)),i.setAttribute("aria-valuenow",null!=l?""+Math.round(l):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,n,s,a]),(0,F.useEffect)(()=>{if(!a)return;let e=t.current;iY(e,"Eager values not found");let{panelDataArray:s}=e;iY(null!=i5(r,a),`No group found for id "${r}"`);let i=i1(r,a);iY(i,`No resize handles found for group id "${r}"`);let o=i.map(e=>{let t=e.getAttribute(id);iY(t,"Resize handle element has no handle id attribute");let[i,o]=function(e,t,r,n=document){var s,a,l,i;let o=i3(t,n),d=i1(e,n),c=o?d.indexOf(o):-1;return[null!=(s=null==(a=r[c])?void 0:a.id)?s:null,null!=(l=null==(i=r[c+1])?void 0:i.id)?l:null]}(r,t,s,a);if(null==i||null==o)return()=>{};let d=e=>{if(!e.defaultPrevented&&"Enter"===e.key){e.preventDefault();let o=s.findIndex(e=>e.id===i);if(o>=0){let e=s[o];iY(e,`No panel data found for index ${o}`);let i=n[o],{collapsedSize:d=0,collapsible:c,minSize:u=0}=e.constraints;if(null!=i&&c){let e=i0({delta:iZ(i,d)?u-d:d-i,initialLayout:n,panelConstraints:s.map(e=>e.constraints),pivotIndices:i4(r,t,a),prevLayout:n,trigger:"keyboard"});n!==e&&l(e)}}}};return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}});return()=>{o.forEach(e=>e())}},[a,e,t,r,n,s,l])}({committedValuesRef:w,eagerValuesRef:N,groupId:m,layout:x,panelDataArray:N.current.panelDataArray,setLayout:g,panelGroupElement:p.current}),(0,F.useEffect)(()=>{let{panelDataArray:t}=N.current;if(e){if(0===x.length||x.length!==t.length)return;let r=oi[e];null==r&&(r=function(e,t=10){let r=null;return(...n)=>{null!==r&&clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}(os,100),oi[e]=r),r(e,[...t],new Map(y.current),x,o)}},[e,x,o]),(0,F.useEffect)(()=>{});let k=(0,F.useCallback)(e=>{let{onLayout:t}=w.current,{layout:r,panelDataArray:n}=N.current;if(e.constraints.collapsible){let s=n.map(e=>e.constraints),{collapsedSize:a=0,panelSize:l,pivotIndices:i}=ou(n,e,r);if(iY(null!=l,`Panel size not found for panel "${e.id}"`),!iJ(l,a)){y.current.set(e.id,l);let o=i0({delta:oc(n,e)===n.length-1?l-a:a-l,initialLayout:r,panelConstraints:s,pivotIndices:i,prevLayout:r,trigger:"imperative-api"});i9(r,o)||(g(o),N.current.layout=o,t&&t(o),i7(n,o,b.current))}}},[]),S=(0,F.useCallback)((e,t)=>{let{onLayout:r}=w.current,{layout:n,panelDataArray:s}=N.current;if(e.constraints.collapsible){let a=s.map(e=>e.constraints),{collapsedSize:l=0,panelSize:i=0,minSize:o=0,pivotIndices:d}=ou(s,e,n),c=null!=t?t:o;if(iJ(i,l)){let t=y.current.get(e.id),l=null!=t&&t>=c?t:c,o=i0({delta:oc(s,e)===s.length-1?i-l:l-i,initialLayout:n,panelConstraints:a,pivotIndices:d,prevLayout:n,trigger:"imperative-api"});i9(n,o)||(g(o),N.current.layout=o,r&&r(o),i7(s,o,b.current))}}},[]),C=(0,F.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{panelSize:n}=ou(r,e,t);return iY(null!=n,`Panel size not found for panel "${e.id}"`),n},[]),_=(0,F.useCallback)((e,t)=>{let{panelDataArray:r}=N.current,n=oc(r,e);return function({defaultSize:e,dragState:t,layout:r,panelData:n,panelIndex:s,precision:a=3}){let l=r[s];return{flexBasis:0,flexGrow:null==l?void 0!=e?e.toFixed(a):"1":1===n.length?"1":l.toFixed(a),flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:h,layout:x,panelData:r,panelIndex:n})},[h,x]),R=(0,F.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{collapsedSize:n=0,collapsible:s,panelSize:a}=ou(r,e,t);return iY(null!=a,`Panel size not found for panel "${e.id}"`),!0===s&&iJ(a,n)},[]),E=(0,F.useCallback)(e=>{let{layout:t,panelDataArray:r}=N.current,{collapsedSize:n=0,collapsible:s,panelSize:a}=ou(r,e,t);return iY(null!=a,`Panel size not found for panel "${e.id}"`),!s||iG(a,n)>0},[]),D=(0,F.useCallback)(e=>{let{panelDataArray:t}=N.current;t.push(e),t.sort((e,t)=>{let r=e.order,n=t.order;return null==r&&null==n?0:null==r?-1:null==n?1:r-n}),N.current.panelDataArrayChanged=!0,v()},[v]);ic(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;let{autoSaveId:r,onLayout:n,storage:s}=w.current,{layout:a,panelDataArray:l}=N.current,i=null;if(r){var e,t;let n=null!=(t=(null!=(e=on(r,s))?e:{})[or(l)])?t:null;n&&(y.current=new Map(Object.entries(n.expandToSizes)),i=n.layout)}null==i&&(i=function({panelDataArray:e}){let t=Array(e.length),r=e.map(e=>e.constraints),n=0,s=100;for(let a=0;a<e.length;a++){let e=r[a];iY(e,`Panel constraints not found for index ${a}`);let{defaultSize:l}=e;null!=l&&(n++,t[a]=l,s-=l)}for(let a=0;a<e.length;a++){let l=r[a];iY(l,`Panel constraints not found for index ${a}`);let{defaultSize:i}=l;if(null!=i)continue;let o=s/(e.length-n);n++,t[a]=o,s-=o}return t}({panelDataArray:l}));let o=oa({layout:i,panelConstraints:l.map(e=>e.constraints)});i6(a,o)||(g(o),N.current.layout=o,n&&n(o),i7(l,o,b.current))}}),ic(()=>{let e=N.current;return()=>{e.layout=[]}},[]);let M=(0,F.useCallback)(e=>{let t=!1,r=p.current;return r&&"rtl"===window.getComputedStyle(r,null).getPropertyValue("direction")&&(t=!0),function(r){var n,s;r.preventDefault();let a=p.current;if(!a)return()=>null;let{direction:l,dragState:i,id:o,keyboardResizeBy:d,onLayout:c}=w.current,{layout:u,panelDataArray:m}=N.current,{initialLayout:h}=null!=i?i:{},f=i4(o,e,a),x=function(e,t,r,n,s,a){if(iw(e)){let t="horizontal"===r,n=0;n=e.shiftKey?100:null!=s?s:10;let a=0;switch(e.key){case"ArrowDown":a=t?0:n;break;case"ArrowLeft":a=t?-n:0;break;case"ArrowRight":a=t?n:0;break;case"ArrowUp":a=t?0:-n;break;case"End":a=100;break;case"Home":a=-100}return a}return null==n?0:function(e,t,r,n,s){let a="horizontal"===r,l=i3(t,s);iY(l,`No resize handle element found for id "${t}"`);let i=l.getAttribute(ii);iY(i,"Resize handle element has no group id attribute");let{initialCursorPosition:o}=n,d=i8(r,e),c=i5(i,s);iY(c,`No group element found for id "${i}"`);let u=c.getBoundingClientRect();return(d-o)/(a?u.width:u.height)*100}(e,t,r,n,a)}(r,e,l,i,d,a),v="horizontal"===l;v&&t&&(x=-x);let y=i0({delta:x,initialLayout:null!=h?h:u,panelConstraints:m.map(e=>e.constraints),pivotIndices:f,prevLayout:u,trigger:iw(r)?"keyboard":"mouse-or-touch"}),k=!i9(u,y);(iN(r)||ik(r))&&j.current!=x&&((j.current=x,k||0===x)?iF.set(e,0):v?(n=x<0?iM:iI,iF.set(e,n)):(s=x<0?iA:iL,iF.set(e,s))),k&&(g(y),N.current.layout=y,c&&c(y),i7(m,y,b.current))}},[]),I=(0,F.useCallback)((e,t)=>{let{onLayout:r}=w.current,{layout:n,panelDataArray:s}=N.current,a=s.map(e=>e.constraints),{panelSize:l,pivotIndices:i}=ou(s,e,n);iY(null!=l,`Panel size not found for panel "${e.id}"`);let o=i0({delta:oc(s,e)===s.length-1?l-t:t-l,initialLayout:n,panelConstraints:a,pivotIndices:i,prevLayout:n,trigger:"imperative-api"});i9(n,o)||(g(o),N.current.layout=o,r&&r(o),i7(s,o,b.current))},[]),A=(0,F.useCallback)((e,t)=>{let{layout:r,panelDataArray:n}=N.current,{collapsedSize:s=0,collapsible:a}=t,{collapsedSize:l=0,collapsible:i,maxSize:o=100,minSize:d=0}=e.constraints,{panelSize:c}=ou(n,e,r);null!=c&&(a&&i&&iJ(c,s)?iJ(s,l)||I(e,l):c<d?I(e,d):c>o&&I(e,o))},[I]),L=(0,F.useCallback)((e,t)=>{let{direction:r}=w.current,{layout:n}=N.current;if(!p.current)return;let s=i3(e,p.current);iY(s,`Drag handle element not found for id "${e}"`);let a=i8(r,t);f({dragHandleId:e,dragHandleRect:s.getBoundingClientRect(),initialCursorPosition:a,initialLayout:n})},[]),z=(0,F.useCallback)(()=>{f(null)},[]),P=(0,F.useCallback)(e=>{let{panelDataArray:t}=N.current,r=oc(t,e);r>=0&&(t.splice(r,1),delete b.current[e.id],N.current.panelDataArrayChanged=!0,v())},[v]),T=(0,F.useMemo)(()=>({collapsePanel:k,direction:n,dragState:h,expandPanel:S,getPanelSize:C,getPanelStyle:_,groupId:m,isPanelCollapsed:R,isPanelExpanded:E,reevaluatePanelConstraints:A,registerPanel:D,registerResizeHandle:M,resizePanel:I,startDragging:L,stopDragging:z,unregisterPanel:P,panelGroupElement:p.current}),[k,h,n,S,C,_,m,R,E,A,D,M,I,L,z,P]);return(0,F.createElement)(ia.Provider,{value:T},(0,F.createElement)(c,{...u,children:t,className:r,id:a,ref:p,style:{display:"flex",flexDirection:"horizontal"===n?"row":"column",height:"100%",overflow:"hidden",width:"100%",...d},"data-panel-group":"",[il]:n,[ii]:m}))}let od=(0,F.forwardRef)((e,t)=>(0,F.createElement)(oo,{...e,forwardedRef:t}));function oc(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function ou(e,t,r){let n=oc(e,t),s=n===e.length-1,a=r[n];return{...t.constraints,panelSize:a,pivotIndices:s?[n-1,n]:[n,n+1]}}function om({children:e=null,className:t="",disabled:r=!1,hitAreaMargins:n,id:s,onBlur:a,onClick:l,onDragging:i,onFocus:o,onPointerDown:d,onPointerUp:c,style:u={},tabIndex:m=0,tagName:p="div",...h}){var f,x;let g=(0,F.useRef)(null),v=(0,F.useRef)({onClick:l,onDragging:i,onPointerDown:d,onPointerUp:c});(0,F.useEffect)(()=>{v.current.onClick=l,v.current.onDragging=i,v.current.onPointerDown=d,v.current.onPointerUp=c});let b=(0,F.useContext)(ia);if(null===b)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:y,groupId:j,registerResizeHandle:w,startDragging:N,stopDragging:k,panelGroupElement:S}=b,C=ih(s),[_,R]=(0,F.useState)("inactive"),[E,D]=(0,F.useState)(!1),[M,I]=(0,F.useState)(null),A=(0,F.useRef)({state:_});ic(()=>{A.current.state=_}),(0,F.useEffect)(()=>{if(r)I(null);else{let e=w(C);I(()=>e)}},[r,C,w]);let L=null!=(f=null==n?void 0:n.coarse)?f:15,z=null!=(x=null==n?void 0:n.fine)?x:5;return(0,F.useEffect)(()=>{if(r||null==M)return;let e=g.current;iY(e,"Element ref not attached");let t=!1;return function(e,t,r,n,s){var a;let{ownerDocument:l}=t,i={direction:r,element:t,hitAreaMargins:n,setResizeHandlerState:s},o=null!=(a=iO.get(l))?a:0;return iO.set(l,o+1),i$.add(i),iK(),function(){var t;iF.delete(e),i$.delete(i);let r=null!=(t=iO.get(l))?t:1;if(iO.set(l,r-1),iK(),1===r&&iO.delete(l),iP.includes(i)){let e=iP.indexOf(i);e>=0&&iP.splice(e,1),iV(),s("up",!0,null)}}}(C,e,y,{coarse:L,fine:z},(e,r,n)=>{if(!r)return void R("inactive");switch(e){case"down":{R("drag"),t=!1,iY(n,'Expected event to be defined for "down" action'),N(C,n);let{onDragging:e,onPointerDown:r}=v.current;null==e||e(!0),null==r||r();break}case"move":{let{state:e}=A.current;t=!0,"drag"!==e&&R("hover"),iY(n,'Expected event to be defined for "move" action'),M(n);break}case"up":{R("hover"),k();let{onClick:e,onDragging:r,onPointerUp:n}=v.current;null==r||r(!1),null==n||n(),t||null==e||e()}}})},[L,y,r,z,w,C,M,N,k]),!function({disabled:e,handleId:t,resizeHandler:r,panelGroupElement:n}){(0,F.useEffect)(()=>{if(e||null==r||null==n)return;let s=i3(t,n);if(null==s)return;let a=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),r(e);break;case"F6":{e.preventDefault();let r=s.getAttribute(ii);iY(r,`No group element found for id "${r}"`);let a=i1(r,n),l=i2(r,t,n);iY(null!==l,`No resize element found for id "${t}"`);let i=e.shiftKey?l>0?l-1:a.length-1:l+1<a.length?l+1:0;a[i].focus()}}};return s.addEventListener("keydown",a),()=>{s.removeEventListener("keydown",a)}},[n,e,t,r])}({disabled:r,handleId:C,resizeHandler:M,panelGroupElement:S}),(0,F.createElement)(p,{...h,children:e,className:t,id:s,onBlur:()=>{D(!1),null==a||a()},onFocus:()=>{D(!0),null==o||o()},ref:g,role:"separator",style:{touchAction:"none",userSelect:"none",...u},tabIndex:m,[il]:y,[ii]:j,[io]:"","data-resize-handle-active":"drag"===_?"pointer":E?"keyboard":void 0,"data-panel-resize-handle-enabled":!r,[id]:C,"data-resize-handle-state":_})}function op({className:e,...t}){return(0,O.jsx)(od,{"data-slot":"resizable-panel-group",className:(0,Y.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function oh({...e}){return(0,O.jsx)(ig,{"data-slot":"resizable-panel",...e})}function of({withHandle:e,className:t,...r}){return(0,O.jsx)(om,{"data-slot":"resizable-handle",className:(0,Y.cn)("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&(0,O.jsx)("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:(0,O.jsx)(is,{className:"size-2.5"})})})}oo.displayName="PanelGroup",od.displayName="forwardRef(PanelGroup)",om.displayName="PanelResizeHandle";let ox=(0,em.default)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),og=(0,em.default)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),ov=(0,em.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ob=(0,em.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),oy=(0,em.default)("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),oj=(0,em.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ow=(0,em.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var oN=e.i(37727);let ok=(0,eh.createServerReference)("408dff1de82589ca9f020a11070fdc192515c443a9",eh.callServer,void 0,eh.findSourceMapURL,"saveFormTemplate"),oS=[{id:"text",label:"Ù†Øµ Ù‚ØµÙŠØ±",icon:ox,color:"bg-blue-50 text-blue-700"},{id:"longtext",label:"Ù†Øµ Ø·ÙˆÙŠÙ„",icon:ej,color:"bg-purple-50 text-purple-700"},{id:"number",label:"Ø±Ù‚Ù…",icon:og,color:"bg-primary/10 text-primary"},{id:"date",label:"ØªØ§Ø±ÙŠØ®",icon:ov,color:"bg-secondary/10 text-secondary"},{id:"select",label:"Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø©",icon:ob,color:"bg-cyan-50 text-cyan-700"},{id:"radio",label:"Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯",icon:l7,color:"bg-indigo-50 text-indigo-700"},{id:"checkbox",label:"Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©",icon:l7,color:"bg-pink-50 text-pink-700"},{id:"file",label:"Ø±ÙØ¹ Ù…Ù„Ù",icon:eH,color:"bg-red-50 text-red-700"},{id:"section",label:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø³Ù…",icon:oy,color:"bg-gray-50 text-gray-700"}];function oC({formId:e,onBack:t}){let r="new"===e,[n,s]=(0,F.useState)(""),[a,l]=(0,F.useState)([]),[i,o]=(0,F.useState)(null),[d,c]=(0,F.useState)(null),[u,m]=(0,F.useState)(!1),[p,h]=(0,F.useState)(!1),[f,x]=(0,F.useState)(!1),[g,v]=(0,F.useState)(r?null:parseInt(e)),[b,y]=(0,F.useState)(!1),[j,w]=(0,F.useState)(!r),[N,k]=(0,F.useState)(null),[S,C]=(0,F.useState)(null),[_,R]=(0,F.useState)("student"),[E,D]=(0,F.useState)([]),[M,I]=(0,F.useState)([]),[A,L]=(0,F.useState)([]),[z,P]=(0,F.useState)([]),[T,$]=(0,F.useState)({student:!0,employee:!1}),[q,H]=(0,F.useState)(null),[B,U]=(0,F.useState)(!1),{toast:W}=(0,lb.useToast)(),V=a.find(e=>e.id===i);(0,F.useEffect)(()=>{!r&&e&&K()},[e,r]);let K=async()=>{w(!0);try{let t=await eU(parseInt(e));if(t.success&&t.data){if(s(t.data.name||""),t.data.schema&&Array.isArray(t.data.schema)){let e=t.data.schema;l(e),e.length>0&&e[0]&&o(e[0].id)}if(t.data.audience_config){let e=t.data.audience_config;H(e),e.colleges?.length>0||e.departments?.length>0?(R("specific"),D(e.colleges||[]),I(e.departments||[]),$({student:!1!==e.student,employee:!1!==e.employee})):e.student&&e.employee?R("both"):e.employee?R("employee"):R("student")}if(t.data.request_types){let e=t.data.request_types,r=Array.isArray(e)?e[0]:e;if(r&&r.workflows){let e=r.workflows,t=Array.isArray(e)?e[0]:e;console.log("Workflow loaded:",t),C(t)}}}else W({title:"Ø®Ø·Ø£",description:t.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",variant:"destructive"})}catch(e){console.error("Load form error:",e),W({title:"Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",variant:"destructive"})}finally{w(!1)}};(0,F.useEffect)(()=>{(async()=>{let e=await lv();e.success&&e.data&&(L(e.data),P(e.data.flatMap(e=>(e.departments||[]).map(t=>({...t,college_id:e.college_id})))))})()},[]);let X=(e,t)=>{l(a.map(r=>r.id===e?{...r,...t}:r))},Y=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},G=()=>{c(null)},Z=async()=>{if(!n.trim())return void W({title:"Ø®Ø·Ø£",description:"ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ø­ÙØ¸",variant:"destructive",duration:3e3});y(!0);try{let e=await ok({form_id:g||void 0,name:n,schema:a});e.success&&e.data?(v(e.data.form_id),W({title:"ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­",description:`ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ "${n}" Ù…Ø¹ ${a.length} Ø­Ù‚ÙˆÙ„`,duration:3e3})):W({title:"ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸",description:e.error||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸",variant:"destructive",duration:3e3})}catch(e){console.error("Save error:",e),W({title:"Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive",duration:3e3})}finally{y(!1)}},Q=async()=>{y(!0);try{let e=g;if(!e){let t=await ok({form_id:g||void 0,name:n,schema:a});if(!t.success||!t.data){W({title:"ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸",description:t.error||"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±",variant:"destructive",duration:3e3}),y(!1);return}e=t.data.form_id,v(e)}let r={};"student"===_?(r.student=!0,r.employee=!1):"employee"===_?(r.student=!1,r.employee=!0):"specific"===_?(r.student=T.student,r.employee=T.employee,E.length>0&&(r.colleges=E),M.length>0&&(r.departments=M)):(r.student=!0,r.employee=!0);let s=await lx(e,r,N);if(s.success){let e="student"===_?"Ù„Ù„Ø·Ù„Ø§Ø¨":"employee"===_?"Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Ù„Ù„Ø¬Ù…ÙŠØ¹";W({title:"ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­",description:`ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ "${n}" Ø¨Ù†Ø¬Ø§Ø­ ${e}`,duration:3e3,className:"bg-primary text-white border-primary"}),h(!1),k(null),setTimeout(()=>t(),500)}else W({title:"ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±",description:s.error||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø´Ø±",variant:"destructive",duration:3e3})}catch(e){console.error("Publish error:",e),W({title:"Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive",duration:3e3})}finally{y(!1)}};return(0,O.jsx)("div",{className:"flex flex-col h-[calc(100vh-4rem)] bg-background",dir:"rtl",children:j?(0,O.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,O.jsx)("p",{className:"text-muted-foreground",children:"Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬..."})]})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"border-b bg-card p-2",children:(0,O.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(J,{onClick:()=>{if(0===a.length)return void W({title:"Ø®Ø·Ø£",description:"ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±",variant:"destructive",duration:3e3});if(!n.trim())return void W({title:"Ø®Ø·Ø£",description:"ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±",variant:"destructive",duration:3e3});if(S)if((()=>{let e;if(!q)return!0;let t=(e={},"student"===_?(e.student=!0,e.employee=!1):"employee"===_?(e.student=!1,e.employee=!0):"specific"===_?(e.student=T.student,e.employee=T.employee,E.length>0&&(e.colleges=E),M.length>0&&(e.departments=M)):(e.student=!0,e.employee=!0),e);console.log("Audience Check - Original:",q),console.log("Audience Check - Next:",t);let r=(e,t)=>{if((!e||0===e.length)&&(!t||0===t.length))return!0;if(!e||!t||e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((e,t)=>e===n[t])};return!0===q.student!=(!0===t.student)||!(!0===q.employee==(!0===t.employee)&&r(q.colleges||[],t.colleges||[])&&r(q.departments||[],t.departments||[]))})())return void U(!0);else{k({mode:"existing",workflowId:S.workflow_id}),h(!0);return}x(!0)},disabled:b,className:"bg-primary hover:bg-primary/90 text-white gap-2",children:[(0,O.jsx)(eH,{className:"w-4 h-4"}),b?"Ø¬Ø§Ø±Ù Ø§Ù„Ù†Ø´Ø±...":"Ù†Ø´Ø±"]}),(0,O.jsxs)(J,{onClick:Z,disabled:b,variant:"outline",className:"gap-2 bg-transparent",children:[(0,O.jsx)(l8,{className:"w-4 h-4"}),b?"Ø¬Ø§Ø±Ù Ø§Ù„Ø­ÙØ¸...":"Ø­ÙØ¸"]}),(0,O.jsxs)(J,{onClick:()=>m(!0),variant:"outline",className:"gap-2 bg-transparent",children:[(0,O.jsx)(ow,{className:"w-4 h-4"}),"Ù…Ø¹Ø§ÙŠÙ†Ø©"]})]}),(0,O.jsxs)("div",{className:"flex-1 max-w-md flex flex-col gap-1.5",children:[(0,O.jsx)(ei,{className:"text-center",required:!0,children:"Ø§Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"}),(0,O.jsx)(en,{value:n,onChange:e=>s(e.target.value),className:"text-center font-semibold",placeholder:r?"Ø§Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯":"Ø§Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"})]}),(0,O.jsxs)(J,{variant:"ghost",onClick:t,className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})}),(0,O.jsxs)(op,{direction:"horizontal",className:"flex-1",children:[(0,O.jsx)(oh,{defaultSize:20,minSize:15,maxSize:30,children:(0,O.jsx)("div",{className:"h-full overflow-y-auto border-l p-4",children:(0,O.jsxs)("div",{className:"space-y-3",children:[(0,O.jsx)("h3",{className:"font-semibold text-sm text-foreground mb-4",children:"Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ù‚ÙˆÙ„"}),oS.map(e=>{let t=e.icon;return(0,O.jsx)("button",{onClick:()=>{var t;let r,n;return t=e.id,r=oS.find(e=>e.id===t),void(l([...a,n={id:Date.now().toString(),label:`Ø­Ù‚Ù„ Ø¬Ø¯ÙŠØ¯ - ${r?.label}`,key:`field_${Date.now()}`,type:t,required:!1,options:["select","radio","checkbox"].includes(t)?[{id:"1",label:"Ø§Ù„Ø®ÙŠØ§Ø± 1"}]:void 0}]),o(n.id))},className:`w-full p-3 rounded-lg border-2 border-transparent hover:border-primary transition-all ${e.color}`,children:(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(t,{className:"w-4 h-4 flex-shrink-0"}),(0,O.jsx)("div",{className:"text-right",children:(0,O.jsx)("div",{className:"text-sm font-medium",children:e.label})})]})},e.id)})]})})}),(0,O.jsx)(of,{withHandle:!0}),(0,O.jsx)(oh,{defaultSize:40,minSize:25,children:(0,O.jsx)("div",{className:"h-full overflow-y-auto p-4",children:(0,O.jsxs)("div",{className:"space-y-3",children:[(0,O.jsxs)("h3",{className:"font-semibold text-sm text-foreground mb-4",children:["Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (",a.length,")"]}),0===a.length?(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,O.jsx)(ej,{className:"w-12 h-12 text-muted-foreground mb-2"}),(0,O.jsx)("p",{className:"text-muted-foreground text-sm",children:"Ø§Ø³Ø­Ø¨ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬Ùƒ"})]}):a.map(e=>{let t=oS.find(t=>t.id===e.type);return t?.icon,(0,O.jsx)("div",{draggable:!0,onDragStart:t=>{c(e.id),t.dataTransfer.effectAllowed="move"},onDragOver:Y,onDrop:t=>((e,t)=>{if(e.preventDefault(),!d||d===t)return;let r=[...a],n=r.findIndex(e=>e.id===d),s=r.findIndex(e=>e.id===t);if(-1===n||-1===s)return;let[i]=r.splice(n,1);r.splice(s,0,i),l(r),c(null)})(t,e.id),onDragEnd:G,onClick:()=>o(e.id),className:`p-3 rounded-lg border-2 cursor-pointer transition-all ${i===e.id?"border-primary bg-primary/5 shadow-md":"border-border hover:border-primary/50 bg-card"} ${d===e.id?"opacity-50 dashed border-primary":""}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-2",children:[(0,O.jsx)(is,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0 cursor-grab active:cursor-grabbing"}),(0,O.jsxs)("div",{className:"flex-1 min-w-0 text-right",children:[(0,O.jsx)("p",{className:"font-medium text-sm text-foreground truncate",children:e.label}),(0,O.jsxs)("div",{className:"flex items-center gap-2 mt-1 justify-end",children:[e.required&&(0,O.jsx)(e5,{className:"bg-red-100 text-red-800 text-xs",children:"Ù…Ø·Ù„ÙˆØ¨"}),(0,O.jsx)(e5,{variant:"outline",className:"text-xs",children:t?.label})]})]})]})},e.id)})]})})}),(0,O.jsx)(of,{withHandle:!0}),(0,O.jsx)(oh,{defaultSize:30,minSize:20,maxSize:40,children:(0,O.jsx)("div",{className:"h-full overflow-y-auto border-r p-4",children:V?(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-semibold",required:!0,children:"ØªØ³Ù…ÙŠØ© Ø§Ù„Ø­Ù‚Ù„"}),(0,O.jsx)(en,{value:V.label,onChange:e=>X(V.id,{label:e.target.value}),className:"mt-1"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-semibold",required:!0,children:"Ù…ÙØªØ§Ø­ Ø§Ù„Ø­Ù‚Ù„ (Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ)"}),(0,O.jsx)(en,{value:V.key,onChange:e=>X(V.id,{key:e.target.value}),className:"mt-1",placeholder:"field_name"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-semibold",required:!0,children:"Ù†ÙˆØ¹ Ø§Ù„Ø­Ù‚Ù„"}),(0,O.jsx)("select",{value:V.type,onChange:e=>X(V.id,{type:e.target.value}),className:"w-full p-2 border border-border rounded-lg mt-1 text-sm bg-background text-foreground",children:oS.map(e=>(0,O.jsx)("option",{value:e.id,children:e.label},e.id))})]}),(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("input",{type:"checkbox",id:"required",checked:V.required,onChange:e=>X(V.id,{required:e.target.checked}),className:"rounded"}),(0,O.jsx)(ei,{htmlFor:"required",className:"text-sm font-semibold cursor-pointer",children:"Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"})]}),"section"!==V.type&&(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-semibold",children:"Ù†Øµ Ø§Ù„ØªÙ„Ù…ÙŠØ­"}),(0,O.jsx)(en,{value:V.placeholder||"",onChange:e=>X(V.id,{placeholder:e.target.value}),className:"mt-1",placeholder:"Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„ØªÙ„Ù…ÙŠØ­"})]}),["select","radio","checkbox"].includes(V.type)&&(0,O.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[(0,O.jsx)(ei,{className:"text-sm font-semibold",children:"Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª"}),(0,O.jsxs)("div",{className:"space-y-2",children:[V.options?.map(e=>(0,O.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,O.jsx)(en,{value:e.label,onChange:t=>{var r,n,s;let l;return r=V.id,n=e.id,s=t.target.value,l=a.find(e=>e.id===r),void(l?.options&&X(r,{options:l.options.map(e=>e.id===n?{...e,label:s}:e)}))},className:"text-sm",placeholder:"ØªØ³Ù…ÙŠØ© Ø§Ù„Ø®ÙŠØ§Ø±"}),(0,O.jsx)(J,{variant:"ghost",size:"sm",onClick:()=>{var t,r;let n;return t=V.id,r=e.id,n=a.find(e=>e.id===t),void(n?.options&&X(t,{options:n.options.filter(e=>e.id!==r)}))},className:"text-destructive hover:bg-destructive/10",children:(0,O.jsx)(oN.X,{className:"w-4 h-4"})})]},e.id)),(0,O.jsxs)(J,{variant:"outline",size:"sm",onClick:()=>{X(V.id,{options:[...V?.options||[],{id:Date.now().toString(),label:"Ø®ÙŠØ§Ø± Ø¬Ø¯ÙŠØ¯"}]})},className:"w-full gap-1 text-sm",children:[(0,O.jsx)(ew,{className:"w-3 h-3"}),"Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø±"]})]})]}),(0,O.jsxs)("div",{className:"mt-6 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-800 text-right",children:[(0,O.jsx)("p",{className:"font-semibold mb-1",children:"Ù…Ø¹Ù„ÙˆÙ…Ø©"}),(0,O.jsx)("p",{children:"Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØªØ­ÙƒÙ… ÙÙŠ ÙƒÙŠÙÙŠØ© Ø¸Ù‡ÙˆØ± Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ ÙÙŠ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ù…ÙˆØ¸ÙÙŠÙ†."})]}),(0,O.jsxs)("div",{className:"space-y-2 pt-4 border-t",children:[(0,O.jsxs)(J,{variant:"outline",size:"sm",onClick:()=>(e=>{let t=a.find(t=>t.id===e);if(!t)return;let r={...t,id:Date.now().toString(),key:`${t.key}_copy`},n=a.findIndex(t=>t.id===e);l([...a.slice(0,n+1),r,...a.slice(n+1)])})(V.id),className:"w-full gap-2 text-sm",children:[(0,O.jsx)(oj,{className:"w-4 h-4"}),"Ù†Ø³Ø® Ø§Ù„Ø­Ù‚Ù„"]}),(0,O.jsx)("div",{className:"flex gap-2"}),(0,O.jsxs)(J,{variant:"outline",size:"sm",onClick:()=>{var e;return e=V.id,void(l(a.filter(t=>t.id!==e)),i===e&&o(a.length>1?a[0].id:null))},className:"w-full gap-2 text-destructive hover:bg-destructive/10 text-sm",children:[(0,O.jsx)(rY,{className:"w-4 h-4"}),"Ø­Ø°Ù Ø§Ù„Ø­Ù‚Ù„"]})]})]}):(0,O.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,O.jsx)(ej,{className:"w-12 h-12 text-muted-foreground mb-2"}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø­Ø¯Ø¯ Ø­Ù‚Ù„Ø§Ù‹ Ù„ØªØ­Ø±ÙŠØ± Ø®ØµØ§Ø¦ØµÙ‡"})]})})})]}),(0,O.jsx)(aF,{open:u,onOpenChange:m,children:(0,O.jsxs)(aH,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[(0,O.jsxs)(aB,{children:[(0,O.jsxs)(aW,{children:["Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬: ",n]}),(0,O.jsx)(aV,{children:"Ù‡Ø°Ù‡ Ù…Ø¹Ø§ÙŠÙ†Ø© Ù„ÙƒÙŠÙÙŠØ© Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"})]}),(0,O.jsx)("div",{className:"space-y-6 py-4",children:a.map(e=>(oS.find(t=>t.id===e.type),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)("div",{className:"flex items-center gap-2",children:(0,O.jsxs)("label",{className:"font-medium text-foreground flex items-center gap-1",children:[e.label,e.required&&(0,O.jsx)("span",{className:"text-red-500 font-bold",children:"*"})]})}),"text"===e.type&&(0,O.jsx)("input",{type:"text",placeholder:e.placeholder,disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"}),"longtext"===e.type&&(0,O.jsx)("textarea",{placeholder:e.placeholder,disabled:!0,rows:4,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"}),"number"===e.type&&(0,O.jsx)("input",{type:"number",placeholder:e.placeholder,disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"}),"date"===e.type&&(0,O.jsx)("input",{type:"date",disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"}),"file"===e.type&&(0,O.jsx)("input",{type:"file",disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-muted-foreground"}),"section"===e.type&&(0,O.jsx)("div",{className:"text-sm font-semibold text-foreground mt-2",children:e.label}),["select","radio","checkbox"].includes(e.type)&&(0,O.jsx)("div",{className:"space-y-2",children:e.options?.map(t=>"select"===e.type?(0,O.jsx)("div",{children:t.label},t.id):(0,O.jsxs)("div",{className:"flex items-center gap-2",children:["radio"===e.type?(0,O.jsx)("input",{type:"radio",disabled:!0,className:"w-4 h-4"}):(0,O.jsx)("input",{type:"checkbox",disabled:!0,className:"w-4 h-4"}),(0,O.jsx)("label",{className:"text-sm text-foreground",children:t.label})]},t.id))})]},e.id)))}),(0,O.jsx)(aU,{children:(0,O.jsx)(J,{variant:"outline",onClick:()=>m(!1),children:"Ø¥ØºÙ„Ø§Ù‚"})})]})}),(0,O.jsx)(aF,{open:p,onOpenChange:h,children:(0,O.jsxs)(aH,{dir:"rtl",className:"sm:max-w-md gap-0 p-0 overflow-hidden",children:[(0,O.jsxs)(aB,{className:"p-4 border-b",children:[(0,O.jsx)(aW,{children:"ØªØ£ÙƒÙŠØ¯ Ù†Ø´Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬"}),(0,O.jsx)(aV,{children:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ù†Ù‡Ø§Ø¦ÙŠØ© Ù‚Ø¨Ù„ Ø¥ØªØ§Ø­Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†."})]}),(0,O.jsxs)("div",{className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:[(0,O.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-md p-3 flex items-start gap-3",children:[(0,O.jsx)("div",{className:"p-1.5 bg-blue-100 rounded-full text-blue-600",children:(0,O.jsx)(ej,{className:"w-4 h-4"})}),(0,O.jsxs)("div",{className:"space-y-1",children:[(0,O.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:n}),(0,O.jsxs)("p",{className:"text-xs text-blue-700",children:["ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ",a.length," Ø­Ù‚ÙˆÙ„ â€¢ ","student"===_?"Ù…ØªØ§Ø­ Ù„Ù„Ø·Ù„Ø§Ø¨":"employee"===_?"Ù…ØªØ§Ø­ Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†":"Ù…ØªØ§Ø­ Ù„Ù„Ø¬Ù…ÙŠØ¹"]})]})]}),(0,O.jsxs)("div",{className:"space-y-3",children:[(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-sm",children:"Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù"}),(0,O.jsxs)(aI,{value:_,onValueChange:e=>R(e),dir:"rtl",children:[(0,O.jsx)(aL,{className:"w-full",children:(0,O.jsx)(aA,{placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±"})}),(0,O.jsxs)(az,{dir:"rtl",children:[(0,O.jsx)(aP,{value:"student",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨"}),(0,O.jsx)(aP,{value:"employee",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"}),(0,O.jsx)(aP,{value:"both",children:"Ø§Ù„Ø¬Ù…ÙŠØ¹ (Ø·Ù„Ø§Ø¨ ÙˆÙ…ÙˆØ¸ÙÙŠÙ†)"}),(0,O.jsx)(aP,{value:"specific",children:"Ù…Ø­Ø¯Ø¯ (ÙƒÙ„ÙŠØ§Øª/Ø£Ù‚Ø³Ø§Ù…)"})]})]})]}),"specific"===_&&(0,O.jsxs)("div",{className:"space-y-3 pt-2 border-t mt-2",children:[(0,O.jsxs)("div",{className:"flex gap-4",children:[(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer border rounded-md px-3 py-2 flex-1 hover:bg-slate-50 transition-colors",children:[(0,O.jsx)("input",{type:"checkbox",checked:T.student,onChange:e=>$({...T,student:e.target.checked}),className:"w-4 h-4 rounded text-primary accent-primary"}),(0,O.jsx)("span",{className:"text-sm",children:"Ø§Ù„Ø·Ù„Ø§Ø¨"})]}),(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer border rounded-md px-3 py-2 flex-1 hover:bg-slate-50 transition-colors",children:[(0,O.jsx)("input",{type:"checkbox",checked:T.employee,onChange:e=>$({...T,employee:e.target.checked}),className:"w-4 h-4 rounded text-primary accent-primary"}),(0,O.jsx)("span",{className:"text-sm",children:"Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"})]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-xs text-muted-foreground",children:"Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)("div",{className:"h-[120px] overflow-y-auto border rounded-md bg-white p-2",children:0===A.length?(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙ„ÙŠØ§Øª"}):A.map(e=>(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,O.jsx)("input",{type:"checkbox",checked:E.includes(e.college_id),onChange:t=>{t.target.checked?D([...E,e.college_id]):D(E.filter(t=>t!==e.college_id))},className:"w-3.5 h-3.5 accent-primary rounded"}),(0,O.jsx)("span",{className:"text-xs truncate",title:e.name,children:e.name})]},e.college_id))})]}),(0,O.jsxs)("div",{className:"space-y-1.5",children:[(0,O.jsx)(ei,{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),(0,O.jsx)("div",{className:"h-[120px] overflow-y-auto border rounded-md bg-white p-2",children:0===E.length?(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ø§Ø®ØªØ± ÙƒÙ„ÙŠØ©"}):0===z.filter(e=>E.includes(e.college_id)).length?(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…"}):z.filter(e=>E.includes(e.college_id)).map(e=>(0,O.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-1 rounded",children:[(0,O.jsx)("input",{type:"checkbox",checked:M.includes(e.department_id),onChange:t=>{t.target.checked?I([...M,e.department_id]):I(M.filter(t=>t!==e.department_id))},className:"w-3.5 h-3.5 accent-primary rounded"}),(0,O.jsx)("span",{className:"text-xs truncate",title:e.dept_name,children:e.dept_name})]},e.department_id))})]})]})]})]})]}),(0,O.jsxs)(aU,{className:"p-4 border-t bg-gray-50 gap-2 sm:gap-0",children:[(0,O.jsx)(J,{variant:"outline",size:"sm",onClick:()=>h(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(J,{size:"sm",onClick:Q,className:"bg-primary hover:bg-primary/90",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ø´Ø±"})]})]})}),(0,O.jsx)(aF,{open:B,onOpenChange:U,children:(0,O.jsxs)(aH,{dir:"rtl",className:"max-w-md",children:[(0,O.jsxs)(aB,{children:[(0,O.jsx)(aW,{className:"text-xl",children:"ØªÙ†Ø¨ÙŠÙ‡: ØªØºÙŠÙŠØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù"}),(0,O.jsx)(aV,{className:"pt-2 text-base",children:"Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£Ù… ØªØºÙŠÙŠØ±Ù‡ØŸ"})]}),S&&(0,O.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mt-2",children:[(0,O.jsx)("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ:"}),(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)(e5,{variant:"outline",className:"bg-white",children:S.name}),(0,O.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",S.workflow_steps?.length||0," Ø®Ø·ÙˆØ§Øª)"]})]})]}),(0,O.jsxs)(aU,{className:"flex gap-2 sm:gap-0 mt-4",children:[(0,O.jsx)(J,{variant:"outline",onClick:()=>{U(!1),x(!0)},className:"flex-1",children:"ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø±"}),(0,O.jsx)(J,{onClick:()=>{S&&(k({mode:"existing",workflowId:S.workflow_id}),U(!1),h(!0))},className:"flex-1 bg-primary hover:bg-primary/90",children:"Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ"})]})]})}),(0,O.jsx)(it,{open:f,onOpenChange:x,onConfirm:e=>{k(e),x(!1),h(!0)}})]})})}function o_({onBack:e}){let[t,r]=(0,F.useState)("list"),[n,s]=(0,F.useState)(null);return"list"===t?(0,O.jsx)(ir,{onEditForm:e=>{s(e),r("editor")},onCreateNewForm:()=>{s("new"),r("editor")},onBack:e}):(0,O.jsx)(oC,{formId:n,onBack:()=>{r("list"),s(null)}})}let oR=(0,eh.createServerReference)("40634af15d372e61707e6005ae3a9747988e55ddc9",eh.callServer,void 0,eh.findSourceMapURL,"createWorkflow"),oE=(0,eh.createServerReference)("60f671f555597c61c2f1bf236ffd628661c886dc22",eh.callServer,void 0,eh.findSourceMapURL,"updateWorkflow"),oD=(0,eh.createServerReference)("406cfc1be2345955ef046b85bcd71d7a4199349723",eh.callServer,void 0,eh.findSourceMapURL,"deleteWorkflow"),oM="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function oI(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function oA(e){return"nodeType"in e}function oL(e){var t,r;return e?oI(e)?e:oA(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function oz(e){let{Document:t}=oL(e);return e instanceof t}function oP(e){return!oI(e)&&e instanceof oL(e).HTMLElement}function oT(e){return e instanceof oL(e).SVGElement}function oO(e){return e?oI(e)?e.document:oA(e)?oz(e)?e:oP(e)||oT(e)?e.ownerDocument:document:document:document}let oF=oM?F.useLayoutEffect:F.useEffect;function o$(e){let t=(0,F.useRef)(e);return oF(()=>{t.current=e}),(0,F.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function oq(e,t){void 0===t&&(t=[e]);let r=(0,F.useRef)(e);return oF(()=>{r.current!==e&&(r.current=e)},t),r}function oH(e,t){let r=(0,F.useRef)();return(0,F.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function oB(e){let t=o$(e),r=(0,F.useRef)(null),n=(0,F.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function oU(e){let t=(0,F.useRef)();return(0,F.useEffect)(()=>{t.current=e},[e]),t.current}let oW={};function oV(e,t){return(0,F.useMemo)(()=>{if(t)return t;let r=null==oW[e]?0:oW[e]+1;return oW[e]=r,e+"-"+r},[e,t])}function oK(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((t,r)=>{for(let[n,s]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*s)}return t},{...t})}}let oX=oK(1),oY=oK(-1);function oG(e){if(!e)return!1;let{KeyboardEvent:t}=oL(e.target);return t&&e instanceof t}function oJ(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=oL(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let oZ=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[oZ.Translate.toString(e),oZ.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),oQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",o0={display:"none"};function o1(e){let{id:t,value:r}=e;return F.default.createElement("div",{id:t,style:o0},r)}function o2(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return F.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let o4=(0,F.createContext)(null),o5={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},o3={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function o6(e){var t;let r,{announcements:n=o3,container:s,hiddenTextDescribedById:a,screenReaderInstructions:l=o5}=e,{announce:i,announcement:o}=function(){let[e,t]=(0,F.useState)("");return{announce:(0,F.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),d=oV("DndLiveRegion"),[c,u]=(0,F.useState)(!1);if((0,F.useEffect)(()=>{u(!0)},[]),t=(0,F.useMemo)(()=>({onDragStart(e){let{active:t}=e;i(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&i(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;i(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;i(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;i(n.onDragCancel({active:t,over:r}))}}),[i,n]),r=(0,F.useContext)(o4),(0,F.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!c)return null;let m=F.default.createElement(F.default.Fragment,null,F.default.createElement(o1,{id:a,value:l.draggable}),F.default.createElement(o2,{id:d,announcement:o}));return s?(0,es.createPortal)(m,s):m}function o8(){}function o7(e,t){return(0,F.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(v=R||(R={})).DragStart="dragStart",v.DragMove="dragMove",v.DragEnd="dragEnd",v.DragCancel="dragCancel",v.DragOver="dragOver",v.RegisterDroppable="registerDroppable",v.SetDroppableDisabled="setDroppableDisabled",v.UnregisterDroppable="unregisterDroppable";let o9=Object.freeze({x:0,y:0});function de(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dt(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function dr(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function dn(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function ds(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function da(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let dl=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=da(t,t.left,t.top),a=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=de(da(n),s);a.push({id:t,data:{droppableContainer:e,value:r}})}}return a.sort(dt)},di=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=[];for(let e of n){let{id:n}=e,a=r.get(n);if(a){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);if(n<s&&r<a){let l=t.width*t.height,i=e.width*e.height,o=(s-n)*(a-r);return Number((o/(l+i-o)).toFixed(4))}return 0}(a,t);r>0&&s.push({id:n,data:{droppableContainer:e,value:r}})}}return s.sort(dr)};function dd(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:o9}let dc=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})},du={ignoreTransform:!1};function dm(e,t){void 0===t&&(t=du);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=oL(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:s,scaleY:a,x:l,y:i}=n,o=e.left-l-(1-s)*parseFloat(r),d=e.top-i-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),c=s?e.width/s:e.width,u=a?e.height/a:e.height;return{width:c,height:u,top:d,right:o+c,bottom:d+u,left:o}}(r,t,n))}let{top:n,left:s,width:a,height:l,bottom:i,right:o}=r;return{top:n,left:s,width:a,height:l,bottom:i,right:o}}function dp(e){return dm(e,{ignoreTransform:!0})}function dh(e,t){let r=[];return e?function n(s){var a,l;let i;if(null!=t&&r.length>=t||!s)return r;if(oz(s)&&null!=s.scrollingElement&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!oP(s)||oT(s)||r.includes(s))return r;let o=oL(e).getComputedStyle(s);return(s!==e&&(void 0===(a=o)&&(a=oL(s).getComputedStyle(s)),i=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=a[e];return"string"==typeof t&&i.test(t)}))&&r.push(s),void 0===(l=o)&&(l=oL(s).getComputedStyle(s)),"fixed"===l.position)?r:n(s.parentNode)}(e):r}function df(e){let[t]=dh(e,1);return null!=t?t:null}function dx(e){return oM&&e?oI(e)?e:oA(e)?oz(e)||e===oO(e).scrollingElement?window:oP(e)?e:null:null:null}function dg(e){return oI(e)?e.scrollX:e.scrollLeft}function dv(e){return oI(e)?e.scrollY:e.scrollTop}function db(e){return{x:dg(e),y:dv(e)}}function dy(e){return!!oM&&!!e&&e===document.scrollingElement}function dj(e){let t={x:0,y:0},r=dy(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x;return{isTop:s,isLeft:a,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}(b=E||(E={}))[b.Forward=1]="Forward",b[b.Backward=-1]="Backward";let dw={x:.2,y:.2};function dN(e){return e.reduce((e,t)=>oX(e,db(t)),o9)}let dk=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+dg(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+dv(t),0)}]];class dS{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=dh(t),n=dN(r);for(const[t,s,a]of(this.rect={...e},this.width=e.width,this.height=e.height,dk))for(const e of s)Object.defineProperty(this,e,{get:()=>{let s=a(r),l=n[t]-s;return this.rect[e]+l},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class dC{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function d_(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function dR(e){e.preventDefault()}function dE(e){e.stopPropagation()}(y=D||(D={})).Click="click",y.DragStart="dragstart",y.Keydown="keydown",y.ContextMenu="contextmenu",y.Resize="resize",y.SelectionChange="selectionchange",y.VisibilityChange="visibilitychange",(j=M||(M={})).Space="Space",j.Down="ArrowDown",j.Right="ArrowRight",j.Left="ArrowLeft",j.Up="ArrowUp",j.Esc="Escape",j.Enter="Enter",j.Tab="Tab";let dD={start:[M.Space,M.Enter],cancel:[M.Esc],end:[M.Space,M.Enter,M.Tab]},dM=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case M.Right:return{...r,x:r.x+25};case M.Left:return{...r,x:r.x-25};case M.Down:return{...r,y:r.y+25};case M.Up:return{...r,y:r.y-25}}};class dI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new dC(oO(t)),this.windowListeners=new dC(oL(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(D.Resize,this.handleCancel),this.windowListeners.add(D.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(D.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=dm),!e)return;let{top:r,left:n,bottom:s,right:a}=t(e);df(e)&&(s<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(o9)}handleKeyDown(e){if(oG(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:s=dD,coordinateGetter:a=dM,scrollBehavior:l="smooth"}=n,{code:i}=e;if(s.end.includes(i))return void this.handleEnd(e);if(s.cancel.includes(i))return void this.handleCancel(e);let{collisionRect:o}=r.current,d=o?{x:o.left,y:o.top}:o9;this.referenceCoordinates||(this.referenceCoordinates=d);let c=a(e,{active:t,context:r.current,currentCoordinates:d});if(c){let t=oY(c,d),n={x:0,y:0},{scrollableAncestors:s}=r.current;for(let r of s){let s=e.code,{isTop:a,isRight:i,isLeft:o,isBottom:d,maxScroll:u,minScroll:m}=dj(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}(r),h={x:Math.min(s===M.Right?p.right-p.width/2:p.right,Math.max(s===M.Right?p.left:p.left+p.width/2,c.x)),y:Math.min(s===M.Down?p.bottom-p.height/2:p.bottom,Math.max(s===M.Down?p.top:p.top+p.height/2,c.y))},f=s===M.Right&&!i||s===M.Left&&!o,x=s===M.Down&&!d||s===M.Up&&!a;if(f&&h.x!==c.x){let e=r.scrollLeft+t.x,a=s===M.Right&&e<=u.x||s===M.Left&&e>=m.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:l});a?n.x=r.scrollLeft-e:n.x=s===M.Right?r.scrollLeft-u.x:r.scrollLeft-m.x,n.x&&r.scrollBy({left:-n.x,behavior:l});break}if(x&&h.y!==c.y){let e=r.scrollTop+t.y,a=s===M.Down&&e<=u.y||s===M.Up&&e>=m.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:l});a?n.y=r.scrollTop-e:n.y=s===M.Down?r.scrollTop-u.y:r.scrollTop-m.y,n.y&&r.scrollBy({top:-n.y,behavior:l});break}}this.handleMove(e,oX(oY(c,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function dA(e){return!!(e&&"distance"in e)}function dL(e){return!!(e&&"delay"in e)}dI.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=dD,onActivation:s}=t,{active:a}=r,{code:l}=e.nativeEvent;if(n.start.includes(l)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==s||s({event:e.nativeEvent}),!0)}return!1}}];class dz{constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=oL(e);return e instanceof t?e:oO(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=oO(a),this.documentListeners=new dC(this.document),this.listeners=new dC(r),this.windowListeners=new dC(oL(a)),this.initialCoordinates=null!=(n=oJ(s))?n:o9,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(D.Resize,this.handleCancel),this.windowListeners.add(D.DragStart,dR),this.windowListeners.add(D.VisibilityChange,this.handleCancel),this.windowListeners.add(D.ContextMenu,dR),this.documentListeners.add(D.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dL(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(dA(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(D.Click,dE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(D.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!n)return;let i=null!=(t=oJ(e))?t:o9,o=oY(n,i);if(!r&&l){if(dA(l)){if(null!=l.tolerance&&d_(o,l.tolerance))return this.handleCancel();if(d_(o,l.distance))return this.handleStart()}return dL(l)&&d_(o,l.tolerance)?this.handleCancel():void this.handlePending(l,o)}e.cancelable&&e.preventDefault(),a(i)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===M.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let dP={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dT extends dz{constructor(e){const{event:t}=e;super(e,dP,oO(t.target))}}dT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];(w=I||(I={}))[w.RightClick=2]="RightClick";(N=A||(A={}))[N.Pointer=0]="Pointer",N[N.DraggableRect=1]="DraggableRect",(k=L||(L={}))[k.TreeOrder=0]="TreeOrder",k[k.ReversedTreeOrder=1]="ReversedTreeOrder";let dO={x:{[E.Backward]:!1,[E.Forward]:!1},y:{[E.Backward]:!1,[E.Forward]:!1}};(S=z||(z={}))[S.Always=0]="Always",S[S.BeforeDragging=1]="BeforeDragging",S[S.WhileDragging=2]="WhileDragging",(P||(P={})).Optimized="optimized";let dF=new Map;function d$(e,t){return oH(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function dq(e){let{callback:t,disabled:r}=e,n=o$(t),s=(0,F.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,F.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function dH(e){return new dS(dm(e),e)}function dB(e,t,r){void 0===t&&(t=dH);let[n,s]=(0,F.useState)(null);function a(){s(n=>{if(!e)return null;if(!1===e.isConnected){var s;return null!=(s=null!=n?n:r)?s:null}let a=t(e);return JSON.stringify(n)===JSON.stringify(a)?n:a})}let l=function(e){let{callback:t,disabled:r}=e,n=o$(t),s=(0,F.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,F.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){a();break}}}}),i=dq({callback:a});return oF(()=>{a(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),n}let dU=[];function dW(e,t){void 0===t&&(t=[]);let r=(0,F.useRef)(null);return(0,F.useEffect)(()=>{r.current=null},t),(0,F.useEffect)(()=>{let t=e!==o9;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?oY(e,r.current):o9}function dV(e){return(0,F.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let dK=[],dX=[{sensor:dT,options:{}},{sensor:dI,options:{}}],dY={current:{}},dG={draggable:{measure:dp},droppable:{measure:dp,strategy:z.WhileDragging,frequency:P.Optimized},dragOverlay:{measure:dm}};class dJ extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let dZ={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new dJ,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o8},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dG,measureDroppableContainers:o8,windowRect:null,measuringScheduled:!1},dQ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o8,draggableNodes:new Map,over:null,measureDroppableContainers:o8},d0=(0,F.createContext)(dQ),d1=(0,F.createContext)(dZ);function d2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new dJ}}}function d4(e,t){switch(t.type){case R.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case R.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case R.DragEnd:case R.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case R.RegisterDroppable:{let{element:r}=t,{id:n}=r,s=new dJ(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case R.SetDroppableDisabled:{let{id:r,key:n,disabled:s}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;let l=new dJ(e.droppable.containers);return l.set(r,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:l}}}case R.UnregisterDroppable:{let{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;let a=new dJ(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function d5(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:s}=(0,F.useContext)(d0),a=oU(n),l=oU(null==r?void 0:r.id);return(0,F.useEffect)(()=>{if(!t&&!n&&a&&null!=l){if(!oG(a)||document.activeElement===a.target)return;let e=s.get(l);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(oQ)?e:e.querySelector(oQ);if(t){t.focus();break}}})}},[n,t,s,l,a]),null}let d3=(0,F.createContext)({...o9,scaleX:1,scaleY:1});(C=T||(T={}))[C.Uninitialized=0]="Uninitialized",C[C.Initializing=1]="Initializing",C[C.Initialized=2]="Initialized";let d6=(0,F.memo)(function(e){var t,r,n,s,a,l,i,o;let d,c,u,m,p,h,f,x,{id:g,accessibility:v,autoScroll:b=!0,children:y,sensors:j=dX,collisionDetection:w=di,measuring:N,modifiers:k,...S}=e,[C,_]=(0,F.useReducer)(d4,void 0,d2),[D,M]=function(){let[e]=(0,F.useState)(()=>new Set),t=(0,F.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,F.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[I,P]=(0,F.useState)(T.Uninitialized),O=I===T.Initialized,{draggable:{active:$,nodes:q,translate:H},droppable:{containers:B}}=C,U=null!=$?q.get($):null,W=(0,F.useRef)({initial:null,translated:null}),V=(0,F.useMemo)(()=>{var e;return null!=$?{id:$,data:null!=(e=null==U?void 0:U.data)?e:dY,rect:W}:null},[$,U]),K=(0,F.useRef)(null),[X,Y]=(0,F.useState)(null),[G,J]=(0,F.useState)(null),Z=oq(S,Object.values(S)),Q=oV("DndDescribedBy",g),ee=(0,F.useMemo)(()=>B.getEnabled(),[B]),et=(0,F.useMemo)(()=>({draggable:{...dG.draggable,...null==N?void 0:N.draggable},droppable:{...dG.droppable,...null==N?void 0:N.droppable},dragOverlay:{...dG.dragOverlay,...null==N?void 0:N.dragOverlay}}),[null==N?void 0:N.draggable,null==N?void 0:N.droppable,null==N?void 0:N.dragOverlay]),{droppableRects:er,measureDroppableContainers:en,measuringScheduled:ea}=function(e,t){let{dragging:r,dependencies:n,config:s}=t,[a,l]=(0,F.useState)(null),{frequency:i,measure:o,strategy:d}=s,c=(0,F.useRef)(e),u=function(){switch(d){case z.Always:return!1;case z.BeforeDragging:return r;default:return!r}}(),m=oq(u),p=(0,F.useCallback)(function(e){void 0===e&&(e=[]),m.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),h=(0,F.useRef)(null),f=oH(t=>{if(u&&!r)return dF;if(!t||t===dF||c.current!==e||null!=a){let t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new dS(o(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,a,r,u,o]);return(0,F.useEffect)(()=>{c.current=e},[e]),(0,F.useEffect)(()=>{u||p()},[r,u]),(0,F.useEffect)(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),(0,F.useEffect)(()=>{u||"number"!=typeof i||null!==h.current||(h.current=setTimeout(()=>{p(),h.current=null},i))},[i,u,p,...n]),{droppableRects:f,measureDroppableContainers:p,measuringScheduled:null!=a}}(ee,{dragging:O,dependencies:[H.x,H.y],config:et.droppable}),el=oH(e=>{var t;return null==$?null:null!=(t=null!=p?p:e)?t:null},[p=(m=null!=$?q.get($):void 0)?m.node.current:null,$]),ei=(0,F.useMemo)(()=>G?oJ(G):null,[G]),eo=(d=(null==X?void 0:X.autoScrollEnabled)===!1,c="object"==typeof b?!1===b.enabled:!1===b,u=O&&!d&&!c,"object"==typeof b?{...b,enabled:u}:{enabled:u}),ed=d$(el,et.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e,a=(0,F.useRef)(!1),{x:l,y:i}="boolean"==typeof s?{x:s,y:s}:s;oF(()=>{if(!l&&!i||!t){a.current=!1;return}if(a.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let s=dd(r(e),n);if(l||(s.x=0),i||(s.y=0),a.current=!0,Math.abs(s.x)>0||Math.abs(s.y)>0){let t=df(e);t&&t.scrollBy({top:s.y,left:s.x})}},[t,l,i,n,r])}({activeNode:null!=$?q.get($):null,config:eo.layoutShiftCompensation,initialRect:ed,measure:et.draggable.measure});let ec=dB(el,et.draggable.measure,ed),eu=dB(el?el.parentElement:null),em=(0,F.useRef)({activatorEvent:null,active:null,activeNode:el,collisionRect:null,collisions:null,droppableRects:er,draggableNodes:q,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ep=B.getNodeFor(null==(t=em.current.over)?void 0:t.id),eh=function(e){let{measure:t}=e,[r,n]=(0,F.useState)(null),s=dq({callback:(0,F.useCallback)(e=>{for(let{target:r}of e)if(oP(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[a,l]=oB((0,F.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return oP(t)?t:e}(e);null==s||s.disconnect(),r&&(null==s||s.observe(r)),n(r?t(r):null)},[t,s]));return(0,F.useMemo)(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}({measure:et.dragOverlay.measure}),ef=null!=(r=eh.nodeRef.current)?r:el,ex=O?null!=(n=eh.rect)?n:ec:null,eg=!!(eh.nodeRef.current&&eh.rect),ev=(h=d$(a=eg?null:ec),dd(a,h)),eb=dV(ef?oL(ef):null),ey=(l=O?null!=ep?ep:el:null,f=(0,F.useRef)(l),x=oH(e=>l?e&&e!==dU&&l&&f.current&&l.parentNode===f.current.parentNode?e:dh(l):dU,[l]),(0,F.useEffect)(()=>{f.current=l},[l]),x),ej=function(e,t){void 0===t&&(t=dm);let[r]=e,n=dV(r?oL(r):null),[s,a]=(0,F.useState)(dK);function l(){a(()=>e.length?e.map(e=>dy(e)?n:new dS(t(e),e)):dK)}let i=dq({callback:l});return oF(()=>{null==i||i.disconnect(),l(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),s}(ey),ew=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(k,{transform:{x:H.x-ev.x,y:H.y-ev.y,scaleX:1,scaleY:1},activatorEvent:G,active:V,activeNodeRect:ec,containerNodeRect:eu,draggingNodeRect:ex,over:em.current.over,overlayNodeRect:eh.rect,scrollableAncestors:ey,scrollableAncestorRects:ej,windowRect:eb}),eN=ei?oX(ei,H):null,ek=function(e){let[t,r]=(0,F.useState)(null),n=(0,F.useRef)(e),s=(0,F.useCallback)(e=>{let t=dx(e.target);t&&r(e=>e?(e.set(t,db(t)),new Map(e)):null)},[]);return(0,F.useEffect)(()=>{let t=n.current;if(e!==t){a(t);let l=e.map(e=>{let t=dx(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,db(t)]):null}).filter(e=>null!=e);r(l.length?new Map(l):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{let t=dx(e);null==t||t.removeEventListener("scroll",s)})}},[s,e]),(0,F.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>oX(e,t),o9):dN(e):o9,[e,t])}(ey),eS=dW(ek),eC=dW(ek,[ec]),e_=oX(ew,eS),eR=ex?dc(ex,ew):null,eE=V&&eR?w({active:V,collisionRect:eR,droppableRects:er,droppableContainers:ee,pointerCoordinates:eN}):null,eD=ds(eE,"id"),[eM,eI]=(0,F.useState)(null),eA=(i=eg?ew:oX(ew,eC),o=null!=(s=null==eM?void 0:eM.rect)?s:null,{...i,scaleX:o&&ec?o.width/ec.width:1,scaleY:o&&ec?o.height/ec.height:1}),eL=(0,F.useRef)(null),ez=(0,F.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==K.current)return;let s=q.get(K.current);if(!s)return;let a=e.nativeEvent,l=new r({active:K.current,activeNode:s,event:a,options:n,context:em,onAbort(e){if(!q.get(e))return;let{onDragAbort:t}=Z.current,r={id:e};null==t||t(r),D({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!q.get(e))return;let{onDragPending:s}=Z.current,a={id:e,constraint:t,initialCoordinates:r,offset:n};null==s||s(a),D({type:"onDragPending",event:a})},onStart(e){let t=K.current;if(null==t)return;let r=q.get(t);if(!r)return;let{onDragStart:n}=Z.current,s={activatorEvent:a,active:{id:t,data:r.data,rect:W}};(0,es.unstable_batchedUpdates)(()=>{null==n||n(s),P(T.Initializing),_({type:R.DragStart,initialCoordinates:e,active:t}),D({type:"onDragStart",event:s}),Y(eL.current),J(a)})},onMove(e){_({type:R.DragMove,coordinates:e})},onEnd:i(R.DragEnd),onCancel:i(R.DragCancel)});function i(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:s}=em.current,l=null;if(t&&s){let{cancelDrop:i}=Z.current;l={activatorEvent:a,active:t,collisions:r,delta:s,over:n},e===R.DragEnd&&"function"==typeof i&&await Promise.resolve(i(l))&&(e=R.DragCancel)}K.current=null,(0,es.unstable_batchedUpdates)(()=>{_({type:e}),P(T.Uninitialized),eI(null),Y(null),J(null),eL.current=null;let t=e===R.DragEnd?"onDragEnd":"onDragCancel";if(l){let e=Z.current[t];null==e||e(l),D({type:t,event:l})}})}}eL.current=l},[q]),eP=(0,F.useCallback)((e,t)=>(r,n)=>{let s=r.nativeEvent,a=q.get(n);null!==K.current||!a||s.dndKit||s.defaultPrevented||!0===e(r,t.options,{active:a})&&(s.dndKit={capturedBy:t.sensor},K.current=n,ez(r,t))},[q,ez]),eT=(0,F.useMemo)(()=>j.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:eP(e.handler,t)}))]},[]),[j,eP]);(0,F.useEffect)(()=>{if(!oM)return;let e=j.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},j.map(e=>{let{sensor:t}=e;return t})),oF(()=>{ec&&I===T.Initializing&&P(T.Initialized)},[ec,I]),(0,F.useEffect)(()=>{let{onDragMove:e}=Z.current,{active:t,activatorEvent:r,collisions:n,over:s}=em.current;if(!t||!r)return;let a={active:t,activatorEvent:r,collisions:n,delta:{x:e_.x,y:e_.y},over:s};(0,es.unstable_batchedUpdates)(()=>{null==e||e(a),D({type:"onDragMove",event:a})})},[e_.x,e_.y]),(0,F.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:s}=em.current;if(!e||null==K.current||!t||!s)return;let{onDragOver:a}=Z.current,l=n.get(eD),i=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:s.x,y:s.y},over:i};(0,es.unstable_batchedUpdates)(()=>{eI(i),null==a||a(o),D({type:"onDragOver",event:o})})},[eD]),oF(()=>{em.current={activatorEvent:G,active:V,activeNode:el,collisionRect:eR,collisions:eE,droppableRects:er,draggableNodes:q,draggingNode:ef,draggingNodeRect:ex,droppableContainers:B,over:eM,scrollableAncestors:ey,scrollAdjustedTranslate:e_},W.current={initial:ex,translated:eR}},[V,el,eE,eR,q,ef,ex,er,B,eM,ey,e_]),function(e){let t,{acceleration:r,activator:n=A.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:i=5,order:o=L.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:u,delta:m,threshold:p}=e,h=function(e){let{delta:t,disabled:r}=e,n=oU(t);return oH(e=>{if(r||!n||!e)return dO;let s={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[E.Backward]:e.x[E.Backward]||-1===s.x,[E.Forward]:e.x[E.Forward]||1===s.x},y:{[E.Backward]:e.y[E.Backward]||-1===s.y,[E.Forward]:e.y[E.Forward]||1===s.y}}},[r,t,n])}({delta:m,disabled:!l}),[f,x]=(t=(0,F.useRef)(null),[(0,F.useCallback)((e,r)=>{t.current=setInterval(e,r)},[]),(0,F.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),g=(0,F.useRef)({x:0,y:0}),v=(0,F.useRef)({x:0,y:0}),b=(0,F.useMemo)(()=>{switch(n){case A.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case A.DraggableRect:return a}},[n,a,d]),y=(0,F.useRef)(null),j=(0,F.useCallback)(()=>{let e=y.current;if(!e)return;let t=g.current.x*v.current.x,r=g.current.y*v.current.y;e.scrollBy(t,r)},[]),w=(0,F.useMemo)(()=>o===L.TreeOrder?[...c].reverse():c,[o,c]);(0,F.useEffect)(()=>{if(!l||!c.length||!b)return void x();for(let e of w){if((null==s?void 0:s(e))===!1)continue;let t=u[c.indexOf(e)];if(!t)continue;let{direction:n,speed:a}=function(e,t,r,n,s){let{top:a,left:l,right:i,bottom:o}=r;void 0===n&&(n=10),void 0===s&&(s=dw);let{isTop:d,isBottom:c,isLeft:u,isRight:m}=dj(e),p={x:0,y:0},h={x:0,y:0},f={height:t.height*s.y,width:t.width*s.x};return!d&&a<=t.top+f.height?(p.y=E.Backward,h.y=n*Math.abs((t.top+f.height-a)/f.height)):!c&&o>=t.bottom-f.height&&(p.y=E.Forward,h.y=n*Math.abs((t.bottom-f.height-o)/f.height)),!m&&i>=t.right-f.width?(p.x=E.Forward,h.x=n*Math.abs((t.right-f.width-i)/f.width)):!u&&l<=t.left+f.width&&(p.x=E.Backward,h.x=n*Math.abs((t.left+f.width-l)/f.width)),{direction:p,speed:h}}(e,t,b,r,p);for(let e of["x","y"])h[e][n[e]]||(a[e]=0,n[e]=0);if(a.x>0||a.y>0){x(),y.current=e,f(j,i),g.current=a,v.current=n;return}}g.current={x:0,y:0},v.current={x:0,y:0},x()},[r,j,s,x,l,i,JSON.stringify(b),JSON.stringify(h),f,c,w,u,JSON.stringify(p)])}({...eo,delta:H,draggingRect:eR,pointerCoordinates:eN,scrollableAncestors:ey,scrollableAncestorRects:ej});let eO=(0,F.useMemo)(()=>({active:V,activeNode:el,activeNodeRect:ec,activatorEvent:G,collisions:eE,containerNodeRect:eu,dragOverlay:eh,draggableNodes:q,droppableContainers:B,droppableRects:er,over:eM,measureDroppableContainers:en,scrollableAncestors:ey,scrollableAncestorRects:ej,measuringConfiguration:et,measuringScheduled:ea,windowRect:eb}),[V,el,ec,G,eE,eu,eh,q,B,er,eM,en,ey,ej,et,ea,eb]),eF=(0,F.useMemo)(()=>({activatorEvent:G,activators:eT,active:V,activeNodeRect:ec,ariaDescribedById:{draggable:Q},dispatch:_,draggableNodes:q,over:eM,measureDroppableContainers:en}),[G,eT,V,ec,_,Q,q,eM,en]);return F.default.createElement(o4.Provider,{value:M},F.default.createElement(d0.Provider,{value:eF},F.default.createElement(d1.Provider,{value:eO},F.default.createElement(d3.Provider,{value:eA},y)),F.default.createElement(d5,{disabled:(null==v?void 0:v.restoreFocus)===!1})),F.default.createElement(o6,{...v,hiddenTextDescribedById:Q}))}),d8=(0,F.createContext)(null),d7="button",d9={timeout:25},ce={position:"fixed",touchAction:"none"},ct=e=>oG(e)?"transform 250ms ease":void 0;function cr(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function cn(e){return null!==e&&e>=0}(e,t)=>{let{as:r,activatorEvent:n,adjustScale:s,children:a,className:l,rect:i,style:o,transform:d,transition:c=ct}=e;if(!i)return null;let u=s?d:{...d,scaleX:1,scaleY:1},m={...ce,width:i.width,height:i.height,top:i.top,left:i.left,transform:oZ.Transform.toString(u),transformOrigin:s&&n?function(e,t){let r=oJ(e);if(!r)return"0 0";let n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}(n,i):void 0,transition:"function"==typeof c?c(n):c,...o};return F.default.createElement(r,{className:l,style:m,ref:t},a)},o={styles:{active:{opacity:"0"}}};let cs=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e,a=cr(t,n,r),l=t[s],i=a[s];return i&&l?{x:i.left-l.left,y:i.top-l.top,scaleX:i.width/l.width,scaleY:i.height/l.height}:null},ca={scaleX:1,scaleY:1},cl=e=>{var t,r,n,s;let a,l,i,{activeIndex:o,activeNodeRect:d,index:c,rects:u,overIndex:m}=e,p=null!=(t=u[o])?t:d;if(!p)return null;if(c===o){let e=u[m];return e?{x:0,y:o<m?e.top+e.height-(p.top+p.height):e.top-p.top,...ca}:null}let h=(r=u,n=c,s=o,a=r[n],l=r[n-1],i=r[n+1],a?s<n?l?a.top-(l.top+l.height):i?i.top-(a.top+a.height):0:i?i.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0);return c>o&&c<=m?{x:0,y:-p.height-h,...ca}:c<o&&c>=m?{x:0,y:p.height+h,...ca}:{x:0,y:0,...ca}},ci="Sortable",co=F.default.createContext({activeIndex:-1,containerId:ci,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cs,disabled:{draggable:!1,droppable:!1}});function cd(e){let{children:t,id:r,items:n,strategy:s=cs,disabled:a=!1}=e,{active:l,dragOverlay:i,droppableRects:o,over:d,measureDroppableContainers:c}=(0,F.useContext)(d1),u=oV(ci,r),m=null!==i.rect,p=(0,F.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),h=null!=l,f=l?p.indexOf(l.id):-1,x=d?p.indexOf(d.id):-1,g=(0,F.useRef)(p),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(p,g.current),b=-1!==x&&-1===f||v,y="boolean"==typeof a?{draggable:a,droppable:a}:a;oF(()=>{v&&h&&c(p)},[v,p,h,c]),(0,F.useEffect)(()=>{g.current=p},[p]);let j=(0,F.useMemo)(()=>({activeIndex:f,containerId:u,disabled:y,disableTransforms:b,items:p,overIndex:x,useDragOverlay:m,sortedRects:p.reduce((e,t,r)=>{let n=o.get(t);return n&&(e[r]=n),e},Array(p.length)),strategy:s}),[f,u,y.draggable,y.droppable,b,p,x,o,m,s]);return F.default.createElement(co.Provider,{value:j},t)}let cc=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return cr(r,n,s).indexOf(t)},cu=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:a,newIndex:l,previousItems:i,previousContainerId:o,transition:d}=e;return!!d&&!!n&&(i===a||s!==l)&&(!!r||l!==s&&t===o)},cm={duration:200,easing:"ease"},cp="transform",ch=oZ.Transition.toString({property:cp,duration:0,easing:"linear"}),cf={roleDescription:"sortable"};function cx(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let cg=[M.Down,M.Right,M.Up,M.Left],cv=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:a,over:l,scrollableAncestors:i}}=t;if(cg.includes(e.code)){if(e.preventDefault(),!r||!n)return;let t=[];a.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let a=s.get(r.id);if(a)switch(e.code){case M.Down:n.top<a.top&&t.push(r);break;case M.Up:n.top>a.top&&t.push(r);break;case M.Left:n.left>a.left&&t.push(r);break;case M.Right:n.left<a.left&&t.push(r)}});let c=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=dn(t),a=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=dn(n),l=Number((s.reduce((e,t,n)=>e+de(r[n],t),0)/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:l}})}}return a.sort(dt)})({active:r,collisionRect:n,droppableRects:s,droppableContainers:t,pointerCoordinates:null}),u=ds(c,"id");if(u===(null==l?void 0:l.id)&&c.length>1&&(u=c[1].id),null!=u){let e=a.get(r.id),t=a.get(u),l=t?s.get(t.id):null,c=null==t?void 0:t.node.current;if(c&&l&&e&&t){var o,d;let r=dh(c).some((e,t)=>i[t]!==e),s=cb(e,t),a=(o=e,d=t,!!cx(o)&&!!cx(d)&&!!cb(o,d)&&o.data.current.sortable.index<d.data.current.sortable.index),u=r||!s?{x:0,y:0}:{x:a?n.width-l.width:0,y:a?n.height-l.height:0},m={x:l.left,y:l.top};return u.x&&u.y?m:oY(m,u)}}}};function cb(e,t){return!!cx(e)&&!!cx(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function cy({onBack:e}){let[t,r]=(0,F.useState)([]),[n,s]=(0,F.useState)([]),[a,l]=(0,F.useState)([]),[i,o]=(0,F.useState)(!0),[d,c]=(0,F.useState)(null),[u,m]=(0,F.useState)(!1),[p,h]=(0,F.useState)(null),[f,x]=(0,F.useState)(!1),[g,v]=(0,F.useState)(null),{toast:b}=(0,lb.useToast)(),[y,j]=(0,F.useState)(""),[w,N]=(0,F.useState)([]),[k,S]=(0,F.useState)({name:"",approverId:"",roleId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""}),[C,_]=(0,F.useState)(null);(0,F.useEffect)(()=>{R()},[]);let R=async()=>{o(!0),c(null);try{let[e,t]=await Promise.all([l9(),ie()]);e.success&&e.data?r(e.data):c(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"),t.success&&t.data&&(s(t.data.roles),l(t.data.users))}catch(e){console.error("Failed to fetch data:",e),c("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{o(!1)}},E=async()=>{if(!y)return void b({title:"âŒ Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„",variant:"destructive"});if(0===w.length)return void b({title:"âŒ Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„",variant:"destructive"});try{let e=w.map((e,t)=>({name:e.name,order:t+1,approver_role_id:e.approver_role_id||0,approver_user_id:e.approver_user_id||null,sla_hours:e.sla_hours||24,is_final:t===w.length-1,escalation_role_id:e.escalation_role_id||null}));if(p){let t=await oE(p.workflow_id,{name:y,steps:e});if(!t.success)return void b({title:"âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«",description:t.error,variant:"destructive"});b({title:"âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­"})}else{let t=await oR({name:y,steps:e});if(!t.success)return void b({title:"âŒ ÙØ´Ù„Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©",description:t.error,variant:"destructive"});b({title:"âœ… ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­"})}z(),await R()}catch(e){b({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},D=async()=>{if(g)try{let e=await oD(g);e.success?(b({title:"âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­"}),await R(),x(!1),v(null)):b({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù",description:e.error,variant:"destructive"})}catch(e){b({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},M=(e,t)=>{let r={...k,[e]:t};if(S(r),null!==C){let e=[...w],t=e[C].sequence_order,s=0,l=null;r.approverId.startsWith("role_")?s=parseInt(r.approverId.split("_")[1]):r.approverId.startsWith("user_")&&(l=parseInt(r.approverId.split("_")[1]));let i=s?n.find(e=>e.role_id===s):null,o=l?a.find(e=>e.user_id===l):null;e[C]={name:r.name,approver_role_id:s,approver_user_id:l,roles:i,users:o,sla_hours:"days"===r.slaUnit?24*(r.sla||0):r.sla||0,sequence_order:t,is_final:r.isFinal,escalation_role_id:r.escalationRoleId?parseInt(r.escalationRoleId):null},N(e)}},I=(e,t)=>{_(t);let r="";e.approver_user_id?r=`user_${e.approver_user_id}`:e.approver_role_id&&(r=`role_${e.approver_role_id}`),S({name:e.name,approverId:r,roleId:"",sla:e.sla_hours?e.sla_hours>=24&&e.sla_hours%24==0?e.sla_hours/24:e.sla_hours:48,slaUnit:e.sla_hours&&e.sla_hours>=24&&e.sla_hours%24==0?"days":"hours",isFinal:e.is_final||!1,escalationRoleId:e.escalation_role_id?e.escalation_role_id.toString():""})},A=e=>{let t=w.filter((t,r)=>r!==e);t.forEach((e,t)=>{e.sequence_order=t+1}),N(t),C===e&&(_(null),S({name:"",approverId:"",roleId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""}))},L=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,F.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(o7(dT),o7(dI,{coordinateGetter:cv})),z=()=>{j(""),N([]),m(!1),h(null),_(null),S({name:"",approverId:"",roleId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""})};return i?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]}):d?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:d,onRetry:R})]}):u?(0,O.jsxs)("div",{className:"space-y-6 p-6 min-h-screen bg-gray-50/50",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border shadow-sm",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,O.jsx)("span",{children:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)(e$,{className:"w-4 h-4 rotate-180"}),(0,O.jsx)("span",{className:"font-semibold text-foreground",children:p?"ØªØ¹Ø¯ÙŠÙ„ Ù…Ø³Ø§Ø±":"Ù…Ø³Ø§Ø± Ø¬Ø¯ÙŠØ¯"})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(J,{variant:"outline",onClick:z,children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsxs)(J,{onClick:E,className:"bg-primary hover:bg-primary/90",children:[(0,O.jsx)(l8,{className:"w-4 h-4 ml-2"}),"Ø­ÙØ¸ Ø§Ù„Ù…Ø³Ø§Ø±"]})]})]}),(0,O.jsx)(Z,{className:"border-none shadow-sm",children:(0,O.jsxs)(er,{className:"p-6",children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"Ø§Ø³Ù… Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)(en,{placeholder:"Ù…Ø«Ø§Ù„: Ø·Ù„Ø¨ Ø¹Ø°Ø± ØºÙŠØ§Ø¨",value:y,onChange:e=>j(e.target.value),className:"max-w-md"})]})}),w.length>0&&(0,O.jsx)(Z,{className:"border-none shadow-sm overflow-hidden bg-white/50 backdrop-blur-sm border border-teal-100/50",children:(0,O.jsxs)(er,{className:"p-6",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,O.jsx)("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-teal-500 animate-pulse"}),(0,O.jsx)("label",{className:"text-sm font-medium text-teal-800",children:"Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø³Ø§Ø±"})]}),(0,O.jsxs)("div",{className:"flex items-center gap-2 flex-wrap min-h-[40px]",children:[(0,O.jsx)("div",{className:"flex items-center text-xs font-semibold px-3 py-1.5 rounded-full bg-gray-100 text-gray-500 border border-gray-200 shadow-sm",children:"Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©"}),(0,O.jsx)(e$,{className:"w-4 h-4 text-gray-300 rotate-180 flex-shrink-0 mx-1"}),w.map((e,t)=>(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsxs)("div",{className:`flex items-center text-sm font-medium border rounded-full px-4 py-1.5 whitespace-nowrap shadow-sm transition-all
                      ${C===t?"bg-teal-50 border-teal-300 text-teal-700 ring-2 ring-teal-100 scale-105":"bg-white border-gray-200 text-gray-700 hover:border-teal-200 hover:bg-teal-50/50"}`,children:[e.name,e.is_final&&(0,O.jsx)("span",{className:"mr-2 px-1.5 py-0.5 rounded-full bg-teal-100 text-teal-700 text-[10px]",children:"Ù†Ù‡Ø§ÙŠØ©"})]}),t<w.length-1&&(0,O.jsx)(e$,{className:"w-4 h-4 mx-2 text-gray-300 rotate-180 flex-shrink-0"})]},t)),(0,O.jsx)(e$,{className:"w-4 h-4 text-gray-300 rotate-180 flex-shrink-0 mx-1"}),(0,O.jsx)("div",{className:"flex items-center text-xs font-semibold px-3 py-1.5 rounded-full bg-teal-600 text-white shadow-sm ring-2 ring-teal-100 ring-offset-2",children:"Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨"})]})]})}),(0,O.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-start",children:[(0,O.jsxs)("div",{className:"lg:col-span-8 space-y-4",children:[(0,O.jsx)("div",{className:"flex justify-between items-center",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"}),(0,O.jsxs)("p",{className:"text-sm text-gray-500",children:[w.length," Ø®Ø·ÙˆØ§Øª Ù…Ø¹Ø¯Ø©"]})]})}),0===w.length?(0,O.jsxs)("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-12 text-center bg-white",children:[(0,O.jsx)("div",{className:"w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,O.jsx)(ew,{className:"w-8 h-8 text-teal-500"})}),(0,O.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø·ÙˆØ§Øª Ø¨Ø¹Ø¯"}),(0,O.jsx)("p",{className:"text-gray-500 mt-1 max-w-sm mx-auto",children:"Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø²Ø± Ø£Ø¹Ù„Ø§Ù‡ Ù„Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„."})]}):(0,O.jsx)(d6,{sensors:L,collisionDetection:dl,onDragEnd:e=>{let{active:t,over:r}=e;t.id!==r?.id&&N(e=>{let n=e.findIndex((e,r)=>(e.id||`step-${r}`)===t.id),s=e.findIndex((e,t)=>(e.id||`step-${t}`)===r?.id);return cr(e,n,s).map((e,t)=>({...e,sequence_order:t+1}))})},children:(0,O.jsx)(cd,{items:w.map((e,t)=>e.id||`step-${t}`),strategy:cl,children:(0,O.jsx)("div",{className:"space-y-3",children:w.map((e,t)=>(0,O.jsx)(cN,{step:{...e,id:e.id||`step-${t}`},index:t,editingStepIndex:C,onEdit:I,onDelete:A},e.id||`step-${t}`))})})})]}),(0,O.jsx)("div",{className:"lg:col-span-4 space-y-4",children:(0,O.jsxs)(Z,{className:"border-none shadow-md sticky top-6",children:[(0,O.jsxs)(Q,{className:"pb-3 border-b",children:[(0,O.jsx)(ee,{className:"text-lg text-gray-800",children:"Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ©"}),(0,O.jsx)(et,{children:null!==C?`ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø®Ø·ÙˆØ© #${C+1}`:"ØªÙƒÙˆÙŠÙ† Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø©"})]}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø·ÙˆØ©"}),(0,O.jsx)(en,{placeholder:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨",value:k.name,onChange:e=>M("name",e.target.value),className:"bg-gray-50 focus:bg-white transition-colors"})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ù„Ù…ÙˆØ§ÙÙ‚"}),(0,O.jsxs)("select",{value:k.approverId,onChange:e=>M("approverId",e.target.value),className:"w-full flex h-10 w-full rounded-md border border-input bg-gray-50 px-3 py-2 text-sm ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-sans",children:[(0,O.jsx)("option",{value:"",children:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"}),(0,O.jsx)("optgroup",{label:"Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©",children:n.map(e=>(0,O.jsx)("option",{value:`role_${e.role_id}`,children:e.role_name},`role_${e.role_id}`))}),(0,O.jsx)("optgroup",{label:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",children:a.map(e=>(0,O.jsxs)("option",{value:`user_${e.user_id}`,children:[e.full_name," (",e.university_id,")"]},`user_${e.user_id}`))})]})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ù…Ù‡Ù„Ø©"}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(en,{type:"number",min:"1",value:k.sla,onChange:e=>M("sla",parseInt(e.target.value)||0),className:"flex-1 bg-gray-50 focus:bg-white"}),(0,O.jsxs)("select",{value:k.slaUnit,onChange:e=>M("slaUnit",e.target.value),className:"w-24 rounded-md border border-input bg-gray-50 px-3 py-2 text-sm focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500",children:[(0,O.jsx)("option",{value:"hours",children:"Ø³Ø§Ø¹Ø©"}),(0,O.jsx)("option",{value:"days",children:"ÙŠÙˆÙ…"})]})]}),(0,O.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Ø§Ù„ØªØµØ¹ÙŠØ¯ Ø¨Ø¹Ø¯ ",k.sla," ","days"===k.slaUnit?"ÙŠÙˆÙ…":"Ø³Ø§Ø¹Ø©"]})]}),(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{className:"text-sm font-medium text-gray-700",children:"ÙŠØªØµØ¹Ø¯ Ø¥Ù„Ù‰"}),(0,O.jsxs)("select",{value:k.escalationRoleId,onChange:e=>M("escalationRoleId",e.target.value),className:"w-full flex h-10 w-full rounded-md border border-input bg-gray-50 px-3 py-2 text-sm focus:bg-white focus:outline-none focus:ring-2 focus:ring-teal-500/20 focus:border-teal-500 transition-all font-sans",children:[(0,O.jsx)("option",{value:"",children:"Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù… (ØªÙ„Ù‚Ø§Ø¦ÙŠ)"}),n.map(e=>(0,O.jsx)("option",{value:e.role_id,children:e.role_name},e.role_id))]})]}),(0,O.jsxs)("div",{className:"pt-4 space-y-3 border-t",children:[(0,O.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,O.jsxs)("div",{className:"relative flex items-center",children:[(0,O.jsx)("input",{type:"checkbox",className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-teal-600 checked:bg-teal-600",checked:k.isFinal||!1,onChange:e=>M("isFinal",e.target.checked)}),(0,O.jsx)("div",{className:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100",children:(0,O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,O.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("span",{className:"block text-sm font-medium text-gray-700 group-hover:text-teal-700 transition-colors",children:"Ø®Ø·ÙˆØ© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©ØŸ"}),(0,O.jsx)("span",{className:"block text-xs text-muted-foreground mt-0.5",children:"ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙƒÙ…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡ ÙˆØªÙˆÙ„ÙŠØ¯ PDF ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¥Ø®Ø·Ø§Ø±"})]})]}),(0,O.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer group",children:[(0,O.jsxs)("div",{className:"relative flex items-center",children:[(0,O.jsx)("input",{type:"checkbox",className:"peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-gray-300 transition-all checked:border-teal-600 checked:bg-teal-600",defaultChecked:!0}),(0,O.jsx)("div",{className:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 peer-checked:opacity-100",children:(0,O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,O.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("span",{className:"block text-sm font-medium text-gray-700 group-hover:text-teal-700 transition-colors",children:"Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªÙÙˆÙŠØ¶ / Ø§Ù„ÙˆÙƒÙŠÙ„ØŸ"}),(0,O.jsx)("span",{className:"block text-xs text-muted-foreground mt-0.5",children:"ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…ÙˆØ§ÙÙ‚ ØªÙÙˆÙŠØ¶ Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø±"})]})]})]}),(0,O.jsx)(J,{onClick:()=>{if(!k.name||!k.approverId)return void b({title:"ØªÙ†Ø¨ÙŠÙ‡",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø®Ø·ÙˆØ© ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",variant:"destructive"});let e=0,t=null;k.approverId.startsWith("role_")?e=parseInt(k.approverId.split("_")[1]):k.approverId.startsWith("user_")&&(t=parseInt(k.approverId.split("_")[1]));let r=e?n.find(t=>t.role_id===e):null,s=t?a.find(e=>e.user_id===t):null;if(null===C){let n={name:k.name,approver_role_id:e,approver_user_id:t,roles:r,users:s,sla_hours:"days"===k.slaUnit?24*k.sla:k.sla,sequence_order:w.length+1,is_final:k.isFinal,escalation_role_id:k.escalationRoleId?parseInt(k.escalationRoleId):null};N([...w,n]),b({title:"ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©",description:"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø·ÙˆØ© Ø¨Ù†Ø¬Ø§Ø­"}),S({name:"",approverId:"",roleId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""})}else S({name:"",approverId:"",roleId:"",sla:48,slaUnit:"hours",isFinal:!1,escalationRoleId:""}),_(null)},className:"w-full mt-4 bg-teal-600 hover:bg-teal-700 text-white",children:"+ Ø¥Ø¶Ø§ÙØ© Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø©"}),null!==C&&(0,O.jsx)("p",{className:"text-xs text-center text-teal-600 mt-2 font-medium",children:"* ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"})]})]})})]})]}):(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[t.length," Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(J,{onClick:()=>m(!0),className:"bg-primary gap-2",children:[(0,O.jsx)(ew,{className:"w-4 h-4"}),"Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ Ø¬Ø¯ÙŠØ¯"]}),(0,O.jsxs)(J,{onClick:e,variant:"ghost",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})]}),0===t.length?(0,O.jsx)(e0,{icon:"ðŸ”„",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³Ø§Ø±Ø§Øª Ø¹Ù…Ù„",description:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø³Ø§Ø±Ø§Øª Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø± Ø¹Ù…Ù„ Ø¬Ø¯ÙŠØ¯.",action:{label:"Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø± Ø¹Ù…Ù„",onClick:()=>m(!0)}}):(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,O.jsxs)(Z,{className:"hover:shadow-lg transition-all border-t-4 border-t-primary cursor-pointer group",children:[(0,O.jsx)(Q,{children:(0,O.jsxs)("div",{className:"flex justify-between items-start",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ee,{className:"text-lg group-hover:text-primary transition-colors",children:e.name}),(0,O.jsxs)(et,{className:"mt-1",children:[e.workflow_steps?.length||0," Ø®Ø·ÙˆØ§Øª"]})]}),(0,O.jsxs)("div",{className:"flex gap-1",children:[(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),h(e),j(e.name),N((e.workflow_steps||[]).map(e=>{let t=e.approver_role_id,r=e.approver_user_id,s=t?n.find(e=>e.role_id===t):null,l=r?a.find(e=>e.user_id===r):null;return{...e,roles:e.roles||s,users:e.users||l}})),m(!0)},className:"text-muted-foreground hover:text-primary",children:(0,O.jsx)(eP,{className:"w-4 h-4"})}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),v(e.workflow_id),x(!0)},className:"text-muted-foreground hover:text-destructive",children:(0,O.jsx)(rY,{className:"w-4 h-4"})})]})]})}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 scrollbar-hide",children:e.workflow_steps?.map((t,r)=>(0,O.jsxs)("div",{className:"flex items-center",children:[(0,O.jsx)("div",{className:"flex items-center text-sm font-medium border rounded-full px-3 py-1 whitespace-nowrap bg-white hover:border-teal-500 hover:text-teal-600 transition-colors shadow-sm",children:t.name}),r<e.workflow_steps.length-1&&(0,O.jsx)(e$,{className:"w-4 h-4 mx-2 text-gray-400 rotate-180 flex-shrink-0"})]},r))})})]},e.workflow_id))}),(0,O.jsx)(ls,{open:f,onOpenChange:x,children:(0,O.jsxs)(li,{dir:"rtl",children:[(0,O.jsxs)(lo,{children:[(0,O.jsx)(lc,{children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ØŸ"}),(0,O.jsx)(lu,{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡."})]}),(0,O.jsxs)(ld,{children:[(0,O.jsx)(lp,{children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(lm,{onClick:D,className:"bg-destructive hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}function cj(e){return(0,O.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,O.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,O.jsx)("polyline",{points:"12 6 12 12 16 14"})]})}function cw(e){return(0,O.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,O.jsx)("circle",{cx:"9",cy:"12",r:"1"}),(0,O.jsx)("circle",{cx:"9",cy:"5",r:"1"}),(0,O.jsx)("circle",{cx:"9",cy:"19",r:"1"}),(0,O.jsx)("circle",{cx:"15",cy:"12",r:"1"}),(0,O.jsx)("circle",{cx:"15",cy:"5",r:"1"}),(0,O.jsx)("circle",{cx:"15",cy:"19",r:"1"})]})}function cN({step:e,index:t,editingStepIndex:r,onEdit:n,onDelete:s}){let{attributes:a,listeners:l,setNodeRef:i,transform:o,transition:d,isDragging:c}=function(e){var t,r,n,s;let{animateLayoutChanges:a=cu,attributes:l,disabled:i,data:o,getNewIndex:d=cc,id:c,strategy:u,resizeObserverConfig:m,transition:p=cm}=e,{items:h,containerId:f,activeIndex:x,disabled:g,disableTransforms:v,sortedRects:b,overIndex:y,useDragOverlay:j,strategy:w}=(0,F.useContext)(co),N=(t=i,r=g,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(n=null==t?void 0:t.draggable)?n:r.draggable,droppable:null!=(s=null==t?void 0:t.droppable)?s:r.droppable}),k=h.indexOf(c),S=(0,F.useMemo)(()=>({sortable:{containerId:f,index:k,items:h},...o}),[f,o,k,h]),C=(0,F.useMemo)(()=>h.slice(h.indexOf(c)),[h,c]),{rect:_,node:E,isOver:D,setNodeRef:M}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e,a=oV("Droppable"),{active:l,dispatch:i,over:o,measureDroppableContainers:d}=(0,F.useContext)(d0),c=(0,F.useRef)({disabled:r}),u=(0,F.useRef)(!1),m=(0,F.useRef)(null),p=(0,F.useRef)(null),{disabled:h,updateMeasurementsFor:f,timeout:x}={...d9,...s},g=oq(null!=f?f:n),v=dq({callback:(0,F.useCallback)(()=>{if(!u.current){u.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(g.current)?g.current:[g.current]),p.current=null},x)},[x]),disabled:h||!l}),[b,y]=oB((0,F.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),u.current=!1),e&&v.observe(e))},[v])),j=oq(t);return(0,F.useEffect)(()=>{v&&b.current&&(v.disconnect(),u.current=!1,v.observe(b.current))},[b,v]),(0,F.useEffect)(()=>(i({type:R.RegisterDroppable,element:{id:n,key:a,disabled:r,node:b,rect:m,data:j}}),()=>i({type:R.UnregisterDroppable,key:a,id:n})),[n]),(0,F.useEffect)(()=>{r!==c.current.disabled&&(i({type:R.SetDroppableDisabled,id:n,key:a,disabled:r}),c.current.disabled=r)},[n,a,r,i]),{active:l,rect:m,isOver:(null==o?void 0:o.id)===n,node:b,over:o,setNodeRef:y}}({id:c,data:S,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...m}}),{active:I,activatorEvent:A,activeNodeRect:L,attributes:z,setNodeRef:P,listeners:T,isDragging:O,over:$,setActivatorNodeRef:q,transform:H}=function(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e,a=oV("Draggable"),{activators:l,activatorEvent:i,active:o,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:m}=(0,F.useContext)(d0),{role:p=d7,roleDescription:h="draggable",tabIndex:f=0}=null!=s?s:{},x=(null==o?void 0:o.id)===t,g=(0,F.useContext)(x?d3:d8),[v,b]=oB(),[y,j]=oB(),w=(0,F.useMemo)(()=>l.reduce((e,r)=>{let{eventName:n,handler:s}=r;return e[n]=e=>{s(e,t)},e},{}),[l,t]),N=oq(r);return oF(()=>(u.set(t,{id:t,key:a,node:v,activatorNode:y,data:N}),()=>{let e=u.get(t);e&&e.key===a&&u.delete(t)}),[u,t]),{active:o,activatorEvent:i,activeNodeRect:d,attributes:(0,F.useMemo)(()=>({role:p,tabIndex:f,"aria-disabled":n,"aria-pressed":!!x&&p===d7||void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[n,p,f,x,h,c.draggable]),isDragging:x,listeners:n?void 0:w,node:v,over:m,setNodeRef:b,setActivatorNodeRef:j,transform:g}}({id:c,data:S,attributes:{...cf,...l},disabled:N.draggable}),B=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,F.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(M,P),U=!!I,W=U&&!v&&cn(x)&&cn(y),V=!j&&O,K=V&&W?H:null,X=W?null!=K?K:(null!=u?u:w)({rects:b,activeNodeRect:L,activeIndex:x,overIndex:y,index:k}):null,Y=cn(x)&&cn(y)?d({id:c,items:h,activeIndex:x,overIndex:y}):k,G=null==I?void 0:I.id,J=(0,F.useRef)({activeId:G,items:h,newIndex:Y,containerId:f}),Z=h!==J.current.items,Q=a({active:I,containerId:f,isDragging:O,isSorting:U,id:c,index:k,items:h,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:p,wasDragging:null!=J.current.activeId}),ee=function(e){let{disabled:t,index:r,node:n,rect:s}=e,[a,l]=(0,F.useState)(null),i=(0,F.useRef)(r);return oF(()=>{if(!t&&r!==i.current&&n.current){let e=s.current;if(e){let t=dm(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==i.current&&(i.current=r)},[t,r,n,s]),(0,F.useEffect)(()=>{a&&l(null)},[a]),a}({disabled:!Q,index:k,node:E,rect:_});return(0,F.useEffect)(()=>{U&&J.current.newIndex!==Y&&(J.current.newIndex=Y),f!==J.current.containerId&&(J.current.containerId=f),h!==J.current.items&&(J.current.items=h)},[U,Y,f,h]),(0,F.useEffect)(()=>{if(G===J.current.activeId)return;if(null!=G&&null==J.current.activeId){J.current.activeId=G;return}let e=setTimeout(()=>{J.current.activeId=G},50);return()=>clearTimeout(e)},[G]),{active:I,activeIndex:x,attributes:z,data:S,rect:_,index:k,newIndex:Y,items:h,isOver:D,isSorting:U,isDragging:O,listeners:T,node:E,overIndex:y,over:$,setNodeRef:B,setActivatorNodeRef:q,setDroppableNodeRef:M,setDraggableNodeRef:P,transform:null!=ee?ee:X,transition:ee||Z&&J.current.newIndex===k?ch:(!V||oG(A))&&p&&(U||Q)?oZ.Transition.toString({...p,property:cp}):void 0}}({id:e.id||`step-${t}`,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),u={transform:oZ.Transform.toString(o),transition:d,zIndex:c?10:1,opacity:c?.5:1};return(0,O.jsxs)("div",{ref:i,style:u,className:`relative group bg-white border rounded-xl overflow-hidden shadow-sm transition-all ${r===t?"border-teal-500 ring-1 ring-teal-500":"border-gray-200 hover:border-teal-300"}`,children:[(0,O.jsx)("div",{className:"absolute top-0 right-0 bottom-0 w-1.5 bg-teal-500 rounded-r-xl"}),(0,O.jsxs)("div",{className:"p-4 pr-6 flex items-start gap-4",children:[(0,O.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:(0,O.jsx)(J,{variant:"ghost",size:"icon",className:"text-red-400 hover:text-red-600 hover:bg-red-50",onClick:e=>{e.stopPropagation(),s(t)},children:(0,O.jsx)(rY,{className:"w-5 h-5"})})}),(0,O.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-bold text-sm shadow-sm mt-1",children:t+1}),(0,O.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>n(e,t),children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),e.is_final&&(0,O.jsx)("span",{className:"text-[10px] font-medium px-2 py-0.5 bg-teal-100 text-teal-700 rounded-full",children:"Ù…ÙˆØ§ÙÙ‚Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©"})]}),(0,O.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,O.jsx)("div",{className:"flex items-center justify-between pl-16",children:(0,O.jsxs)("p",{className:"text-gray-600 text-sm",children:[(0,O.jsx)("span",{className:"text-gray-400 ml-1",children:"Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:"}),e.users?.full_name?`Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${e.users.full_name}`:e.roles?.role_name?`Ø§Ù„Ø¯ÙˆØ±: ${e.roles.role_name}`:e.approver_user_id?`Ù…Ø³ØªØ®Ø¯Ù… #${e.approver_user_id}`:e.approver_role_id?`Ø¯ÙˆØ± #${e.approver_role_id}`:"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})}),(0,O.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,O.jsx)(cj,{className:"w-3.5 h-3.5 ml-1.5"}),(0,O.jsx)("span",{children:e.sla_hours?e.sla_hours>=24?`${e.sla_hours/24} ÙŠÙˆÙ… Ø§Ù„Ù…Ù‡Ù„Ø©`:`${e.sla_hours} Ø³Ø§Ø¹Ø© Ø§Ù„Ù…Ù‡Ù„Ø©`:"24 Ø³Ø§Ø¹Ø© Ø§Ù„Ù…Ù‡Ù„Ø©"})]})]})]}),(0,O.jsx)("div",{className:"absolute top-3 left-3 text-gray-300 cursor-move hover:text-teal-600 p-1",...a,...l,children:(0,O.jsx)(cw,{className:"w-4 h-4"})})]})]})}let ck=(0,em.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),cS=(0,em.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),cC=(0,em.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),c_=(0,em.default)("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),cR=(0,eh.createServerReference)("607c678b5b6bf12052a315866da4080070fcd2e44c",eh.callServer,void 0,eh.findSourceMapURL,"getUsers"),cE=(0,eh.createServerReference)("40a772889f936b3554b5e76f0f3aadbb2a6fc94155",eh.callServer,void 0,eh.findSourceMapURL,"createUser"),cD=(0,eh.createServerReference)("60508aadffae6fe5ab54c3c4cfc5c14b3f16ce3098",eh.callServer,void 0,eh.findSourceMapURL,"updateUser"),cM=(0,eh.createServerReference)("404304bf4f7d2ad9049ea57de59113f096647d025e",eh.callServer,void 0,eh.findSourceMapURL,"deleteUser"),cI=(0,eh.createServerReference)("00ce8bacda73955943e5b11310645b10de0b87ae7c",eh.callServer,void 0,eh.findSourceMapURL,"getAllRoles");function cA({onBack:e}){let t,[r,n]=(0,F.useState)([]),[s,a]=(0,F.useState)([]),[l,i]=(0,F.useState)([]),[o,d]=(0,F.useState)([]),[c,u]=(0,F.useState)(!0),[m,p]=(0,F.useState)(null),{toast:h}=(0,lb.useToast)(),[f,x]=(0,F.useState)(""),[g,v]=(0,F.useState)(""),[b,y]=(0,F.useState)(""),[j,w]=(0,F.useState)(!1),[N,k]=(0,F.useState)(null),[S,C]=(0,F.useState)({}),[_,R]=(0,F.useState)(!1),[E,D]=(0,F.useState)(null),[M,I]=(0,F.useState)(""),[A,L]=(0,F.useState)(""),[z,P]=(0,F.useState)(""),[T,$]=(0,F.useState)(""),[q,H]=(0,F.useState)(3),[B,U]=(0,F.useState)(""),[W,V]=(0,F.useState)("");(0,F.useEffect)(()=>{K()},[]);let K=async()=>{u(!0),p(null);try{let[e,t,r]=await Promise.all([cR(),cI(),lv()]);if(e.success&&e.data&&n(e.data),t.success&&t.data&&a(t.data),r.success&&r.data){i(r.data);let e=r.data.flatMap(e=>(e.departments||[]).map(t=>({...t,college_id:e.college_id})));d(e)}}catch(e){console.error("Failed to fetch data:",e),p("ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{u(!1)}},X=f?o.filter(e=>e.college_id===parseInt(f)):o,Y=r.filter(e=>{let t=e.full_name?.toLowerCase().includes(b.toLowerCase())||e.university_id?.includes(b),r=!f||e.departments_users_department_idTodepartments?.college_id===parseInt(f),n=!g||e.department_id===parseInt(g);return t&&r&&n}),G=async()=>{if(!M||!A||!q)return void h({title:"âŒ Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",variant:"destructive"});try{let e;B&&(e=parseInt(B));let t=await cE({university_id:A,full_name:M,password:T,phone:z,role_id:q,department_id:e});t.success?(h({title:"âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­"}),I(""),L(""),P(""),$(""),H(3),U(""),V(""),w(!1),await K()):h({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©",description:t.error,variant:"destructive"})}catch(e){h({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},es=async()=>{if(E)try{let e=await cM(E);e.success?(h({title:"âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­"}),await K(),N===E&&k(null),R(!1),D(null)):h({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù",description:e.error,variant:"destructive"})}catch(e){h({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},ea=async()=>{if(N&&S)try{let e=await cD(N,{full_name:S.full_name,role_id:S.role_id,department_id:S.department_id,is_active:S.is_active,permissions:S.permissions||[],password:S.password});e.success?(h({title:"âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­"}),k(null),C({}),await K()):h({title:"âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«",description:e.error,variant:"destructive"})}catch(e){h({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},el=async(e,t,r)=>{r.stopPropagation();try{let r=await cD(e,{is_active:!t});r.success?(h({title:t?"â›” ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…":"âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"}),await K()):h({title:"âŒ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«",description:r.error,variant:"destructive"})}catch(e){h({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}};return c?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]}):m?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:m,onRetry:K})]}):(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),(0,O.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[r.length," Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(J,{onClick:()=>w(!0),className:"bg-primary hover:bg-primary/90 gap-2",children:[(0,O.jsx)(ew,{className:"w-4 h-4"}),"Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"]}),(0,O.jsxs)(J,{onClick:e,variant:"ghost",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})]}),(0,O.jsx)(Z,{children:(0,O.jsx)(er,{className:"pt-6 space-y-4",children:(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,O.jsxs)("select",{value:f,onChange:e=>{x(e.target.value),v("")},className:"w-full px-3 py-2 border rounded-lg text-right bg-background",children:[(0,O.jsx)("option",{value:"",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),l.map(e=>(0,O.jsx)("option",{value:e.college_id,children:e.college_name},e.college_id))]}),(0,O.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border rounded-lg text-right bg-background",children:[(0,O.jsx)("option",{value:"",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),X.map(e=>(0,O.jsx)("option",{value:e.department_id,children:e.dept_name},e.department_id))]}),(0,O.jsxs)("div",{className:"relative",children:[(0,O.jsx)(eM,{className:"w-4 h-4 absolute right-3 top-3 text-muted-foreground"}),(0,O.jsx)(en,{placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ¯...",value:b,onChange:e=>y(e.target.value),className:"pr-10"})]})]})})}),j&&(0,O.jsxs)(Z,{className:"border-primary/50 bg-primary/5",children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:"Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"})}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"}),(0,O.jsx)(en,{placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",value:M,onChange:e=>I(e.target.value)})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ¯ / Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"}),(0,O.jsx)(en,{placeholder:"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ¯ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",value:A,onChange:e=>L(e.target.value)})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",children:"Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„"}),(0,O.jsx)(en,{placeholder:"Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",value:z,onChange:e=>P(e.target.value)})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"}),(0,O.jsx)(en,{type:"password",placeholder:"Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",value:T,onChange:e=>$(e.target.value)})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"Ù†ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ù„Ø¯ÙˆØ±)"}),(0,O.jsx)("select",{value:q,onChange:e=>H(parseInt(e.target.value)),className:"w-full px-3 py-1.5 h-9 text-sm border rounded-lg bg-transparent border-input shadow-xs focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-[color,box-shadow] outline-none",children:s.map(e=>(0,O.jsx)("option",{value:e.role_id,children:e.role_name},e.role_id))})]}),(t="student"===s.find(e=>e.role_id===q)?.role_name?.toLowerCase(),(0,O.jsxs)(O.Fragment,{children:[!t&&(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",children:"Ø§Ù„ÙƒÙ„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),(0,O.jsxs)("select",{value:W,onChange:e=>{V(e.target.value),U("")},className:"w-full px-3 py-1.5 h-9 text-sm border rounded-lg bg-transparent border-input shadow-xs focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-[color,box-shadow] outline-none",children:[(0,O.jsx)("option",{value:"",children:"Ø¹Ø§Ù… / Ø¨Ø¯ÙˆÙ† ÙƒÙ„ÙŠØ©"}),l.map(e=>(0,O.jsx)("option",{value:e.college_id,children:e.college_name},e.college_id))]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium mb-2 block",required:!0,children:"Ø§Ù„Ù‚Ø³Ù…"}),(0,O.jsxs)("select",{value:B,onChange:e=>U(e.target.value),className:"w-full px-3 py-1.5 h-9 text-sm border rounded-lg bg-transparent border-input shadow-xs focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] transition-[color,box-shadow] outline-none",children:[(0,O.jsx)("option",{value:"",children:"Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…"}),o.filter(e=>!!t||(W?e.college_id===parseInt(W):!e.college_id)).map(e=>(0,O.jsx)("option",{value:e.department_id,children:e.dept_name},e.department_id))]})]})]}))]}),(0,O.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,O.jsx)(J,{variant:"outline",onClick:()=>w(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(J,{onClick:G,children:"Ø¥Ø¶Ø§ÙØ©"})]})]})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),(0,O.jsxs)(et,{children:[Y.length," Ù…Ù† ",r.length," Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"]})]}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"space-y-2",children:Y.map(e=>(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-slate-50 flex items-center gap-3",children:[(0,O.jsx)("button",{onClick:()=>{N===e.user_id?k(null):(k(e.user_id),C(e))},className:"text-primary p-1 rounded",children:N===e.user_id?(0,O.jsx)(aM,{className:"w-5 h-5"}):(0,O.jsx)(aD,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"font-semibold",children:e.full_name}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:e.university_id})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø¯ÙˆØ±"}),(0,O.jsx)("p",{className:"font-medium",children:e.roles?.role_name||"-"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ù‚Ø³Ù…"}),(0,O.jsx)("p",{className:"font-medium",children:e.departments_users_department_idTodepartments?.dept_name||"-"})]}),(0,O.jsxs)("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[(0,O.jsx)("span",{className:`text-xs ${e.is_active?"text-primary":"text-muted-foreground"}`,children:e.is_active?"Ù†Ø´Ø·":"Ù…Ø¹Ø·Ù‘Ù„"}),(0,O.jsx)(r9,{checked:e.is_active,onCheckedChange:t=>{el(e.user_id,e.is_active,{stopPropagation:()=>{}})},dir:"ltr"})]}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),D(e.user_id),R(!0)},className:"text-destructive",children:(0,O.jsx)(rY,{className:"w-4 h-4"})})]})]})]}),N===e.user_id&&(0,O.jsxs)("div",{className:"p-6 bg-primary/5 border rounded-b-lg space-y-4",children:[(0,O.jsx)("h3",{className:"font-semibold",children:"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"}),(0,O.jsx)(en,{value:S.full_name||"",onChange:e=>C({...S,full_name:e.target.value}),className:"mt-1"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ø¯ÙˆØ±"}),(0,O.jsx)("select",{value:S.role_id||"",onChange:e=>C({...S,role_id:parseInt(e.target.value)}),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:s.map(e=>(0,O.jsx)("option",{value:e.role_id,children:e.role_name},e.role_id))})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ù‚Ø³Ù…"}),(0,O.jsxs)("select",{value:S.department_id||"",onChange:e=>C({...S,department_id:e.target.value?parseInt(e.target.value):null}),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[(0,O.jsx)("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† Ù‚Ø³Ù…"}),o.map(e=>(0,O.jsx)("option",{value:e.department_id,children:e.dept_name},e.department_id))]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"}),(0,O.jsx)(en,{type:"password",placeholder:"Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„ÙŠØ©",className:"mt-1",onChange:e=>C({...S,password:e.target.value})})]}),s.find(e=>e.role_id===S.role_id)?.role_name?.toLowerCase()!=="student"&&(0,O.jsxs)("div",{className:"space-y-3 border-t pt-4 col-span-full",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,O.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,O.jsx)(cC,{className:"w-5 h-5 text-primary"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-base font-semibold",children:"ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ø­Ø¯Ø¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ù†Ø­Ù‡Ø§ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¸Ù"})]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("review_requests")?e.filter(e=>"review_requests"!==e):[...e,"review_requests"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("review_requests")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("review_requests")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(e_,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©ØŒ Ø§Ù„Ø±ÙØ¶ØŒ ØªØ¹Ø¯ÙŠÙ„ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("review_requests")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("manage_forms")?e.filter(e=>"manage_forms"!==e):[...e,"manage_forms"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("manage_forms")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("manage_forms")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(ej,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆÙ†Ø´Ø± Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("manage_forms")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("manage_users")?e.filter(e=>"manage_users"!==e):[...e,"manage_users"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("manage_users")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("manage_users")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(ck,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø¥Ø¶Ø§ÙØ©ØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("manage_users")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("manage_departments")?e.filter(e=>"manage_departments"!==e):[...e,"manage_departments"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("manage_departments")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("manage_departments")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(eE,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„ÙƒÙ„ÙŠØ§Øª"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("manage_departments")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("view_reports")?e.filter(e=>"view_reports"!==e):[...e,"view_reports"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("view_reports")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("view_reports")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(ek,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("view_reports")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("manage_workflows")?e.filter(e=>"manage_workflows"!==e):[...e,"manage_workflows"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("manage_workflows")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("manage_workflows")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(c_,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("manage_workflows")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("grant_delegations")?e.filter(e=>"grant_delegations"!==e):[...e,"grant_delegations"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("grant_delegations")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("grant_delegations")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(cS,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ù…Ù†Ø­ Ø§Ù„ØªÙÙˆÙŠØ¶Ø§Øª"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"ØªÙÙˆÙŠØ¶ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¢Ø®Ø±ÙŠÙ†"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("grant_delegations")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})}),(0,O.jsx)("div",{onClick:()=>{let e=S.permissions||[],t=e.includes("audit_access")?e.filter(e=>"audit_access"!==e):[...e,"audit_access"];C({...S,permissions:t})},className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${S.permissions?.includes("audit_access")?"border-secondary bg-secondary/10 shadow-sm":"border-gray-200 hover:border-secondary/30 hover:bg-gray-50"}`,children:(0,O.jsxs)("div",{className:"flex items-start gap-3",children:[(0,O.jsx)("div",{className:`p-2 rounded-lg ${S.permissions?.includes("audit_access")?"bg-secondary text-white":"bg-gray-100 text-gray-600"}`,children:(0,O.jsx)(eM,{className:"w-5 h-5"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:"Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚"}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø³Ø¬Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆØ§Ù„ØªØ¯Ù‚ÙŠÙ‚"})]}),(0,O.jsx)("input",{type:"checkbox",checked:S.permissions?.includes("audit_access")||!1,onChange:()=>{},className:"w-5 h-5 rounded border-gray-300 text-secondary focus:ring-secondary"})]})})]})]})]}),(0,O.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,O.jsxs)(J,{variant:"outline",onClick:()=>k(null),children:[(0,O.jsx)(oN.X,{className:"w-4 h-4 mr-2"}),"Ø¥Ù„ØºØ§Ø¡"]}),(0,O.jsxs)(J,{onClick:ea,children:[(0,O.jsx)(l8,{className:"w-4 h-4 mr-2"}),"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"]})]})]})]},e.user_id))})})]}),(0,O.jsx)(ls,{open:_,onOpenChange:R,children:(0,O.jsxs)(li,{dir:"rtl",children:[(0,O.jsxs)(lo,{children:[(0,O.jsx)(lc,{children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ"}),(0,O.jsx)(lu,{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡."})]}),(0,O.jsxs)(ld,{children:[(0,O.jsx)(lp,{children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(lm,{onClick:es,className:"bg-destructive hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}let cL=(0,eh.createServerReference)("6029db3074835874f25a688a499851fb19c5aa0ed7",eh.callServer,void 0,eh.findSourceMapURL,"getReportsData"),cz=(0,eh.createServerReference)("40f15dad7a09bf4eae5e569dfab9587bde7813d1ff",eh.callServer,void 0,eh.findSourceMapURL,"getAuditLog");function cP({onBack:e}){let[t,r]=(0,F.useState)(null),[n,s]=(0,F.useState)([]),[a,l]=(0,F.useState)(!0),[i,o]=(0,F.useState)(null);(0,F.useEffect)(()=>{d()},[]);let d=async()=>{l(!0),o(null);try{let[e,t]=await Promise.all([cL(),cz({})]);e.success&&e.data?r(e.data):o(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±"),t.success&&t.data&&s(t.data)}catch(e){console.error("Failed to fetch data:",e),o("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{l(!1)}};if(a)return(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]});if(i)return(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:i,onRetry:d})]});let c=t?.stats||{},u=t?.byStatus||[],m=t?.byType||[],p=t?.recentRequests||[];return(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"ØªØ­Ù„ÙŠÙ„Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù†Ø¸Ø§Ù…"})]}),(0,O.jsxs)(J,{onClick:e,variant:"ghost",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"flex flex-row items-center justify-between pb-2",children:[(0,O.jsx)(ee,{className:"text-sm font-medium",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsx)(ej,{className:"w-4 h-4 text-muted-foreground"})]}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"text-2xl font-bold",children:c.total||0})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"flex flex-row items-center justify-between pb-2",children:[(0,O.jsx)(ee,{className:"text-sm font-medium",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©"}),(0,O.jsx)(eA,{className:"w-4 h-4 text-yellow-600"})]}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:c.pending||0})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"flex flex-row items-center justify-between pb-2",children:[(0,O.jsx)(ee,{className:"text-sm font-medium",children:"ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"}),(0,O.jsx)(e_,{className:"w-4 h-4 text-green-600"})]}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c.approved||0})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"flex flex-row items-center justify-between pb-2",children:[(0,O.jsx)(ee,{className:"text-sm font-medium",children:"Ù…Ø±ÙÙˆØ¶Ø©"}),(0,O.jsx)(rX,{className:"w-4 h-4 text-red-600"})]}),(0,O.jsx)(er,{children:(0,O.jsx)("div",{className:"text-2xl font-bold text-red-600",children:c.rejected||0})})]})]}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,O.jsxs)(Z,{children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:"Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©"})}),(0,O.jsx)(er,{children:(0,O.jsxs)("div",{className:"space-y-3",children:[u.map(e=>(0,O.jsxs)("div",{className:"flex items-center justify-between",children:[(0,O.jsxs)("div",{className:"flex items-center gap-2",children:[(0,O.jsx)("div",{className:`w-3 h-3 rounded-full ${"approved"===e.status?"bg-green-500":"rejected"===e.status?"bg-red-500":"pending"===e.status?"bg-yellow-500":"bg-gray-500"}`}),(0,O.jsx)("span",{className:"text-sm",children:"approved"===e.status?"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡Ø§":"rejected"===e.status?"Ù…Ø±ÙÙˆØ¶Ø©":"pending"===e.status?"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©":"processing"===e.status?"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©":e.status})]}),(0,O.jsx)("span",{className:"text-sm font-medium",children:e.count})]},e.status)),0===u.length&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª"})]})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:"Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹"})}),(0,O.jsx)(er,{children:(0,O.jsxs)("div",{className:"space-y-3",children:[m.map(e=>(0,O.jsxs)("div",{className:"flex items-center justify-between",children:[(0,O.jsx)("span",{className:"text-sm",children:e.type_name}),(0,O.jsx)("span",{className:"text-sm font-medium",children:e.count})]},e.type_name)),0===m.length&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª"})]})})]})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©"}),(0,O.jsx)(et,{children:"Ø¢Ø®Ø± 10 Ø·Ù„Ø¨Ø§Øª ØªÙ… ØªÙ‚Ø¯ÙŠÙ…Ù‡Ø§"})]}),(0,O.jsx)(er,{children:(0,O.jsxs)("div",{className:"space-y-2",children:[p.map(e=>(0,O.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"font-medium text-sm",children:e.requester?.full_name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}),(0,O.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.form_templates?.name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"," â€¢ ",new Date(e.submitted_at).toLocaleDateString("ar-SA")]})]}),(0,O.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${"approved"===e.status?"bg-green-100 text-green-700":"rejected"===e.status?"bg-red-100 text-red-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:"approved"===e.status?"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡":"rejected"===e.status?"Ù…Ø±ÙÙˆØ¶":"pending"===e.status?"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©":"processing"===e.status?"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©":e.status})]},e.request_id)),0===p.length&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø¯ÙŠØ«Ø©"})]})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ø³Ø¬Ù„ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«"}),(0,O.jsx)(et,{children:"Ø¢Ø®Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"})]}),(0,O.jsx)(er,{children:(0,O.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[n.slice(0,20).map(e=>(0,O.jsxs)("div",{className:"flex items-start gap-3 p-3 border rounded-lg text-sm",children:[(0,O.jsx)("div",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-primary mt-1"}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)("p",{className:"font-medium",children:e.action}),(0,O.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.user?.full_name||"Ø§Ù„Ù†Ø¸Ø§Ù…"," â€¢ ",new Date(e.timestamp).toLocaleString("ar-SA")]})]})]},e.log_id)),0===n.length&&(0,O.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø­Ø¯Ø§Ø«"})]})})]})]})}let cT=(0,eh.createServerReference)("40d5c2d43ca37bdac7a8d29465b32c5128c109a818",eh.callServer,void 0,eh.findSourceMapURL,"getAllDepartments"),cO=(0,eh.createServerReference)("407eb336260f429149ccb93bdb2270d7820614d5c8",eh.callServer,void 0,eh.findSourceMapURL,"createDepartment"),cF=(0,eh.createServerReference)("60c0fb90263bc7fea27ae31fee11e9d54d093ab948",eh.callServer,void 0,eh.findSourceMapURL,"updateDepartment"),c$=(0,eh.createServerReference)("4015c13f9a0d620bed6d6ca66d5fe143c85db335e1",eh.callServer,void 0,eh.findSourceMapURL,"deleteDepartment");function cq({onBack:e}){let[t,r]=(0,F.useState)([]),[n,s]=(0,F.useState)([]),[a,l]=(0,F.useState)([]),[i,o]=(0,F.useState)(!0),[d,c]=(0,F.useState)(null),[u,m]=(0,F.useState)(!1),[p,h]=(0,F.useState)(null),[f,x]=(0,F.useState)(""),[g,v]=(0,F.useState)(!1),[b,y]=(0,F.useState)(null),{toast:j}=(0,lb.useToast)(),[w,N]=(0,F.useState)({dept_name:"",college_id:null,manager_id:null});(0,F.useEffect)(()=>{k()},[]);let k=async()=>{o(!0),c(null);try{let[e,t,n]=await Promise.all([cT(),lv(),cR()]);if(e.success&&e.data?r(e.data):c(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"),t.success&&t.data&&s(t.data),n.success&&n.data){let e=n.data.filter(e=>e.roles?.role_name==="manager"||e.roles?.role_name==="dean"||e.roles?.role_name==="employee"||e.roles?.role_name==="admin");l(e)}}catch(e){console.error("Failed to fetch data:",e),c("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{o(!1)}},S=async()=>{if(!w.dept_name)return void j({title:"âŒ Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…",variant:"destructive"});try{let e=w.college_id?w.college_id:void 0,t=p?await cF(p,{...w,college_id:e}):await cO({...w,college_id:e||null,manager_id:w.manager_id||null});t.success?(j({title:`âœ… ØªÙ… ${p?"Ø§Ù„ØªØ­Ø¯ÙŠØ«":"Ø§Ù„Ø¥Ø¶Ø§ÙØ©"} Ø¨Ù†Ø¬Ø§Ø­`}),N({dept_name:"",college_id:null,manager_id:null}),m(!1),h(null),await k()):j({title:"âŒ ÙØ´Ù„Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©",description:t.error,variant:"destructive"})}catch(e){j({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},C=async()=>{if(b)try{let e=await c$(b);e.success?(j({title:"âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­"}),await k(),v(!1),y(null)):j({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù",description:e.error,variant:"destructive"})}catch(e){j({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},_=f?"none"===f?t.filter(e=>!e.college_id):t.filter(e=>e.college_id===parseInt(f)):t;return i?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]}):d?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:d,onRetry:k})]}):(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"}),(0,O.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[t.length," Ù‚Ø³Ù… ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(J,{onClick:()=>m(!0),className:"bg-primary gap-2",children:[(0,O.jsx)(ew,{className:"w-4 h-4"}),"Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯"]}),(0,O.jsxs)(J,{onClick:e,variant:"ghost",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})]}),(0,O.jsx)(Z,{children:(0,O.jsx)(er,{className:"pt-6",children:(0,O.jsxs)("select",{value:f,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[(0,O.jsx)("option",{value:"",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)("option",{value:"none",children:"Ø£Ù‚Ø³Ø§Ù… Ø¹Ø§Ù…Ø© (Ø¨Ø¯ÙˆÙ† ÙƒÙ„ÙŠØ©)"}),n.map(e=>(0,O.jsx)("option",{value:e.college_id,children:e.name},e.college_id))]})})}),u&&(0,O.jsxs)(Z,{className:"border-primary/50 bg-primary/5",children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:p?"ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø³Ù…":"Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯"})}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…"}),(0,O.jsx)(en,{placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø³Ù… Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨",value:w.dept_name,onChange:e=>N({...w,dept_name:e.target.value}),className:"mt-1"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„ÙƒÙ„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),(0,O.jsxs)("select",{value:w.college_id||"",onChange:e=>N({...w,college_id:e.target.value?parseInt(e.target.value):null}),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[(0,O.jsx)("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† ÙƒÙ„ÙŠØ© (Ù‚Ø³Ù… Ø¹Ø§Ù…)"}),n.map(e=>(0,O.jsx)("option",{value:e.college_id,children:e.name},e.college_id))]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),(0,O.jsxs)("select",{value:w.manager_id||"",onChange:e=>N({...w,manager_id:e.target.value?parseInt(e.target.value):null}),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[(0,O.jsx)("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù…"}),a.map(e=>(0,O.jsxs)("option",{value:e.user_id,children:[e.full_name," (",e.roles?.role_name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",")"]},e.user_id))]})]}),(0,O.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,O.jsxs)(J,{variant:"outline",onClick:()=>{N({dept_name:"",college_id:null,manager_id:null}),m(!1),h(null)},children:[(0,O.jsx)(oN.X,{className:"w-4 h-4 mr-2"}),"Ø¥Ù„ØºØ§Ø¡"]}),(0,O.jsxs)(J,{onClick:S,children:[(0,O.jsx)(l8,{className:"w-4 h-4 mr-2"}),p?"ØªØ­Ø¯ÙŠØ«":"Ø¥Ø¶Ø§ÙØ©"]})]})]})]}),0===_.length?(0,O.jsx)(e0,{icon:"ðŸ“š",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…",description:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù… ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…. Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯.",action:{label:"Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù…",onClick:()=>m(!0)}}):(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(e=>(0,O.jsx)(Z,{className:"hover:shadow-md transition-shadow",children:(0,O.jsx)(Q,{children:(0,O.jsxs)("div",{className:"flex justify-between items-start",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ee,{className:"text-lg",children:e.dept_name}),(0,O.jsx)(et,{className:"mt-1",children:n.find(t=>t.college_id===e.college_id)?.name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}),(0,O.jsxs)(et,{className:"mt-1",children:["Ø±Ø¦ÙŠØ³ Ø§Ù„Ù‚Ø³Ù…: ",e.users_departments_manager_idTousers?.full_name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:()=>{h(e.department_id),N({dept_name:e.dept_name,college_id:e.college_id,manager_id:e.manager_id}),m(!0)},className:"text-primary",children:(0,O.jsx)(eP,{className:"w-4 h-4"})}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:()=>{y(e.department_id),v(!0)},className:"text-destructive",children:(0,O.jsx)(rY,{className:"w-4 h-4"})})]})]})})},e.department_id))}),(0,O.jsx)(ls,{open:g,onOpenChange:v,children:(0,O.jsxs)(li,{dir:"rtl",children:[(0,O.jsxs)(lo,{children:[(0,O.jsx)(lc,{children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…ØŸ"}),(0,O.jsx)(lu,{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù‚Ø³Ù…."})]}),(0,O.jsxs)(ld,{children:[(0,O.jsx)(lp,{children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(lm,{onClick:C,className:"bg-destructive hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}function cH({onLogout:t,permissions:r=[],userData:n}){let[s,a]=(0,F.useState)("requests"),[l,i]=(0,F.useState)(null),o=e=>r.includes("all")||r.includes(e),[d,c]=(0,F.useState)([]),[u,m]=(0,F.useState)([]),[p,h]=(0,F.useState)([]),[f,x]=(0,F.useState)({totalActions:0,approved:0,rejected:0,pending:0}),[g,v]=(0,F.useState)(null),[b,y]=(0,F.useState)(!0),[j,w]=(0,F.useState)(null),[N,k]=(0,F.useState)(!1),[S,C]=(0,F.useState)("");(0,F.useEffect)(()=>{E(),M(),I(),D()},[]);let[_,R]=(0,F.useState)(!1),E=async()=>{y(!0),w(null);try{let e=await (0,rW.getEmployeeInbox)(n.university_id);e.success&&e.requests?(c(e.requests),e.requests.length>0&&"inbox"===s&&v(e.requests[0])):w(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯")}catch(e){console.error("Failed to fetch inbox:",e),w("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{y(!1)}},D=async()=>{try{let{getEmployeeHistory:t}=await e.A(92572),r=await t(n.university_id);r.success&&r.history&&m(r.history)}catch(e){console.error("Failed to fetch history:",e)}},M=async()=>{try{let e=await (0,rV.getEmployeeStats)(n.university_id);e.success&&e.data&&x(e.data)}catch(e){console.error("Failed to fetch stats:",e)}},I=async()=>{try{let e=await e2(n.university_id);e.success&&e.data&&h(e.data.map(e=>({id:e.form_id.toString(),label:e.name,icon:"ðŸ“"})))}catch(e){console.error("Failed to fetch available forms:",e)}},[A,L]=(0,F.useState)(null),[z,P]=(0,F.useState)(!1),T=async t=>{P(!0),L(!0);try{let{getRequestDetail:r}=await e.A(41022),s=await r(parseInt(t),n.university_id);s.success&&s.data?L(s.data):(console.error(s.error),L(null))}catch(e){console.error(e),L(null)}finally{P(!1)}},$=async e=>{if(g){k(!0),w(null);try{let t=await (0,rK.processRequest)(g.id,e,S,n.university_id);t.success?(await E(),await M(),C(""),v(null)):w(t.error||"ÙØ´Ù„ ÙÙŠ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡")}catch(e){console.error("Failed to process request:",e),w("Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹")}finally{k(!1)}}},q=e=>{let t={pending:{label:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",className:"bg-yellow-100 text-yellow-800"},processing:{label:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",className:"bg-blue-100 text-blue-800"},approved:{label:"Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡",className:"bg-green-100 text-green-800"},rejected:{label:"Ù…Ø±ÙÙˆØ¶",className:"bg-red-100 text-red-800"}},r=t[e]||t.pending;return(0,O.jsx)(e5,{className:r.className,children:r.label})};return(0,O.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",dir:"rtl",children:[(0,O.jsx)(ey,{userType:`Ù…ÙˆØ¸Ù - ${n.full_name}`,onLogout:t,onMenuClick:()=>R(!0)}),(0,O.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,O.jsx)("div",{className:"hidden md:block h-full",children:(0,O.jsx)(eD,{currentView:s,onViewChange:e=>a(e),userRole:"employee",permissions:r})}),(0,O.jsx)(rT,{open:_,onOpenChange:R,children:(0,O.jsx)(r$,{side:"right",className:"p-0 border-0 w-64",children:(0,O.jsx)(eD,{currentView:s,onViewChange:e=>{a(e),R(!1)},userRole:"employee",permissions:r,className:"h-full border-none w-full"})})}),(0,O.jsxs)("main",{className:"flex-1 overflow-auto",children:["requests"===s&&(0,O.jsxs)("div",{className:"p-6",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ø·Ù„Ø¨Ø§ØªÙŠ"}),(0,O.jsx)(Z,{children:(0,O.jsx)(er,{className:"p-6",children:(0,O.jsx)(e0,{icon:"ðŸ“",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª",description:"Ù„Ù… ØªÙ‚Ù… Ø¨ØªÙ‚Ø¯ÙŠÙ… Ø£ÙŠ Ø·Ù„Ø¨Ø§Øª Ø¨Ø¹Ø¯. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ 'Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯' Ù„ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨Ùƒ Ø§Ù„Ø£ÙˆÙ„."})})})]}),"inbox"===s&&(0,O.jsx)(O.Fragment,{children:b?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(eX,{})}):j?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(eQ,{error:j,onRetry:E})}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"p-6 border-b bg-muted/30",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª"}),(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}),(0,O.jsx)(ee,{className:"text-3xl text-yellow-600",children:f.pending})]})}),(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"ØªÙ… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©"}),(0,O.jsx)(ee,{className:"text-3xl text-green-600",children:f.approved})]})}),(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"ØªÙ… Ø§Ù„Ø±ÙØ¶"}),(0,O.jsx)(ee,{className:"text-3xl text-red-600",children:f.rejected})]})}),(0,O.jsx)(Z,{children:(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"}),(0,O.jsx)(ee,{className:"text-3xl",children:f.totalActions})]})})]})]}),0===d.length?(0,O.jsx)("div",{className:"p-6",children:(0,O.jsx)(e0,{icon:"âœ…",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",description:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯ ÙØ§Ø±Øº. Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù‡Ù†Ø§."})}):(0,O.jsxs)("div",{className:"flex h-full",children:[(0,O.jsxs)("div",{className:"w-full md:w-1/3 border-l border-border overflow-auto p-4 space-y-2",children:[(0,O.jsxs)("h3",{className:"font-semibold mb-4",children:["ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙˆØ§Ø±Ø¯ (",d.length,")"]}),d.map(e=>(0,O.jsx)(Z,{className:`cursor-pointer hover:bg-muted/50 transition-colors ${g?.id===e.id?"border-primary bg-primary/5":""}`,onClick:()=>v(e),children:(0,O.jsxs)(Q,{className:"p-4",children:[(0,O.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,O.jsx)(ee,{className:"text-base",children:e.type}),q(e.status)]}),(0,O.jsxs)(et,{className:"text-sm",children:["Ù…Ù‚Ø¯Ù… Ù…Ù†: ",e.applicant]}),(0,O.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.date})]})},e.id))]}),(0,O.jsx)("div",{className:"hidden md:flex md:w-2/3 flex-col overflow-auto p-6",children:g?(0,O.jsxs)("div",{className:"space-y-6",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-2xl font-bold mb-2",children:g.type}),(0,O.jsx)("p",{className:"text-muted-foreground",children:g.description})]}),(0,O.jsx)(Z,{className:"p-4 bg-muted/30",children:(0,O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ù…Ù‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("p",{className:"font-semibold",children:g.applicant})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…"}),(0,O.jsx)("p",{className:"font-semibold",children:g.date})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("p",{className:"font-semibold font-mono",children:g.id})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),q(g.status)]})]})}),(0,O.jsxs)(Z,{children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨"})}),(0,O.jsx)(er,{className:"space-y-4",children:Array.isArray(g.formSchema)&&g.submissionData&&Object.keys(g.submissionData).length>0?g.formSchema.map(e=>{if("section"===e.type)return(0,O.jsx)("h5",{className:"font-bold text-base text-primary border-b pb-2 mt-4 mb-2",children:e.label},e.id);let t=g.submissionData[e.key];return null==t||""===t?null:(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 border-b last:border-0 pb-2 last:pb-0",children:[(0,O.jsxs)("span",{className:"text-sm font-medium text-muted-foreground md:col-span-1",children:[e.label,":"]}),(0,O.jsx)("span",{className:"text-sm font-semibold text-foreground md:col-span-2 break-words whitespace-pre-wrap",children:"boolean"==typeof t?t?"Ù†Ø¹Ù…":"Ù„Ø§":"file"===e.type?"ØªÙ… Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù":"date"===e.type?new Date(t).toLocaleDateString("ar-EG"):String(t)})]},e.id)}):g.submissionData&&Object.keys(g.submissionData).length>0?Object.entries(g.submissionData).map(([e,t])=>(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 border-b last:border-0 pb-2 last:pb-0",children:[(0,O.jsxs)("span",{className:"text-sm font-medium text-muted-foreground md:col-span-1",children:[e,":"]}),(0,O.jsx)("span",{className:"text-sm font-semibold text-foreground md:col-span-2",children:String(t)})]},e)):(0,O.jsx)("p",{className:"text-sm text-yellow-600 bg-yellow-50 p-3 rounded border border-yellow-200",children:"âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ (Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©)"})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ø¥Ø¬Ø±Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)(et,{children:"Ù‚Ù… Ø¨Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø£Ùˆ Ø§Ù„Ø±ÙØ¶ Ù…Ø¹ Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚"})]}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"space-y-2",children:[(0,O.jsx)(ei,{htmlFor:"comment",children:"Ø§Ù„ØªØ¹Ù„ÙŠÙ‚"}),(0,O.jsx)(rU,{id:"comment",value:S,onChange:e=>C(e.target.value),placeholder:"Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§...",rows:4})]}),o("review_requests")?(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsxs)(J,{onClick:()=>$("approve"),disabled:N,className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,O.jsx)(e_,{className:"w-4 h-4 me-2"}),N?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...":"Ù…ÙˆØ§ÙÙ‚Ø©"]}),(0,O.jsxs)(J,{onClick:()=>$("reject"),disabled:N,variant:"destructive",className:"flex-1",children:[(0,O.jsx)(rX,{className:"w-4 h-4 me-2"}),"Ø±ÙØ¶"]})]}):(0,O.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg text-center",children:[(0,O.jsx)("p",{className:"text-yellow-800 font-medium",children:"âš ï¸ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsx)("p",{className:"text-yellow-600 text-sm mt-1",children:"ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠØ± Ù„Ù…Ù†Ø­Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"})]})]})]})]}):(0,O.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Ø§Ø®ØªØ± Ø·Ù„Ø¨Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©"})})]})]})}),"history"===s&&(0,O.jsxs)("div",{className:"p-6",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ø³Ø¬Ù„ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"}),(0,O.jsx)(et,{children:"Ø³Ø¬Ù„ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ Ø§ØªØ®Ø°ØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"})]}),(0,O.jsx)(er,{children:u.length>0?(0,O.jsx)("div",{className:"rounded-md border",children:(0,O.jsxs)("table",{className:"w-full text-sm",children:[(0,O.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,O.jsxs)("tr",{className:"text-right",children:[(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ù…Ù‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ø§Ù„ØªØ§Ø±ÙŠØ®"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ"}),(0,O.jsx)("th",{className:"p-3 font-medium",children:"Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"})]})}),(0,O.jsx)("tbody",{children:u.map(e=>(0,O.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 cursor-pointer",onClick:()=>T(e.requestId),children:[(0,O.jsx)("td",{className:"p-3 font-mono",children:e.requestId}),(0,O.jsx)("td",{className:"p-3",children:e.requestType}),(0,O.jsx)("td",{className:"p-3",children:e.applicant}),(0,O.jsx)("td",{className:"p-3",children:(0,O.jsx)(e5,{variant:"approve"===e.action?"default":"destructive",className:"approve"===e.action?"bg-green-600":"bg-red-600",children:"approve"===e.action?"Ù…ÙˆØ§ÙÙ‚Ø©":"Ø±ÙØ¶"})}),(0,O.jsxs)("td",{className:"p-3",children:[new Date(e.timestamp).toLocaleDateString("ar-SA"),(0,O.jsx)("span",{className:"text-xs text-muted-foreground block text-right",children:new Date(e.timestamp).toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]}),(0,O.jsx)("td",{className:"p-3 max-w-[200px] truncate",title:e.comment,children:e.comment||"-"}),(0,O.jsx)("td",{className:"p-3",children:q(e.status)})]},e.id))})]})}):(0,O.jsx)(e0,{icon:"ðŸ“…",title:"Ø§Ù„Ø³Ø¬Ù„ ÙØ§Ø±Øº",description:"Ù„Ù… ØªÙ‚Ù… Ø¨Ø£ÙŠ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø¨Ø¹Ø¯."})})]}),(0,O.jsx)(rT,{open:!!A,onOpenChange:e=>!e&&L(null),children:(0,O.jsx)(r$,{side:"left",className:"w-[400px] sm:w-[540px] overflow-y-auto",children:z?(0,O.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,O.jsx)(eX,{})}):A?(0,O.jsxs)("div",{className:"space-y-6 pt-6",children:[(0,O.jsxs)(rq,{className:"px-0 mb-4",children:[(0,O.jsx)(rH,{className:"text-2xl font-bold text-start",children:A.form_templates?.name}),(0,O.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[q(A.status),(0,O.jsx)("span",{className:"text-sm text-muted-foreground",children:new Date(A.submitted_at).toLocaleDateString("ar-SA")})]})]}),(0,O.jsxs)(Z,{children:[(0,O.jsx)(Q,{className:"pb-2",children:(0,O.jsx)(ee,{className:"text-base",children:"Ù…Ù‚Ø¯Ù… Ø§Ù„Ø·Ù„Ø¨"})}),(0,O.jsxs)(er,{children:[(0,O.jsx)("p",{className:"font-semibold",children:A.users?.full_name}),(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:A.users?.university_id})]})]}),(0,O.jsxs)(Z,{children:[(0,O.jsx)(Q,{className:"pb-2",children:(0,O.jsx)(ee,{className:"text-base",children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨"})}),(0,O.jsx)(er,{className:"space-y-4",children:Array.isArray(A.form_templates?.schema)&&A.submission_data&&Object.keys(A.submission_data).length>0?A.form_templates.schema.map(e=>{if("section"===e.type)return(0,O.jsx)("h5",{className:"font-bold text-base text-primary border-b pb-2 mt-4 mb-2",children:e.label},e.id);let t=A.submission_data[e.key];return null==t||""===t?null:(0,O.jsxs)("div",{className:"grid grid-cols-1 gap-1 border-b last:border-0 pb-2 last:pb-0",children:[(0,O.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[e.label,":"]}),(0,O.jsx)("span",{className:"text-sm font-semibold text-foreground break-words whitespace-pre-wrap",children:"boolean"==typeof t?t?"Ù†Ø¹Ù…":"Ù„Ø§":"file"===e.type?"ØªÙ… Ø¥Ø±ÙØ§Ù‚ Ù…Ù„Ù":"date"===e.type?new Date(t).toLocaleDateString("ar-EG"):String(t)})]},e.id)}):(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©"})})]})]}):null})})]}),"submit"===s&&(0,O.jsx)("div",{className:"p-6 max-w-4xl",children:l?(0,O.jsx)(eW,{requestType:l,requestTypes:p,userId:n.university_id,onBack:()=>i(null),onSubmit:()=>{i(null),a("inbox")}}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯"}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨"}),(0,O.jsx)(et,{children:"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªÙ‚Ø¯ÙŠÙ…Ù‡"})]}),(0,O.jsx)(er,{className:"space-y-4",children:(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.length>0?p.map(e=>(0,O.jsxs)(J,{onClick:()=>i(e.id),variant:"outline",className:"h-auto py-4 justify-start text-right",children:[(0,O.jsx)("span",{className:"text-xl me-2",children:e.icon||"ðŸ“"}),e.label]},e.id)):(0,O.jsx)("div",{className:"col-span-full text-center py-8 text-muted-foreground border rounded-lg bg-slate-50",children:(0,O.jsx)("p",{children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù…Ø§Ø°Ø¬ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})})})})]})]})}),"forms"===s&&o("manage_forms")&&(0,O.jsx)(o_,{onBack:()=>a("requests")}),"workflows"===s&&o("manage_workflows")&&(0,O.jsx)(cy,{onBack:()=>a("requests")}),"users"===s&&o("manage_users")&&(0,O.jsx)(cA,{onBack:()=>a("requests")}),"departments"===s&&o("manage_departments")&&(0,O.jsx)(cq,{onBack:()=>a("requests")}),"reports"===s&&o("view_reports")&&(0,O.jsx)(cP,{onBack:()=>a("requests")}),"settings"===s&&(0,O.jsxs)("div",{className:"p-6 max-w-4xl",children:[(0,O.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{children:[(0,O.jsx)(ee,{children:"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨"}),(0,O.jsx)(et,{children:"Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø´Ø®ØµÙŠØ©"})]}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø§Ø³Ù…"}),(0,O.jsx)("p",{className:"font-medium",children:n.full_name})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ"}),(0,O.jsx)("p",{className:"font-medium",children:n.university_id})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ø¯ÙˆØ±"}),(0,O.jsx)(e5,{children:"Ù…ÙˆØ¸Ù"})]})]})]})]})]})]})]})}let cB=(0,eh.createServerReference)("40eac5e78437fc3072e45b6525a224aae46929eab4",eh.callServer,void 0,eh.findSourceMapURL,"createCollege"),cU=(0,eh.createServerReference)("60745ff0549b4afcc6ddb5f35d8cf41e8389a21a1b",eh.callServer,void 0,eh.findSourceMapURL,"updateCollege"),cW=(0,eh.createServerReference)("40db0ced7f4017d6d2fd044d78fd4c49db9e2b8e56",eh.callServer,void 0,eh.findSourceMapURL,"deleteCollege");function cV({onBack:e}){let[t,r]=(0,F.useState)([]),[n,s]=(0,F.useState)([]),[a,l]=(0,F.useState)(!0),[i,o]=(0,F.useState)(null),[d,c]=(0,F.useState)(!1),[u,m]=(0,F.useState)(null),[p,h]=(0,F.useState)(!1),[f,x]=(0,F.useState)(null),{toast:g}=(0,lb.useToast)(),[v,b]=(0,F.useState)({name:"",dean_id:null});(0,F.useEffect)(()=>{y()},[]);let y=async()=>{l(!0),o(null);try{let[e,t]=await Promise.all([lv(),cR()]);if(e.success&&e.data?r(e.data):o(e.error||"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„ÙŠØ§Øª"),t.success&&t.data){let e=t.data.filter(e=>e.roles?.role_name==="dean"||e.roles?.role_name==="employee"||e.roles?.role_name==="admin");s(e)}}catch(e){console.error("Failed to fetch data:",e),o("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª")}finally{l(!1)}},j=async()=>{if(!v.name)return void g({title:"âŒ Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ÙƒÙ„ÙŠØ©",variant:"destructive"});try{let e=u?await cU(u,{name:v.name,dean_id:null===v.dean_id?void 0:v.dean_id}):await cB({name:v.name,dean_id:null===v.dean_id?void 0:v.dean_id});e.success?(g({title:`âœ… ØªÙ… ${u?"Ø§Ù„ØªØ­Ø¯ÙŠØ«":"Ø§Ù„Ø¥Ø¶Ø§ÙØ©"} Ø¨Ù†Ø¬Ø§Ø­`}),b({name:"",dean_id:null}),c(!1),m(null),await y()):g({title:"âŒ ÙØ´Ù„Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©",description:e.error,variant:"destructive"})}catch(e){g({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}},w=async()=>{if(f)try{let e=await cW(f);e.success?(g({title:"âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­"}),await y(),h(!1),x(null)):g({title:"âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù",description:e.error,variant:"destructive"})}catch(e){g({title:"âŒ Ø®Ø·Ø£",description:"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹",variant:"destructive"})}};return a?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eY,{})]}):i?(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsx)(J,{onClick:e,variant:"ghost",children:"Ø±Ø¬ÙˆØ¹"})]}),(0,O.jsx)(eQ,{error:i,onRetry:y})]}):(0,O.jsxs)("div",{className:"space-y-6 p-6",dir:"rtl",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h1",{className:"text-3xl font-bold",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª"}),(0,O.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[t.length," ÙƒÙ„ÙŠØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsxs)(J,{onClick:()=>c(!0),className:"bg-primary gap-2",children:[(0,O.jsx)(ew,{className:"w-4 h-4"}),"ÙƒÙ„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©"]}),(0,O.jsxs)(J,{onClick:e,variant:"ghost",className:"gap-2",children:[(0,O.jsx)(e$,{className:"w-4 h-4"}),"Ø±Ø¬ÙˆØ¹"]})]})]}),d&&(0,O.jsxs)(Z,{className:"border-primary/50 bg-primary/5",children:[(0,O.jsx)(Q,{children:(0,O.jsx)(ee,{children:u?"ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ„ÙŠØ©":"Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©"})}),(0,O.jsxs)(er,{className:"space-y-4",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",required:!0,children:"Ø§Ø³Ù… Ø§Ù„ÙƒÙ„ÙŠØ©"}),(0,O.jsx)(en,{placeholder:"Ù…Ø«Ø§Ù„: ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",value:v.name,onChange:e=>b({...v,name:e.target.value}),className:"mt-1"})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)(ei,{className:"text-sm font-medium",children:"Ø§Ù„Ø¹Ù…ÙŠØ¯ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),(0,O.jsxs)("select",{value:v.dean_id||"",onChange:e=>b({...v,dean_id:e.target.value?parseInt(e.target.value):null}),className:"w-full mt-1 px-3 py-2 border rounded-lg",children:[(0,O.jsx)("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† Ø¹Ù…ÙŠØ¯"}),n.map(e=>(0,O.jsxs)("option",{value:e.user_id,children:[e.full_name," (",e.roles?.role_name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",")"]},e.user_id))]})]}),(0,O.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,O.jsxs)(J,{variant:"outline",onClick:()=>{b({name:"",dean_id:null}),c(!1),m(null)},children:[(0,O.jsx)(oN.X,{className:"w-4 h-4 mr-2"}),"Ø¥Ù„ØºØ§Ø¡"]}),(0,O.jsxs)(J,{onClick:j,children:[(0,O.jsx)(l8,{className:"w-4 h-4 mr-2"}),u?"ØªØ­Ø¯ÙŠØ«":"Ø¥Ø¶Ø§ÙØ©"]})]})]})]}),0===t.length?(0,O.jsx)(e0,{icon:"ðŸ«",title:"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙ„ÙŠØ§Øª",description:"Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙ„ÙŠØ§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…. Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©.",action:{label:"Ø¥Ø¶Ø§ÙØ© ÙƒÙ„ÙŠØ©",onClick:()=>c(!0)}}):(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>(0,O.jsx)(Z,{className:"hover:shadow-md transition-shadow",children:(0,O.jsx)(Q,{children:(0,O.jsxs)("div",{className:"flex justify-between items-start",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(ee,{className:"text-lg",children:e.name}),(0,O.jsxs)(et,{className:"mt-1",children:["Ø§Ù„Ø¹Ù…ÙŠØ¯: ",e.users?.full_name||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"]}),(0,O.jsxs)(et,{className:"mt-1",children:[e.departments?.length||0," Ù‚Ø³Ù…"]})]}),(0,O.jsxs)("div",{className:"flex gap-2",children:[(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:()=>{m(e.college_id),b({name:e.name,dean_id:e.dean_id}),c(!0)},className:"text-primary",children:(0,O.jsx)(eP,{className:"w-4 h-4"})}),(0,O.jsx)(J,{variant:"ghost",size:"icon",onClick:()=>{x(e.college_id),h(!0)},className:"text-destructive",children:(0,O.jsx)(rY,{className:"w-4 h-4"})})]})]})})},e.college_id))}),(0,O.jsx)(ls,{open:p,onOpenChange:h,children:(0,O.jsxs)(li,{dir:"rtl",children:[(0,O.jsxs)(lo,{children:[(0,O.jsx)(lc,{children:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„ÙŠØ©ØŸ"}),(0,O.jsx)(lu,{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„ÙƒÙ„ÙŠØ© ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù‡Ø§."})]}),(0,O.jsxs)(ld,{children:[(0,O.jsx)(lp,{children:"Ø¥Ù„ØºØ§Ø¡"}),(0,O.jsx)(lm,{onClick:w,className:"bg-destructive hover:bg-destructive/90",children:"Ø­Ø°Ù"})]})]})})]})}let cK=(0,eh.createServerReference)("00615c4c6a68da232e0ce5da97300d91a17bc6045e",eh.callServer,void 0,eh.findSourceMapURL,"getAdminStats"),cX=[{id:"forms",title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ù…Ø§Ø°Ø¬",description:"Ø¥Ù†Ø´Ø§Ø¡ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø§Øª",icon:ej},{id:"workflows",title:"Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„",description:"Ø¥Ø¯Ø§Ø±Ø© Ù…Ø³Ø§Ø±Ø§Øª Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª",icon:c_},{id:"users",title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",description:"Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª",icon:eS},{id:"reports",title:"Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ØªØ¯Ù‚ÙŠÙ‚",description:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ³Ø¬Ù„ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚",icon:ek},{id:"departments",title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù…",description:"Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©",icon:eE},{id:"colleges",title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª",description:"Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ„ÙŠØ§Øª",icon:(0,em.default)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])}];function cY({onLogout:e,userData:t}){let[r,n]=(0,F.useState)("home"),[s,a]=(0,F.useState)({totalRequests:0,activeRequests:0,totalUsers:0,totalForms:0,completionRate:0}),[l,i]=(0,F.useState)(!0),[o,d]=(0,F.useState)(null);(0,F.useEffect)(()=>{m()},[]);let[c,u]=(0,F.useState)(!1),m=async()=>{i(!0),d(null);try{let e=await cK();a(e)}catch(e){console.error("Failed to fetch admin stats:",e),d("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª")}finally{i(!1)}};return(0,O.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",dir:"rtl",children:[(0,O.jsx)(ey,{userType:`Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…${t?` - ${t.full_name}`:""}`,onLogout:e,onMenuClick:()=>u(!0)}),(0,O.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,O.jsx)("div",{className:"hidden md:block h-full",children:(0,O.jsx)(eD,{currentView:r,onViewChange:n,userRole:"admin"})}),(0,O.jsx)(rT,{open:c,onOpenChange:u,children:(0,O.jsx)(r$,{side:"right",className:"p-0 border-0 w-64",children:(0,O.jsx)(eD,{currentView:r,onViewChange:e=>{n(e),u(!1)},userRole:"admin",className:"h-full border-none w-full"})})}),(0,O.jsxs)("main",{className:"flex-1 overflow-auto",children:["home"===r&&(0,O.jsxs)("div",{className:"p-6 space-y-6",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"}),(0,O.jsx)("p",{className:"text-muted-foreground",children:"Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©"})]}),l?(0,O.jsx)(eX,{}):o?(0,O.jsx)(eQ,{error:o,onRetry:m}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),(0,O.jsx)(ee,{className:"text-3xl",children:s.totalRequests})]}),(0,O.jsx)(er,{children:(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©"}),(0,O.jsx)(ee,{className:"text-3xl text-yellow-600",children:s.activeRequests})]}),(0,O.jsx)(er,{children:(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†"}),(0,O.jsx)(ee,{className:"text-3xl text-primary",children:s.totalUsers})]}),(0,O.jsx)(er,{children:(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"})})]}),(0,O.jsxs)(Z,{children:[(0,O.jsxs)(Q,{className:"pb-2",children:[(0,O.jsx)(et,{children:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²"}),(0,O.jsxs)(ee,{className:"text-3xl text-green-600",children:[s.completionRate,"%"]})]}),(0,O.jsx)(er,{children:(0,O.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©"})})]})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…"}),(0,O.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cX.map(e=>{let t=e.icon;return(0,O.jsx)(Z,{className:"cursor-pointer hover:shadow-lg transition-shadow hover:border-primary",onClick:()=>n(e.id),children:(0,O.jsx)(Q,{children:(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,O.jsx)(t,{className:"w-6 h-6 text-primary"})}),(0,O.jsxs)("div",{className:"flex-1",children:[(0,O.jsx)(ee,{className:"text-lg",children:e.title}),(0,O.jsx)(et,{className:"text-sm mt-1",children:e.description})]})]})})},e.id)})})]})]})]}),"forms"===r&&(0,O.jsx)(o_,{onBack:()=>n("home")}),"workflows"===r&&(0,O.jsx)(cy,{onBack:()=>n("home")}),"users"===r&&(0,O.jsx)(cA,{onBack:()=>n("home")}),"reports"===r&&(0,O.jsx)(cP,{onBack:()=>n("home")}),"departments"===r&&(0,O.jsx)(cq,{onBack:()=>n("home")}),"colleges"===r&&(0,O.jsx)(cV,{onBack:()=>n("home")})]})]})]})}function cG(){let[e,t]=(0,F.useState)(!1),[r,n]=(0,F.useState)(null),[s,a]=(0,F.useState)(!0);(0,F.useEffect)(()=>{let e=sessionStorage.getItem("current_user");if(e)try{let r=JSON.parse(e);console.log("âœ… Ø¬Ù„Ø³Ø© Ù…Ø­ÙÙˆØ¸Ø©:",r),n(r),t(!0)}catch(e){console.error("Failed to parse stored user:",e),sessionStorage.removeItem("current_user")}a(!1)},[]);let l=()=>{console.log("ðŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"),t(!1),n(null),sessionStorage.removeItem("current_user")};if(s)return(0,O.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,O.jsxs)("div",{className:"text-center",children:[(0,O.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,O.jsx)("p",{className:"text-muted-foreground",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})});if(!e||!r)return(0,O.jsx)(ex,{onLogin:(e,r=[])=>{let s=sessionStorage.getItem("current_user");if(s)try{let e=JSON.parse(s);console.log("âœ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù†Ø§Ø¬Ø­:",e),n(e),t(!0)}catch(e){console.error("Error reading user data:",e)}}});console.log("ðŸ“Š Dashboard Render:",{role:r.role,userData:r});let i=r.role.toLowerCase();switch(!0){case"student"===i:return(0,O.jsx)(rB,{onLogout:l,userData:r});case"employee"===i:case"dean"===i:case"head_of_department"===i:case"manager"===i:case"vice_dean"===i:return(0,O.jsx)(cH,{onLogout:l,permissions:r.permissions,userData:r});case"admin"===i:return(0,O.jsx)(cY,{onLogout:l,userData:r});default:if(r.permissions&&r.permissions.length>0)return(0,O.jsx)(cH,{onLogout:l,permissions:r.permissions,userData:r});return(0,O.jsx)(rB,{onLogout:l,userData:r})}}e.s(["default",()=>cG],31713)}]);